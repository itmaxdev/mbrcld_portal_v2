<ng-container *ngIf="ready; else loading">
  <form
    [formGroup]="membershipSelectionForm"
    (ngSubmit)="onSubmit()"
    class="form-v3 filledColor formBlock"
  >
    <!-- Achievements Section -->
    <div class="formGroup">
      <div class="grpInfo">
        <div class="title" i18n>Achievements</div>
        <div class="textBox sm">
          <p i18n>
            This section requires you to provide your top 3 career specific achievements within your
            career history.
          </p>
        </div>
      </div>

      <div class="inputList">
        <div class="addBtnWrap">
          <button
            type="button"
            class="plusBtn"
            (click)="openAddAchievementDialog()"
            [disabled]="achievements.length >= 3"
          >
            <svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 8.82355V21.1765"
                stroke="currentcolor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M8.82422 15H21.1772"
                stroke="currentcolor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>

        <div *ngIf="achievements.length === 0" class="noData">
          <div class="iconBox">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.1"
              width="512"
              height="512"
              viewBox="0 0 64 64"
              xml:space="preserve"
            >
              <path
                d="M26 48c-1.08 0-2.04-.02-2.95-.07-.54-.03-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.98-1.05-.95c-.91.05-1.87.07-2.95.07zM26 36c-1.08 0-2.04-.02-2.95-.07-.54-.02-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.97-1.05-.95c-.91.05-1.87.07-2.95.07zM26 24c-1.08 0-2.04-.02-2.95-.07-.54-.03-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.98-1.05-.95c-.91.05-1.87.07-2.95.07zM32.27 53.69c-6.08.6-12.75.29-18.06-.85a1.003 1.003 0 0 0-.42 1.96c3.66.79 7.88 1.2 12.21 1.2 2.18 0 4.36-.11 6.47-.31a1 1 0 1 0-.19-1.99z"
                fill="currentcolor"
              />
              <path
                d="M10.32 51.79C6.36 50.46 4 48.67 4 47v-8.23C7.96 42.19 17.19 44 26 44c2.01 0 4-.09 5.93-.26.55-.05.96-.54.91-1.09s-.54-.94-1.09-.91c-1.87.17-3.8.26-5.75.26-12.96 0-22-3.69-22-7v-8.23C7.96 30.19 17.19 32 26 32c3.55 0 6.97-.27 10.17-.81.54-.09.91-.61.82-1.15s-.61-.92-1.15-.82c-3.09.52-6.4.79-9.83.79-12.96 0-22-3.69-22-7v-8.23c3.96 3.42 13.19 5.23 22 5.23s18.04-1.81 22-5.23v8.23c0 1.96-3.16 4.01-8.26 5.37-.53.14-.85.69-.71 1.22.12.45.52.74.97.74.08 0 .17-.01.26-.03 3.49-.93 6.1-2.15 7.74-3.56v4.29c0 .55.45 1 1 1s1-.45 1-1V11c0-5.85-12.37-9-24-9-4.33 0-8.55.42-12.21 1.2-.54.12-.88.65-.77 1.19.12.54.65.88 1.19.77C17.75 4.4 21.82 4 26.01 4c12.96 0 22 3.69 22 7s-9.04 7-22 7S4 14.31 4 11c0-1.67 2.36-3.46 6.32-4.79.52-.18.81-.74.63-1.27-.18-.52-.74-.8-1.27-.63C4.73 5.97 2 8.35 2 11v36c0 2.65 2.73 5.03 7.68 6.69.11.04.21.05.32.05.42 0 .81-.26.95-.68.18-.52-.11-1.09-.63-1.27z"
                fill="currentcolor"
              />
              <path
                d="M48 34c-7.72 0-14 6.28-14 14s6.28 14 14 14c2.99 0 5.84-.94 8.25-2.7.45-.33.54-.95.21-1.4s-.95-.54-1.4-.21a11.834 11.834 0 0 1-7.07 2.32c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12c0 2.56-.8 5.01-2.32 7.07-.33.44-.23 1.07.21 1.4s1.07.23 1.4-.21c1.77-2.41 2.7-5.26 2.7-8.25 0-7.72-6.28-14-14-14z"
                fill="currentcolor"
              />
              <path
                d="M53.71 42.29a.996.996 0 0 0-1.41 0l-4.29 4.29-4.29-4.29a.996.996 0 1 0-1.41 1.41l4.29 4.29-4.29 4.29a.996.996 0 0 0 .71 1.7c.26 0 .51-.1.71-.29l4.29-4.29 4.29 4.29c.2.2.45.29.71.29s.51-.1.71-.29a.996.996 0 0 0 0-1.41l-4.29-4.29 4.29-4.29a.996.996 0 0 0 0-1.41z"
                fill="currentcolor"
              />
            </svg>
          </div>
          <div class="t" i18n>No Records Found</div>
        </div>

        <div class="inputItem" *ngFor="let achievement of achievements">
          <div class="inner">
            <div class="contentBox">
              <div class="t">{{ achievement | lang: 'summaryOfAchievement' }}</div>
              <div class="textBox sm">
                <p>
                  <span i18n>Year of Achievement</span>: {{ achievement.yearOfAchievement }}<br />
                  {{ achievement | lang: 'organization' }}
                </p>
              </div>
            </div>
            <div class="tools">
              <button
                type="button"
                class="iconBtn btnGreen"
                (click)="openEditAchievementDialog(achievement)"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 20H21"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M16.5 3.50001C16.8978 3.10219 17.4374 2.87869 18 2.87869C18.2786 2.87869 18.5544 2.93356 18.8118 3.04017C19.0692 3.14677 19.303 3.30303 19.5 3.50001C19.697 3.697 19.8532 3.93085 19.9598 4.18822C20.0665 4.44559 20.1213 4.72144 20.1213 5.00001C20.1213 5.27859 20.0665 5.55444 19.9598 5.81181C19.8532 6.06918 19.697 6.30303 19.5 6.50001L7 19L3 20L4 16L16.5 3.50001Z"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <button type="button" class="iconBtn btnRed" (click)="removeAchievement(achievement)">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 6H5H21"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M10 11V17"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M14 11V17"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Memberships Section -->
    <div class="formGroup">
      <div class="grpInfo">
        <div class="title" i18n>Memberships</div>
        <div class="textBox sm">
          <p i18n>
            This section requires you to provide your memberships and affiliations with occupational
            or social societies locally or internationally.
          </p>
        </div>
      </div>

      <div class="inputBox">
        <div class="input-field normal">
          <label i18n>Are you a member in any institution or board?</label>
          <p-dropdown
            [options]="booleanOptions"
            formControlName="isMember"
            placeholder="Select Option"
            i18n-placeholder
            (onChange)="onMembershipSelectionChange($event)"
          ></p-dropdown>
          <small appControlValidationError controlName="isMember" class="p-invalid"></small>
        </div>
      </div>

      <div class="inputList" *ngIf="isMemberOfInstitution">
        <div class="addBtnWrap">
          <button type="button" class="plusBtn" (click)="openAddMembershipDialog()">
            <svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 8.82355V21.1765"
                stroke="currentcolor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M8.82422 15H21.1772"
                stroke="currentcolor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>

        <div *ngIf="memberships.length === 0" class="noData">
          <div class="iconBox">
            <!-- reusing same icon for consistency -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.1"
              width="512"
              height="512"
              viewBox="0 0 64 64"
              xml:space="preserve"
            >
              <path
                d="M26 48c-1.08 0-2.04-.02-2.95-.07-.54-.03-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.98-1.05-.95c-.91.05-1.87.07-2.95.07zM26 36c-1.08 0-2.04-.02-2.95-.07-.54-.02-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.97-1.05-.95c-.91.05-1.87.07-2.95.07zM26 24c-1.08 0-2.04-.02-2.95-.07-.54-.03-1.02.4-1.05.95s.4 1.02.95 1.05c.94.05 1.94.07 3.05.07s2.11-.02 3.05-.07c.55-.03.98-.5.95-1.05s-.5-.98-1.05-.95c-.91.05-1.87.07-2.95.07zM32.27 53.69c-6.08.6-12.75.29-18.06-.85a1.003 1.003 0 0 0-.42 1.96c3.66.79 7.88 1.2 12.21 1.2 2.18 0 4.36-.11 6.47-.31a1 1 0 1 0-.19-1.99z"
                fill="currentcolor"
              />
              <path
                d="M10.32 51.79C6.36 50.46 4 48.67 4 47v-8.23C7.96 42.19 17.19 44 26 44c2.01 0 4-.09 5.93-.26.55-.05.96-.54.91-1.09s-.54-.94-1.09-.91c-1.87.17-3.8.26-5.75.26-12.96 0-22-3.69-22-7v-8.23C7.96 30.19 17.19 32 26 32c3.55 0 6.97-.27 10.17-.81.54-.09.91-.61.82-1.15s-.61-.92-1.15-.82c-3.09.52-6.4.79-9.83.79-12.96 0-22-3.69-22-7v-8.23c3.96 3.42 13.19 5.23 22 5.23s18.04-1.81 22-5.23v8.23c0 1.96-3.16 4.01-8.26 5.37-.53.14-.85.69-.71 1.22.12.45.52.74.97.74.08 0 .17-.01.26-.03 3.49-.93 6.1-2.15 7.74-3.56v4.29c0 .55.45 1 1 1s1-.45 1-1V11c0-5.85-12.37-9-24-9-4.33 0-8.55.42-12.21 1.2-.54.12-.88.65-.77 1.19.12.54.65.88 1.19.77C17.75 4.4 21.82 4 26.01 4c12.96 0 22 3.69 22 7s-9.04 7-22 7S4 14.31 4 11c0-1.67 2.36-3.46 6.32-4.79.52-.18.81-.74.63-1.27-.18-.52-.74-.8-1.27-.63C4.73 5.97 2 8.35 2 11v36c0 2.65 2.73 5.03 7.68 6.69.11.04.21.05.32.05.42 0 .81-.26.95-.68.18-.52-.11-1.09-.63-1.27z"
                fill="currentcolor"
              />
            </svg>
          </div>
          <div class="t" i18n>No Records Found</div>
        </div>

        <div class="inputItem" *ngFor="let membership of memberships">
          <div class="inner">
            <div class="contentBox">
              <div class="t">{{ membership | lang: 'institutionName' }}</div>
              <div class="textBox sm">
                <p>
                  {{ membership | lang: 'roleName' }}<br />
                  <span i18n>Joining Date</span>: {{ membership.joinDate | date: 'yyyy' }}
                </p>
              </div>
            </div>
            <div class="tools">
              <button
                type="button"
                class="iconBtn btnGreen"
                (click)="openEditMembershipDialog(membership)"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 20H21"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M16.5 3.50001C16.8978 3.10219 17.4374 2.87869 18 2.87869C18.2786 2.87869 18.5544 2.93356 18.8118 3.04017C19.0692 3.14677 19.303 3.30303 19.5 3.50001C19.697 3.697 19.8532 3.93085 19.9598 4.18822C20.0665 4.44559 20.1213 4.72144 20.1213 5.00001C20.1213 5.27859 20.0665 5.55444 19.9598 5.81181C19.8532 6.06918 19.697 6.30303 19.5 6.50001L7 19L3 20L4 16L16.5 3.50001Z"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <button type="button" class="iconBtn btnRed" (click)="removeMembership(membership)">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 6H5H21"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M10 11V17"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M14 11V17"
                    stroke="currentcolor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="formGroup">
      <div class="inputBox">
        <div class="input-field normal full buttonWrap">
          <button type="button" class="more wAuto gray" (click)="goBack()">
            <span i18n>Previous</span>
          </button>
          <button
            type="submit"
            class="more wAuto"
            [disabled]="membershipSelectionForm.invalid || isFormSubmitting"
          >
            <span i18n>Next</span>
          </button>
        </div>
      </div>
    </div>
  </form>
</ng-container>

<ng-template #loading>
  <div class="flex flex-grow justify-center items-center py-8">
    <p-progressSpinner></p-progressSpinner>
  </div>
</ng-template>

<!-- Achievement Modal -->
<p-dialog
  [(visible)]="showAchievementDialog"
  [modal]="true"
  [showHeader]="false"
  [focusTrap]="false"
  [dismissableMask]="true"
  styleClass="custom-popup-box"
  appendTo="body"
  [contentStyle]="{
    'padding': '0',
    'max-height': '90vh',
    'overflow-y': 'auto',
    'background': 'transparent',
    'border': 'none'
  }"
>
  <div
    class="popupBox mdBox no-shadow no-margin"
    id="formPop"
    style="display: block; position: relative; z-index: 1;"
  >
    <div class="inner">
      <div class="topBox">
        <div class="title" i18n>
          {{ editingAchievement.id ? 'Edit Achievement' : 'Add Achievement' }}
        </div>
        <a href="javascript:void(0)" class="plusBtn" (click)="showAchievementDialog = false">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18 6L6 18"
              stroke="currentcolor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M6 6L18 18"
              stroke="currentcolor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </a>
      </div>
      <div class="formBox">
        <form
          [formGroup]="achievementForm"
          (ngSubmit)="saveAchievement()"
          class="form-v3 filledColor noPad"
        >
          <div class="inputBox">
            <div class="input-field normal full">
              <label for="organization" i18n
                >Organization/Project/Situation <span class="text-red-500">*</span></label
              >
              <input
                formControlName="organization"
                type="text"
                id="organization"
                placeholder="Enter in English"
                i18n-placeholder
              />
              <small appControlValidationError controlName="organization" class="p-invalid"></small>
            </div>
            <div class="input-field normal full">
              <label for="organization_AR" i18n
                >الجهة / المشروع / الحالة <span class="text-red-500">*</span></label
              >
              <input
                formControlName="organization_AR"
                type="text"
                id="organization_AR"
                placeholder="أدخل بالعربية"
                i18n-placeholder
              />
              <small
                appControlValidationError
                controlName="organization_AR"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal">
              <label for="summaryOfAchievement" i18n
                >Summary of achievement <span class="text-red-500">*</span></label
              >
              <input
                formControlName="summaryOfAchievement"
                type="text"
                id="summaryOfAchievement"
                placeholder="Outcome in English"
                i18n-placeholder
              />
              <small
                appControlValidationError
                controlName="summaryOfAchievement"
                class="p-invalid"
              ></small>
            </div>
            <div class="input-field normal">
              <label for="summaryOfAchievement_AR" i18n
                >ملخص الإنجاز <span class="text-red-500">*</span></label
              >
              <input
                formControlName="summaryOfAchievement_AR"
                type="text"
                id="summaryOfAchievement_AR"
                placeholder="النتيجة بالعربية"
                i18n-placeholder
              />
              <small
                appControlValidationError
                controlName="summaryOfAchievement_AR"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal full">
              <label for="description" i18n>Description <span class="text-red-500">*</span></label>
              <textarea
                formControlName="description"
                rows="3"
                placeholder="Goal, Outcome, Role (English)"
                i18n-placeholder
              ></textarea>
              <small appControlValidationError controlName="description" class="p-invalid"></small>
            </div>
            <div class="input-field normal full">
              <label for="description_AR" i18n
                >وصف الانجاز <span class="text-red-500">*</span></label
              >
              <textarea
                formControlName="description_AR"
                rows="3"
                placeholder="الهدف، النتيجة، الدور (بالعربية)"
                i18n-placeholder
              ></textarea>
              <small
                appControlValidationError
                controlName="description_AR"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal">
              <label i18n>Population Impacted <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="populationImpactOptions"
                formControlName="populationImpact"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small
                appControlValidationError
                controlName="populationImpact"
                class="p-invalid"
              ></small>
            </div>
            <div class="input-field normal">
              <label i18n>Financial Impact <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="financialImpactOptions"
                formControlName="financialImpact"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small
                appControlValidationError
                controlName="financialImpact"
                class="p-invalid"
              ></small>
            </div>
            <div class="input-field normal">
              <label i18n>Achievement Impacted <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="achievementImpactOptions"
                formControlName="achievementImpact"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small
                appControlValidationError
                controlName="achievementImpact"
                class="p-invalid"
              ></small>
            </div>
            <div class="input-field normal">
              <label i18n>Year of achievement <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="yearOptions"
                formControlName="yearOfAchievement"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small
                appControlValidationError
                controlName="yearOfAchievement"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal full buttonWrap">
              <button
                type="submit"
                class="more wAuto"
                [disabled]="achievementForm.invalid || isFormSubmitting"
              >
                <span i18n>Save Achievement</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</p-dialog>

<!-- Membership Modal -->
<p-dialog
  [(visible)]="showMembershipDialog"
  [modal]="true"
  [showHeader]="false"
  [focusTrap]="false"
  [dismissableMask]="true"
  styleClass="custom-popup-box"
  appendTo="body"
  [contentStyle]="{
    'padding': '0',
    'max-height': '90vh',
    'overflow-y': 'auto',
    'background': 'transparent',
    'border': 'none'
  }"
>
  <div
    class="popupBox mdBox no-shadow no-margin"
    id="formPop"
    style="display: block; position: relative; z-index: 1;"
  >
    <div class="inner">
      <div class="topBox">
        <div class="title" i18n>
          {{ editingMembership.id ? 'Edit Membership' : 'Add Membership' }}
        </div>
        <a href="javascript:void(0)" class="plusBtn" (click)="showMembershipDialog = false">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18 6L6 18"
              stroke="currentcolor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M6 6L18 18"
              stroke="currentcolor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </a>
      </div>
      <div class="formBox">
        <form
          [formGroup]="membershipForm"
          (ngSubmit)="saveMembership()"
          class="form-v3 filledColor noPad"
        >
          <div class="inputBox">
            <div class="input-field normal">
              <label for="institutionName" i18n
                >Institution Name <span class="text-red-500">*</span></label
              >
              <input
                formControlName="institutionName"
                type="text"
                id="institutionName"
                placeholder="In English"
                i18n-placeholder
              />
              <small
                appControlValidationError
                controlName="institutionName"
                class="p-invalid"
              ></small>
            </div>
            <div class="input-field normal">
              <label for="institutionName_AR" i18n
                >اسم الجهه <span class="text-red-500">*</span></label
              >
              <input
                formControlName="institutionName_AR"
                type="text"
                id="institutionName_AR"
                placeholder="بالعربية"
                i18n-placeholder
              />
              <small
                appControlValidationError
                controlName="institutionName_AR"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal">
              <label for="roleName" i18n>Role <span class="text-red-500">*</span></label>
              <input
                formControlName="roleName"
                type="text"
                id="roleName"
                placeholder="In English"
                i18n-placeholder
              />
              <small appControlValidationError controlName="roleName" class="p-invalid"></small>
            </div>
            <div class="input-field normal">
              <label for="roleName_AR" i18n
                >دورك فى الجهه <span class="text-red-500">*</span></label
              >
              <input
                formControlName="roleName_AR"
                type="text"
                id="roleName_AR"
                placeholder="بالعربية"
                i18n-placeholder
              />
              <small appControlValidationError controlName="roleName_AR" class="p-invalid"></small>
            </div>

            <div class="input-field normal">
              <label i18n>Joining Date <span class="text-red-500">*</span></label>
              <div class="date-wrapper">
                <input type="date" formControlName="joinDate" />
                <div class="iconBox">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M16 2V6"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 2V6"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M3 10H21"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </div>
              <small appControlValidationError controlName="joinDate" class="p-invalid"></small>
            </div>

            <div class="input-field normal">
              <label i18n>Active <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="activeOptions"
                formControlName="active"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small appControlValidationError controlName="active" class="p-invalid"></small>
            </div>

            <div class="input-field normal">
              <label i18n>Membership level <span class="text-red-500">*</span></label>
              <p-dropdown
                [options]="membershipLevelOptions"
                formControlName="membershipLevel"
                appendTo="body"
                placeholder="Select"
                i18n-placeholder
              ></p-dropdown>
              <small
                appControlValidationError
                controlName="membershipLevel"
                class="p-invalid"
              ></small>
            </div>

            <div class="input-field normal full buttonWrap">
              <button
                type="submit"
                class="more wAuto"
                [disabled]="membershipForm.invalid || isFormSubmitting"
              >
                <span i18n>Save Membership</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</p-dialog>

<p-confirmDialog appendTo="body"></p-confirmDialog>
