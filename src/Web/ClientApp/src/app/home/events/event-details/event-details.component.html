<!-- <div class="inline-flex items-center cursor-pointer contents" (click)="goBack()">
  <img src="assets/images/ico-arrow-left.svg" class="w-6 h-6" alt="" />
  <p class="text-lg ml-2 text-gray-700" i18n>
    Go Back
  </p>
</div>
<app-card *ngIf="ready; else loading" [sectionTitle]="eventItem.name" sectionSubTitle="">
  <div class="grid gap-4 sm:flex sm:col-gap-3">
    <div class="leftColumn">
      <div *ngIf="fromDate" class="header">
        <h4>{{ fromDate | date: 'MMM' }} {{ fromDate | date: 'yyyy' }}</h4>
        <hr class="divider" />
      </div>

      <button
        pButton
        *ngIf="!eventItem.hasQuestions"
        type="submit"
        label="Register"
        class="h-12"
        [disabled]="eventItem.alreadyRegistered"
        (click)="registerUserToEvent()"
        i18n-label
      ></button>
      <button
        pButton
        *ngIf="eventItem.hasQuestions"
        type="submit"
        label="Register"
        class="h-12"
        (click)="openQuestionnaire()"
        i18n-label
      ></button>
    </div>
    <div class="rightColumn">
      <img [src]="eventItem.pictureUrl" />
      <app-card class="text-lg ql-editor" [innerHtml]="eventItem.description"></app-card>
    </div>
  </div>
</app-card>

<p-dialog
  *ngIf="ready && eventItem.hasQuestions"
  header="Register"
  i18n-header
  styleClass="w-full max-w-3xl"
  [(visible)]="showQuestionnaireDialog"
  [modal]="true"
  [focusTrap]="true"
  [focusOnShow]="true"
  [closable]="true"
  [draggable]="false"
>
  <form
    *ngIf="questions.length > 0"
    class="p-grid p-formgrid p-fluid"
    (ngSubmit)="submitQuestionnaire()"
  >
    <p class="p-text-secondary" i18n style="margin-bottom: 20px;">
      This section requires you to answer specific questions for the program.
    </p>

    <div *ngFor="let question of questions" class="p-field p-col-12">
      <label [for]="question.id">{{ question.question }}</label>
      <textarea
        [(ngModel)]="answers[question.id].answer"
        [ngModelOptions]="{ standalone: true }"
        [readonly]="questionnaireStatus != 0"
        pInputTextarea
        [id]="question.id"
        [autoResize]="true"
        maxlength="1250"
        rows="3"
      ></textarea>
    </div>

    <div class="p-col-12 flex justify-between" style="margin-top: 30px;">
      <div></div>
      <div>
        <button
          pButton
          type="submit"
          label="Submit"
          i18n-label
          [disabled]="questionnaireStatus != 0"
        ></button>
      </div>
    </div>
  </form>
</p-dialog>

<ng-template #loading>
  <app-progress-spinner></app-progress-spinner>
</ng-template> -->

<div class="mainContainer">
  <div class="gridWrap">
    <ng-container *ngIf="ready; else loading">
      <div class="generalCard">
        <div class="inner">
          <div class="cardTitleWrap">
            <div class="cardTitle font-dark">
              {{ eventItem.name }}
            </div>
            <div class="cardTools">
              <a class="backBtn cursor-pointer" (click)="goBack()">
                <span>Back</span>
                <div class="iconBox">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M9 14L4 9L9 4"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M20 20V13C20 11.9391 19.5786 10.9217 18.8284 10.1716C18.0783 9.42143 17.0609 9 16 9H4"
                      stroke="currentcolor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </a>
            </div>
          </div>

          <div class="gridWrap border">
            <div class="eventDetailsWrap">
              <div class="side">
                <div class="imgBox">
                  <picture class="">
                    <source [srcset]="eventItem.pictureUrl" type="image/webp" />
                    <source [srcset]="eventItem.pictureUrl" type="image/jpeg" />
                    <img
                      src="{{ eventItem.pictureUrl }}"
                      alt=""
                      width="442"
                      height="242"
                      loading="lazy"
                    />
                  </picture>
                </div>

                <div class="metaWrap">
                  <div class="meta">
                    <div class="iconBox">
                      <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M12 6V12L16 14"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                    <span>
                      {{ eventItem.fromDate | date: 'hh:mm a' }}
                      -
                      {{ eventItem.toDate | date: 'hh:mm a' }}
                    </span>
                  </div>
                  <div class="meta">
                    <div class="iconBox">
                      <svg
                        width="21"
                        height="21"
                        viewBox="0 0 21 21"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M17.6641 0.556641C17.8645 0.556641 18.0574 0.635656 18.1992 0.777344C18.341 0.919168 18.4209 1.11193 18.4209 1.3125C18.4209 1.51307 18.341 1.70583 18.1992 1.84766C18.0574 1.98934 17.8645 2.06836 17.6641 2.06836H16.7061V4.99512C16.7071 5.91622 16.4571 6.82042 15.9834 7.61035C15.5097 8.40026 14.8296 9.0466 14.0166 9.47949L12.1035 10.5L14.0166 11.5215L14.3145 11.6934C14.9957 12.1176 15.5678 12.6986 15.9824 13.3896C16.4562 14.1795 16.7062 15.0838 16.7051 16.0049V18.9316H17.6641C17.8644 18.9317 18.0565 19.0108 18.1982 19.1523C18.3401 19.2942 18.4199 19.4869 18.4199 19.6875C18.4199 19.8881 18.3401 20.0808 18.1982 20.2227C18.0565 20.3642 17.8644 20.4433 17.6641 20.4434H3.33594C3.13537 20.4434 2.94261 20.3645 2.80078 20.2227C2.65896 20.0808 2.58008 19.8881 2.58008 19.6875C2.58008 19.4869 2.65896 19.2942 2.80078 19.1523C2.94261 19.0105 3.13537 18.9316 3.33594 18.9316H4.29492V16.0039C4.29393 15.0831 4.54304 14.1793 5.0166 13.3896C5.49035 12.5998 6.1704 11.9532 6.9834 11.5205L8.89551 10.499L6.9834 9.47852C6.17043 9.04585 5.49033 8.40011 5.0166 7.61035C4.54283 6.8205 4.29383 5.91616 4.29492 4.99512V2.06836H3.33594C3.13537 2.06836 2.94261 1.98948 2.80078 1.84766C2.65896 1.70583 2.58008 1.51307 2.58008 1.3125C2.58008 1.11193 2.65896 0.919168 2.80078 0.777344C2.94261 0.635519 3.13537 0.556641 3.33594 0.556641H17.6641ZM7.69531 12.8545C7.12448 13.1588 6.64708 13.6131 6.31445 14.168C5.98183 14.7228 5.80608 15.358 5.80664 16.0049V18.9316H15.1934V16.0049C15.194 15.3581 15.0191 14.7227 14.6865 14.168C14.3539 13.6132 13.8765 13.1588 13.3057 12.8545L10.5 11.3564L7.69531 12.8545ZM5.80664 4.99512C5.80602 5.64202 5.98182 6.2772 6.31445 6.83203C6.6055 7.3175 7.00701 7.72611 7.48535 8.02441L7.69531 8.14551L10.5 9.64258L13.3047 8.14551C13.8755 7.84117 14.3529 7.38685 14.6855 6.83203C15.0181 6.27723 15.1929 5.64197 15.1924 4.99512V2.06836H5.80664V4.99512Z"
                          fill="currentcolor"
                          stroke="currentcolor"
                          stroke-width="0.2"
                        />
                      </svg>
                    </div>
                    <span> {{ eventItem.duration / 60 }} Hour(s) </span>
                  </div>
                  <div class="meta">
                    <div class="iconBox">
                      <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M16 2V6"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8 2V6"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M3 10H21"
                          stroke="currentcolor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                    <span>
                      {{ eventItem.fromDate | date: 'dd MMM yyyy' }}
                      - {{ eventItem.toDate | date: 'dd MMM yyyy' }}
                    </span>
                  </div>
                </div>
                <a href="#" class="more wAuto">
                  <span>Add to Calendar</span>
                </a>
              </div>
              <div class="contentBox">
                <div class="textBox sm ql-editor" [innerHtml]="eventItem.description"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #loading>
      <app-progress-spinner></app-progress-spinner>
    </ng-template>
  </div>

  <app-side-box></app-side-box>
</div>
