var lr=Object.defineProperty;var cr=(s,e,t)=>e in s?lr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var B=(s,e,t)=>(cr(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rs={exports:{}};(function(s,e){(function(){var t,i,n,o,r,l,c,h,d,g,b,p,w,y,a,u,f,v,m,S,x,E,C,A,k,W,j,F,q,ie,K,te,$=[].slice;f='<span class="odometer-value"></span>',y='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+f+"</span></span>",o='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+y+"</span></span>",c='<span class="odometer-formatting-mark"></span>',n="(,ddd).dd",h=/^\(?([^)]*)\)?(?:(.)(d+))?$/,d=30,l=2e3,t=20,g=2,r=.5,b=1e3/d,i=1e3/t,a="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",k=document.createElement("div").style,u=k.transition!=null||k.webkitTransition!=null||k.mozTransition!=null||k.oTransition!=null,C=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,m=function(D){var O;return O=document.createElement("div"),O.innerHTML=D,O.children[0]},E=function(D,O){return D.className=D.className.replace(new RegExp("(^| )"+O.split(" ").join("|")+"( |$)","gi")," ")},v=function(D,O){return E(D,O),D.className+=" "+O},W=function(D,O){var M;if(document.createEvent!=null)return M=document.createEvent("HTMLEvents"),M.initEvent(O,!0,!0),D.dispatchEvent(M)},x=function(){var D,O;return(D=(O=window.performance)!=null&&typeof O.now=="function"?O.now():void 0)!=null?D:+new Date},A=function(D,O){return O==null&&(O=0),O?(D*=Math.pow(10,O),D+=.5,D=Math.floor(D),D/=Math.pow(10,O)):Math.round(D)},j=function(D){return D<0?Math.ceil(D):Math.floor(D)},S=function(D){return D-A(D)},q=!1,(F=function(){var D,O,M,P,I;if(!q&&window.jQuery!=null){for(q=!0,P=["html","text"],I=[],O=0,M=P.length;O<M;O++)D=P[O],I.push(function(R){var H;return H=window.jQuery.fn[R],window.jQuery.fn[R]=function(_){var Y;return _==null||((Y=this[0])!=null?Y.odometer:void 0)==null?H.apply(this,arguments):this[0].odometer.update(_)}}(D));return I}})(),setTimeout(F,0),w=function(){function D(O){var M,P,I,R,H,_,Y,se,ne,U=this;if(this.options=O,this.el=this.options.el,this.el.odometer!=null)return this.el.odometer;this.el.odometer=this,Y=D.options;for(M in Y)I=Y[M],this.options[M]==null&&(this.options[M]=I);(R=this.options).duration==null&&(R.duration=l),this.MAX_VALUES=this.options.duration/b/g|0,this.resetFormat(),this.value=this.cleanValue((se=this.options.value)!=null?se:""),this.renderInside(),this.render();try{for(ne=["innerHTML","innerText","textContent"],H=0,_=ne.length;H<_;H++)P=ne[H],this.el[P]!=null&&function(Q){return Object.defineProperty(U.el,Q,{get:function(){var ve;return Q==="innerHTML"?U.inside.outerHTML:(ve=U.inside.innerText)!=null?ve:U.inside.textContent},set:function(ve){return U.update(ve)}})}(P)}catch{this.watchForMutations()}}return D.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},D.prototype.watchForMutations=function(){var O=this;if(p!=null)try{return this.observer==null&&(this.observer=new p(function(M){var P;return P=O.el.innerText,O.renderInside(),O.render(O.value),O.update(P)})),this.watchMutations=!0,this.startWatchingMutations()}catch{}},D.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})},D.prototype.stopWatchingMutations=function(){var O;return(O=this.observer)!=null?O.disconnect():void 0},D.prototype.cleanValue=function(O){var M;return typeof O=="string"&&(O=O.replace((M=this.format.radix)!=null?M:".","<radix>"),O=O.replace(/[.,]/g,""),O=O.replace("<radix>","."),O=parseFloat(O,10)||0),A(O,this.format.precision)},D.prototype.bindTransitionEnd=function(){var O,M,P,I,R,H,_=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,M=!1,R=a.split(" "),H=[],P=0,I=R.length;P<I;P++)O=R[P],H.push(this.el.addEventListener(O,function(){return M||(M=!0,setTimeout(function(){return _.render(),M=!1,W(_.el,"odometerdone")},0)),!0},!1));return H}},D.prototype.resetFormat=function(){var O,M,P,I,R,H,_,Y;if(O=(_=this.options.format)!=null?_:n,O||(O="d"),P=h.exec(O),!P)throw new Error("Odometer: Unparsable digit format");return Y=P.slice(1,4),H=Y[0],R=Y[1],M=Y[2],I=(M!=null?M.length:void 0)||0,this.format={repeating:H,radix:R,precision:I}},D.prototype.render=function(O){var M,P,I,R,H,_,Y;for(O==null&&(O=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",H=this.options.theme,M=this.el.className.split(" "),R=[],_=0,Y=M.length;_<Y;_++)if(P=M[_],!!P.length){if(I=/^odometer-theme-(.+)$/.exec(P)){H=I[1];continue}/^odometer(-|$)/.test(P)||R.push(P)}return R.push("odometer"),u||R.push("odometer-no-transitions"),H?R.push("odometer-theme-"+H):R.push("odometer-auto-theme"),this.el.className=R.join(" "),this.ribbons={},this.formatDigits(O),this.startWatchingMutations()},D.prototype.formatDigits=function(O){var M,P,I,R,H,_,Y,se,ne,U;if(this.digits=[],this.options.formatFunction)for(I=this.options.formatFunction(O),ne=I.split("").reverse(),H=0,Y=ne.length;H<Y;H++)P=ne[H],P.match(/0-9/)?(M=this.renderDigit(),M.querySelector(".odometer-value").innerHTML=P,this.digits.push(M),this.insertDigit(M)):this.addSpacer(P);else for(R=!this.format.precision||!S(O)||!1,U=O.toString().split("").reverse(),_=0,se=U.length;_<se;_++)M=U[_],M==="."&&(R=!0),this.addDigit(M,R)},D.prototype.update=function(O){var M,P=this;if(O=this.cleanValue(O),!!(M=O-this.value))return E(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),M>0?v(this.el,"odometer-animating-up"):v(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(O),this.startWatchingMutations(),setTimeout(function(){return P.el.offsetHeight,v(P.el,"odometer-animating")},0),this.value=O},D.prototype.renderDigit=function(){return m(o)},D.prototype.insertDigit=function(O,M){return M!=null?this.inside.insertBefore(O,M):this.inside.children.length?this.inside.insertBefore(O,this.inside.children[0]):this.inside.appendChild(O)},D.prototype.addSpacer=function(O,M,P){var I;return I=m(c),I.innerHTML=O,P&&v(I,P),this.insertDigit(I,M)},D.prototype.addDigit=function(O,M){var P,I,R,H;if(M==null&&(M=!0),O==="-")return this.addSpacer(O,null,"odometer-negation-mark");if(O===".")return this.addSpacer((H=this.format.radix)!=null?H:".",null,"odometer-radix-mark");if(M)for(R=!1;;){if(!this.format.repeating.length){if(R)throw new Error("Bad odometer format without digits");this.resetFormat(),R=!0}if(P=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),P==="d")break;this.addSpacer(P)}return I=this.renderDigit(),I.querySelector(".odometer-value").innerHTML=O,this.digits.push(I),this.insertDigit(I)},D.prototype.animate=function(O){return!u||this.options.animation==="count"?this.animateCount(O):this.animateSlide(O)},D.prototype.animateCount=function(O){var M,P,I,R,H,_=this;if(P=+O-this.value)return R=I=x(),M=this.value,(H=function(){var Y,se,ne;if(x()-R>_.options.duration){_.value=O,_.render(),W(_.el,"odometerdone");return}return Y=x()-I,Y>i&&(I=x(),ne=Y/_.options.duration,se=P*ne,M+=se,_.render(Math.round(M))),C!=null?C(H):setTimeout(H,i)})()},D.prototype.getDigitCount=function(){var O,M,P,I,R,H;for(I=1<=arguments.length?$.call(arguments,0):[],O=R=0,H=I.length;R<H;O=++R)P=I[O],I[O]=Math.abs(P);return M=Math.max.apply(Math,I),Math.ceil(Math.log(M+1)/Math.log(10))},D.prototype.getFractionalDigitCount=function(){var O,M,P,I,R,H,_;for(R=1<=arguments.length?$.call(arguments,0):[],M=/^\-?\d*\.(\d*?)0*$/,O=H=0,_=R.length;H<_;O=++H)I=R[O],R[O]=I.toString(),P=M.exec(R[O]),P==null?R[O]=0:R[O]=P[1].length;return Math.max.apply(Math,R)},D.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},D.prototype.animateSlide=function(O){var M,P,I,R,H,_,Y,se,ne,U,Q,ve,De,_e,Me,fe,pe,it,ke,me,be,Xe,Re,Ue,Ke,Ze,Ge;if(fe=this.value,se=this.getFractionalDigitCount(fe,O),se&&(O=O*Math.pow(10,se),fe=fe*Math.pow(10,se)),!!(I=O-fe)){for(this.bindTransitionEnd(),R=this.getDigitCount(fe,O),H=[],M=0,Q=ke=0;0<=R?ke<R:ke>R;Q=0<=R?++ke:--ke){if(pe=j(fe/Math.pow(10,R-Q-1)),Y=j(O/Math.pow(10,R-Q-1)),_=Y-pe,Math.abs(_)>this.MAX_VALUES){for(U=[],ve=_/(this.MAX_VALUES+this.MAX_VALUES*M*r),P=pe;_>0&&P<Y||_<0&&P>Y;)U.push(Math.round(P)),P+=ve;U[U.length-1]!==Y&&U.push(Y),M++}else U=(function(){Ge=[];for(var Ne=pe;pe<=Y?Ne<=Y:Ne>=Y;pe<=Y?Ne++:Ne--)Ge.push(Ne);return Ge}).apply(this);for(Q=me=0,Xe=U.length;me<Xe;Q=++me)ne=U[Q],U[Q]=Math.abs(ne%10);H.push(U)}for(this.resetDigits(),Ze=H.reverse(),Q=be=0,Re=Ze.length;be<Re;Q=++be)for(U=Ze[Q],this.digits[Q]||this.addDigit(" ",Q>=se),(it=this.ribbons)[Q]==null&&(it[Q]=this.digits[Q].querySelector(".odometer-ribbon-inner")),this.ribbons[Q].innerHTML="",I<0&&(U=U.reverse()),De=Ke=0,Ue=U.length;Ke<Ue;De=++Ke)ne=U[De],Me=document.createElement("div"),Me.className="odometer-value",Me.innerHTML=ne,this.ribbons[Q].appendChild(Me),De===U.length-1&&v(Me,"odometer-last-value"),De===0&&v(Me,"odometer-first-value");if(pe<0&&this.addDigit("-"),_e=this.inside.querySelector(".odometer-radix-mark"),_e!=null&&_e.parent.removeChild(_e),se)return this.addSpacer(this.format.radix,this.digits[se-1],"odometer-radix-mark")}},D}(),w.options=(K=window.odometerOptions)!=null?K:{},setTimeout(function(){var D,O,M,P,I;if(window.odometerOptions){P=window.odometerOptions,I=[];for(D in P)O=P[D],I.push((M=w.options)[D]!=null?(M=w.options)[D]:M[D]=O);return I}},0),w.init=function(){var D,O,M,P,I,R;if(document.querySelectorAll!=null){for(O=document.querySelectorAll(w.options.selector||".odometer"),R=[],M=0,P=O.length;M<P;M++)D=O[M],R.push(D.odometer=new w({el:D,value:(I=D.innerText)!=null?I:D.textContent}));return R}},((te=document.documentElement)!=null?te.doScroll:void 0)!=null&&document.createEventObject!=null?(ie=document.onreadystatechange,document.onreadystatechange=function(){return document.readyState==="complete"&&w.options.auto!==!1&&w.init(),ie!=null?ie.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){if(w.options.auto!==!1)return w.init()},!1),e!==null?s.exports=w:window.Odometer=w}).call(vs)})(rs,rs.exports);var hr=rs.exports;const dr=bs(hr);var Gn={exports:{}};/*!
 * in-view 0.6.1 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MIT
 */(function(s,e){(function(t,i){s.exports=i()})(vs,function(){return function(t){function i(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var n={};return i.m=t,i.c=n,i.p="",i(0)}([function(t,i,n){function o(c){return c&&c.__esModule?c:{default:c}}var r=n(2),l=o(r);t.exports=l.default},function(t,i){function n(o){var r=typeof o;return o!=null&&(r=="object"||r=="function")}t.exports=n},function(t,i,n){function o(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(i,"__esModule",{value:!0});var r=n(9),l=o(r),c=n(3),h=o(c),d=n(4),g=function(){if(typeof window<"u"){var b=100,p=["scroll","resize","load"],w={history:[]},y={offset:{},threshold:0,test:d.inViewport},a=(0,l.default)(function(){w.history.forEach(function(f){w[f].check()})},b);p.forEach(function(f){return addEventListener(f,a)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(a).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var u=function(f){if(typeof f=="string"){var v=[].slice.call(document.querySelectorAll(f));return w.history.indexOf(f)>-1?w[f].elements=v:(w[f]=(0,h.default)(v,y),w.history.push(f)),w[f]}};return u.offset=function(f){if(f===void 0)return y.offset;var v=function(m){return typeof m=="number"};return["top","right","bottom","left"].forEach(v(f)?function(m){return y.offset[m]=f}:function(m){return v(f[m])?y.offset[m]=f[m]:null}),y.offset},u.threshold=function(f){return typeof f=="number"&&f>=0&&f<=1?y.threshold=f:y.threshold},u.test=function(f){return typeof f=="function"?y.test=f:y.test},u.is=function(f){return y.test(f,y)},u.offset(0),u}};i.default=g()},function(t,i){function n(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function l(c,h){for(var d=0;d<h.length;d++){var g=h[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,h,d){return h&&l(c.prototype,h),d&&l(c,d),c}}(),r=function(){function l(c,h){n(this,l),this.options=h,this.elements=c,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return o(l,[{key:"check",value:function(){var c=this;return this.elements.forEach(function(h){var d=c.options.test(h,c.options),g=c.current.indexOf(h),b=g>-1,p=d&&!b,w=!d&&b;p&&(c.current.push(h),c.emit("enter",h)),w&&(c.current.splice(g,1),c.emit("exit",h))}),this}},{key:"on",value:function(c,h){return this.handlers[c].push(h),this}},{key:"once",value:function(c,h){return this.singles[c].unshift(h),this}},{key:"emit",value:function(c,h){for(;this.singles[c].length;)this.singles[c].pop()(h);for(var d=this.handlers[c].length;--d>-1;)this.handlers[c][d](h);return this}}]),l}();i.default=function(l,c){return new r(l,c)}},function(t,i){function n(o,r){var l=o.getBoundingClientRect(),c=l.top,h=l.right,d=l.bottom,g=l.left,b=l.width,p=l.height,w={t:d,r:window.innerWidth-g,b:window.innerHeight-c,l:h},y={x:r.threshold*b,y:r.threshold*p};return w.t>r.offset.top+y.y&&w.r>r.offset.right+y.x&&w.b>r.offset.bottom+y.y&&w.l>r.offset.left+y.x}Object.defineProperty(i,"__esModule",{value:!0}),i.inViewport=n},function(t,i){(function(n){var o=typeof n=="object"&&n&&n.Object===Object&&n;t.exports=o}).call(i,function(){return this}())},function(t,i,n){var o=n(5),r=typeof self=="object"&&self&&self.Object===Object&&self,l=o||r||Function("return this")();t.exports=l},function(t,i,n){function o(b,p,w){function y($){var D=C,O=A;return C=A=void 0,q=$,W=b.apply(O,D)}function a($){return q=$,j=setTimeout(v,p),ie?y($):W}function u($){var D=$-F,O=$-q,M=p-D;return K?g(M,k-O):M}function f($){var D=$-F,O=$-q;return F===void 0||D>=p||D<0||K&&O>=k}function v(){var $=l();return f($)?m($):void(j=setTimeout(v,u($)))}function m($){return j=void 0,te&&C?y($):(C=A=void 0,W)}function S(){j!==void 0&&clearTimeout(j),q=0,C=F=A=j=void 0}function x(){return j===void 0?W:m(l())}function E(){var $=l(),D=f($);if(C=arguments,A=this,F=$,D){if(j===void 0)return a(F);if(K)return j=setTimeout(v,p),y(F)}return j===void 0&&(j=setTimeout(v,p)),W}var C,A,k,W,j,F,q=0,ie=!1,K=!1,te=!0;if(typeof b!="function")throw new TypeError(h);return p=c(p)||0,r(w)&&(ie=!!w.leading,K="maxWait"in w,k=K?d(c(w.maxWait)||0,p):k,te="trailing"in w?!!w.trailing:te),E.cancel=S,E.flush=x,E}var r=n(1),l=n(8),c=n(10),h="Expected a function",d=Math.max,g=Math.min;t.exports=o},function(t,i,n){var o=n(6),r=function(){return o.Date.now()};t.exports=r},function(t,i,n){function o(h,d,g){var b=!0,p=!0;if(typeof h!="function")throw new TypeError(c);return l(g)&&(b="leading"in g?!!g.leading:b,p="trailing"in g?!!g.trailing:p),r(h,d,{leading:b,maxWait:d,trailing:p})}var r=n(7),l=n(1),c="Expected a function";t.exports=o},function(t,i){function n(o){return o}t.exports=n}])})})(Gn);var ur=Gn.exports;const Is=bs(ur);var fr="1.3.3";function Jn(s,e,t){return Math.max(s,Math.min(e,t))}function pr(s,e,t){return(1-t)*s+t*e}function mr(s,e,t,i){return pr(s,e,1-Math.exp(-t*i))}function gr(s,e){return(s%e+e)%e}var vr=class{constructor(){B(this,"isRunning",!1);B(this,"value",0);B(this,"from",0);B(this,"to",0);B(this,"currentTime",0);B(this,"lerp");B(this,"duration");B(this,"easing");B(this,"onUpdate")}advance(s){var t;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=s;const i=Jn(0,this.currentTime/this.duration,1);e=i>=1;const n=e?1:this.easing(i);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=mr(this.value,this.to,this.lerp*60,s),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(t=this.onUpdate)==null||t.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(s,e,{lerp:t,duration:i,easing:n,onStart:o,onUpdate:r}){this.from=this.value=s,this.to=e,this.lerp=t,this.duration=i,this.easing=n,this.currentTime=0,this.isRunning=!0,o==null||o(),this.onUpdate=r}};function br(s,e){let t;return function(...i){let n=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,s.apply(n,i)},e)}}var yr=class{constructor(s,e,{autoResize:t=!0,debounce:i=250}={}){B(this,"width",0);B(this,"height",0);B(this,"scrollHeight",0);B(this,"scrollWidth",0);B(this,"debouncedResize");B(this,"wrapperResizeObserver");B(this,"contentResizeObserver");B(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});B(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});B(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=s,this.content=e,t&&(this.debouncedResize=br(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var s,e;(s=this.wrapperResizeObserver)==null||s.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Qn=class{constructor(){B(this,"events",{})}emit(s,...e){var i;let t=this.events[s]||[];for(let n=0,o=t.length;n<o;n++)(i=t[n])==null||i.call(t,...e)}on(s,e){var t;return(t=this.events[s])!=null&&t.push(e)||(this.events[s]=[e]),()=>{var i;this.events[s]=(i=this.events[s])==null?void 0:i.filter(n=>e!==n)}}off(s,e){var t;this.events[s]=(t=this.events[s])==null?void 0:t.filter(i=>e!==i)}destroy(){this.events={}}},zs=100/6,Je={passive:!1},wr=class{constructor(s,e={wheelMultiplier:1,touchMultiplier:1}){B(this,"touchStart",{x:0,y:0});B(this,"lastDelta",{x:0,y:0});B(this,"window",{width:0,height:0});B(this,"emitter",new Qn);B(this,"onTouchStart",s=>{const{clientX:e,clientY:t}=s.targetTouches?s.targetTouches[0]:s;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:s})});B(this,"onTouchMove",s=>{const{clientX:e,clientY:t}=s.targetTouches?s.targetTouches[0]:s,i=-(e-this.touchStart.x)*this.options.touchMultiplier,n=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:i,y:n},this.emitter.emit("scroll",{deltaX:i,deltaY:n,event:s})});B(this,"onTouchEnd",s=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:s})});B(this,"onWheel",s=>{let{deltaX:e,deltaY:t,deltaMode:i}=s;const n=i===1?zs:i===2?this.window.width:1,o=i===1?zs:i===2?this.window.height:1;e*=n,t*=o,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:s})});B(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=s,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Je),this.element.addEventListener("touchstart",this.onTouchStart,Je),this.element.addEventListener("touchmove",this.onTouchMove,Je),this.element.addEventListener("touchend",this.onTouchEnd,Je)}on(s,e){return this.emitter.on(s,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Je),this.element.removeEventListener("touchstart",this.onTouchStart,Je),this.element.removeEventListener("touchmove",this.onTouchMove,Je),this.element.removeEventListener("touchend",this.onTouchEnd,Je)}},Bs=s=>Math.min(1,1.001-Math.pow(2,-10*s)),xr=class{constructor({wrapper:s=window,content:e=document.documentElement,eventsTarget:t=s,smoothWheel:i=!0,syncTouch:n=!1,syncTouchLerp:o=.075,touchInertiaMultiplier:r=35,duration:l,easing:c,lerp:h=.1,infinite:d=!1,orientation:g="vertical",gestureOrientation:b="vertical",touchMultiplier:p=1,wheelMultiplier:w=1,autoResize:y=!0,prevent:a,virtualScroll:u,overscroll:f=!0,autoRaf:v=!1,anchors:m=!1,autoToggle:S=!1,allowNestedScroll:x=!1,__experimental__naiveDimensions:E=!1}={}){B(this,"_isScrolling",!1);B(this,"_isStopped",!1);B(this,"_isLocked",!1);B(this,"_preventNextNativeScrollEvent",!1);B(this,"_resetVelocityTimeout",null);B(this,"__rafID",null);B(this,"isTouching");B(this,"time",0);B(this,"userData",{});B(this,"lastVelocity",0);B(this,"velocity",0);B(this,"direction",0);B(this,"options");B(this,"targetScroll");B(this,"animatedScroll");B(this,"animate",new vr);B(this,"emitter",new Qn);B(this,"dimensions");B(this,"virtualScroll");B(this,"onScrollEnd",s=>{s instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&s.stopPropagation()});B(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});B(this,"onTransitionEnd",s=>{if(s.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.stop():this.start()}});B(this,"onClick",s=>{const t=s.composedPath().find(i=>{var n,o,r;return i instanceof HTMLAnchorElement&&(((n=i.getAttribute("href"))==null?void 0:n.startsWith("#"))||((o=i.getAttribute("href"))==null?void 0:o.startsWith("/#"))||((r=i.getAttribute("href"))==null?void 0:r.startsWith("./#")))});if(t){const i=t.getAttribute("href");if(i){const n=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;let o=`#${i.split("#")[1]}`;["#","/#","./#","#top","/#top","./#top"].includes(i)&&(o=0),this.scrollTo(o,n)}}});B(this,"onPointerDown",s=>{s.button===1&&this.reset()});B(this,"onVirtualScroll",s=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(s)===!1)return;const{deltaX:e,deltaY:t,event:i}=s;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:i}),i.ctrlKey||i.lenisStopPropagation)return;const n=i.type.includes("touch"),o=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";const r=e===0&&t===0;if(this.options.syncTouch&&n&&i.type==="touchstart"&&r&&!this.isStopped&&!this.isLocked){this.reset();return}const c=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(r||c)return;let h=i.composedPath();h=h.slice(0,h.indexOf(this.rootElement));const d=this.options.prevent;if(h.find(a=>{var u,f,v;return a instanceof HTMLElement&&(typeof d=="function"&&(d==null?void 0:d(a))||((u=a.hasAttribute)==null?void 0:u.call(a,"data-lenis-prevent"))||n&&((f=a.hasAttribute)==null?void 0:f.call(a,"data-lenis-prevent-touch"))||o&&((v=a.hasAttribute)==null?void 0:v.call(a,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(a,{deltaX:e,deltaY:t}))}))return;if(this.isStopped||this.isLocked){i.preventDefault();return}if(!(this.options.syncTouch&&n||this.options.smoothWheel&&o)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let b=t;this.options.gestureOrientation==="both"?b=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(b=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(i.lenisStopPropagation=!0),i.preventDefault();const p=n&&this.options.syncTouch,y=n&&i.type==="touchend"&&Math.abs(b)>5;y&&(b=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+b,{programmatic:!1,...p?{lerp:y?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});B(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const s=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-s,this.direction=Math.sign(this.animatedScroll-s),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});B(this,"raf",s=>{const e=s-(this.time||s);this.time=s,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=fr,(!s||s===document.documentElement)&&(s=window),typeof l=="number"&&typeof c!="function"?c=Bs:typeof c=="function"&&typeof l!="number"&&(l=1),this.options={wrapper:s,content:e,eventsTarget:t,smoothWheel:i,syncTouch:n,syncTouchLerp:o,touchInertiaMultiplier:r,duration:l,easing:c,lerp:h,infinite:d,gestureOrientation:b,orientation:g,touchMultiplier:p,wheelMultiplier:w,autoResize:y,prevent:a,virtualScroll:u,overscroll:f,autoRaf:v,anchors:m,autoToggle:S,allowNestedScroll:x,__experimental__naiveDimensions:E},this.dimensions=new yr(s,e,{autoResize:y}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new wr(t,{touchMultiplier:p,wheelMultiplier:w}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(s,e){return this.emitter.on(s,e)}off(s,e){return this.emitter.off(s,e)}setScroll(s){this.isHorizontal?this.options.wrapper.scrollTo({left:s,behavior:"instant"}):this.options.wrapper.scrollTo({top:s,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(s,{offset:e=0,immediate:t=!1,lock:i=!1,duration:n=this.options.duration,easing:o=this.options.easing,lerp:r=this.options.lerp,onStart:l,onComplete:c,force:h=!1,programmatic:d=!0,userData:g}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof s=="string"&&["top","left","start"].includes(s))s=0;else if(typeof s=="string"&&["bottom","right","end"].includes(s))s=this.limit;else{let b;if(typeof s=="string"?b=document.querySelector(s):s instanceof HTMLElement&&(s!=null&&s.nodeType)&&(b=s),b){if(this.options.wrapper!==window){const w=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?w.left:w.top}const p=b.getBoundingClientRect();s=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof s=="number"){if(s+=e,s=Math.round(s),this.options.infinite){if(d){this.targetScroll=this.animatedScroll=this.scroll;const b=s-this.animatedScroll;b>this.limit/2?s=s-this.limit:b<-this.limit/2&&(s=s+this.limit)}}else s=Jn(0,s,this.limit);if(s===this.targetScroll){l==null||l(this),c==null||c(this);return}if(this.userData=g??{},t){this.animatedScroll=this.targetScroll=s,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}d||(this.targetScroll=s),typeof n=="number"&&typeof o!="function"?o=Bs:typeof o=="function"&&typeof n!="number"&&(n=1),this.animate.fromTo(this.animatedScroll,s,{duration:n,easing:o,lerp:r,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",l==null||l(this)},onUpdate:(b,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=b-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=b,this.setScroll(this.scroll),d&&(this.targetScroll=b),p||this.emit(),p&&(this.reset(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(s,{deltaX:e,deltaY:t}){const i=Date.now(),n=s._lenis??(s._lenis={});let o,r,l,c,h,d,g,b;const p=this.options.gestureOrientation;if(i-(n.time??0)>2e3){n.time=Date.now();const S=window.getComputedStyle(s);n.computedStyle=S;const x=S.overflowX,E=S.overflowY;if(o=["auto","overlay","scroll"].includes(x),r=["auto","overlay","scroll"].includes(E),n.hasOverflowX=o,n.hasOverflowY=r,!o&&!r||p==="vertical"&&!r||p==="horizontal"&&!o)return!1;h=s.scrollWidth,d=s.scrollHeight,g=s.clientWidth,b=s.clientHeight,l=h>g,c=d>b,n.isScrollableX=l,n.isScrollableY=c,n.scrollWidth=h,n.scrollHeight=d,n.clientWidth=g,n.clientHeight=b}else l=n.isScrollableX,c=n.isScrollableY,o=n.hasOverflowX,r=n.hasOverflowY,h=n.scrollWidth,d=n.scrollHeight,g=n.clientWidth,b=n.clientHeight;if(!o&&!r||!l&&!c||p==="vertical"&&(!r||!c)||p==="horizontal"&&(!o||!l))return!1;let w;if(p==="horizontal")w="x";else if(p==="vertical")w="y";else{const S=e!==0,x=t!==0;S&&o&&l&&(w="x"),x&&r&&c&&(w="y")}if(!w)return!1;let y,a,u,f,v;if(w==="x")y=s.scrollLeft,a=h-g,u=e,f=o,v=l;else if(w==="y")y=s.scrollTop,a=d-b,u=t,f=r,v=c;else return!1;return(u>0?y<a:y>0)&&f&&v}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const s=this.options.wrapper;return this.isHorizontal?s.scrollX??s.scrollLeft:s.scrollY??s.scrollTop}get scroll(){return this.options.infinite?gr(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(s){this._isScrolling!==s&&(this._isScrolling=s,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(s){this._isStopped!==s&&(this._isStopped=s,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(s){this._isLocked!==s&&(this._isLocked=s,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let s="lenis";return this.options.autoToggle&&(s+=" lenis-autoToggle"),this.isStopped&&(s+=" lenis-stopped"),this.isLocked&&(s+=" lenis-locked"),this.isScrolling&&(s+=" lenis-scrolling"),this.isScrolling==="smooth"&&(s+=" lenis-smooth"),s}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const Le=document.body;document.querySelector("html");const Sr=s=>{window.addEventListener("DOMContentLoaded",e=>(Cr(),Dr(),Tr(),Or(),Mr(),Lr(),Ar(),kr(),setTimeout(()=>{Er()},300),s()))},Er=()=>{const s=document.querySelector("[data-ptab]"),e=s==null?void 0:s.querySelector(".pLink.active");if(e){const t=e.closest("li"),i=s.querySelector(".progress"),n=t.getBoundingClientRect(),o=s.getBoundingClientRect(),r=n.left-o.left,l=n.width,c=r+l/2,h=Math.round(c);i.style.setProperty("--percentage",`${h}px`),i.classList.add("animate");const d=t.offsetLeft,g=t.offsetWidth,b=s.offsetWidth,p=d-b/2+g/2;s.scrollTo({left:p,behavior:"smooth"})}},Or=()=>{if(window.lenis=new xr({virtualScroll:({event:t})=>!(t.ctrlKey||t.metaKey||t.altKey)}),window.location.hash){let t=document.querySelector(window.location.hash);t&&window.lenis.scrollTo(t,{lock:!0,onComplete:()=>{document.body.classList.remove("scrolling_top")}})}document.querySelectorAll("[data-scrol]").forEach(t=>{t.addEventListener("click",i=>{let n=t.dataset.scrol,o=document.getElementById(n);o&&(i.preventDefault(),document.querySelectorAll(".link").forEach(l=>{l.classList.remove("active"),l.dataset.scrol===n&&l.classList.add("active")}),t.classList.add("active"),window.lenis.scrollTo(o,{lock:!0,onComplete:()=>{document.body.classList.remove("scrolling_top")}}),document.querySelector("body").classList.remove("menuActive"))})});function e(t){window.lenis.raf(t),requestAnimationFrame(e)}requestAnimationFrame(e)},Tr=()=>{setTimeout(()=>{Is.offset(100),Is("[data-inView]").on("enter",s=>{s.classList.add("inView")}).on("exit",s=>{})},500)},Cr=()=>{let s=document.querySelector("[data-burger-menu]");s&&s.addEventListener("click",e=>{e.preventDefault(),Le.classList.contains("menuActive")?(Le.classList.remove("menuActive"),s.classList.remove("active")):(Le.classList.add("menuActive"),s.classList.add("active"))})},Dr=()=>{let s=0;document.addEventListener("scroll",()=>{let e=window.scrollY;e>10?Le.classList.add("scrolled"):Le.classList.remove("scrolled"),e<s?Le.classList.add("scrolling_top"):Le.classList.remove("scrolling_top"),e>window.innerHeight?Le.classList.add("floatBind"):Le.classList.remove("floatBind"),s=e})},Mr=()=>{var s=document.querySelectorAll("input:-webkit-autofill,input:not([type]),input[type=text]:not(.browser-default),input[type=password]:not(.browser-default),input[type=email]:not(.browser-default),input[type=url]:not(.browser-default),input[type=time]:not(.browser-default), input[type=date]:not(.browser-default), input[type=datetime]:not(.browser-default), input[type=datetime-local]:not(.browser-default), input[type=tel]:not(.browser-default), input[type=number]:not(.browser-default), input[type=search]:not(.browser-default), textarea");s&&s.forEach(function(e){var t;e.value.length&&((t=e.closest(".input-field"))==null||t.classList.add("active")),e.addEventListener("focus",function(){var i;(i=e.closest(".input-field"))==null||i.classList.add("active")}),e.addEventListener("blur",function(){var i,n;e.value.length?(i=e.closest(".input-field"))==null||i.classList.add("active"):(n=e.closest(".input-field"))==null||n.classList.remove("active")})})},Hs=()=>{setTimeout(()=>{let s=document.querySelector("header"),e=s?s.clientHeight:90,t=document.querySelector(".mobileMenu"),i=t?t.clientHeight:55,n=document.querySelector("[data-topnav]"),o=n?n.clientHeight:110,r=document.querySelector("body");t&&r.style.setProperty("--mobileMenuHeight",i+"px"),n&&r.style.setProperty("--topNavH",o+"px"),r.style.setProperty("--headerHeight",e+"px")},100)},Lr=()=>{const s=navigator.platform;let e="";s.indexOf("Win")!==-1?e="os-windows":s.indexOf("Mac")!==-1?e="os-macos":s.indexOf("Linux")!==-1?e="os-linux":/(iPhone|iPad|iPod)/.test(s)?e="os-ios":/Android/.test(navigator.userAgent)&&(e="os-android"),e&&document.body.classList.add(e)},Ar=()=>{const s=navigator.userAgent;let e="";s.indexOf("Chrome")!==-1&&s.indexOf("Edg")===-1?e="browserChrome":s.indexOf("Firefox")!==-1?e="browserFirefox":s.indexOf("Safari")!==-1?e="browserSafari":s.indexOf("Edg")!==-1?e="browserEdge":s.indexOf("Trident")!==-1?e="browserIe":(s.indexOf("OPR")!==-1||s.indexOf("Opera")!==-1)&&(e="browser-opera"),e&&document.body.classList.add(e)},Pr=()=>{Hs(),addEventListener("resize",e=>{Hs()});const s=document.querySelector("[data-loader]");setTimeout(()=>Le.classList.add("dom_loaded"),50),s&&setTimeout(()=>{Le.classList.add("dom_animStart")},50)},kr=()=>{document.addEventListener("click",function(s){if(s.target.closest("[data-alertclose]")){const t=s.target.closest("[data-alertclose]").closest(".alert");t&&t.remove()}})};var eo={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(vs,function(){class t{constructor(a){a||(a={}),this.main=a.main||"ss-main",this.placeholder=a.placeholder||"ss-placeholder",this.values=a.values||"ss-values",this.single=a.single||"ss-single",this.max=a.max||"ss-max",this.value=a.value||"ss-value",this.valueText=a.valueText||"ss-value-text",this.valueDelete=a.valueDelete||"ss-value-delete",this.valueOut=a.valueOut||"ss-value-out",this.deselect=a.deselect||"ss-deselect",this.deselectPath=a.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=a.arrow||"ss-arrow",this.arrowClose=a.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=a.arrowOpen||"M10,70 L50,30 L90,70",this.content=a.content||"ss-content",this.openAbove=a.openAbove||"ss-open-above",this.openBelow=a.openBelow||"ss-open-below",this.search=a.search||"ss-search",this.searchHighlighter=a.searchHighlighter||"ss-search-highlight",this.searching=a.searching||"ss-searching",this.addable=a.addable||"ss-addable",this.addablePath=a.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=a.list||"ss-list",this.optgroup=a.optgroup||"ss-optgroup",this.optgroupLabel=a.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=a.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=a.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=a.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=a.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=a.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=a.optgroupClosable||"ss-closable",this.option=a.option||"ss-option",this.optionDelete=a.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=a.highlighted||"ss-highlighted",this.open=a.open||"ss-open",this.close=a.close||"ss-close",this.selected=a.selected||"ss-selected",this.error=a.error||"ss-error",this.disabled=a.disabled||"ss-disabled",this.hide=a.hide||"ss-hide"}}function i(){return Math.random().toString(36).substring(2,10)}function n(y,a){function u(v,m){return m&&v&&v.classList&&v.classList.contains(m)||m&&v&&v.dataset&&v.dataset.id&&v.dataset.id===a?v:null}function f(v,m){return!v||v===document?null:u(v,m)?v:f(v.parentNode,m)}return u(y,a)||f(y,a)}function o(y,a=50,u=!1){let f;return function(...v){const m=self,S=()=>{f=null,u||y.apply(m,v)},x=u&&!f;clearTimeout(f),f=setTimeout(S,a),x&&y.apply(m,v)}}function r(y,a){return JSON.stringify(y)===JSON.stringify(a)}function l(y){const a=y.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,u=>"-"+u.toLowerCase());return y[0]===y[0].toUpperCase()?a.substring(1):a}class c{constructor(a){if(this.id=!a.id||a.id===""?i():a.id,this.label=a.label||"",this.selectAll=a.selectAll===void 0?!1:a.selectAll,this.selectAllText=a.selectAllText||"Select All",this.closable=a.closable||"off",this.options=[],a.options)for(const u of a.options)this.options.push(new h(u))}}class h{constructor(a){this.id=!a.id||a.id===""?i():a.id,this.value=a.value===void 0?a.text:a.value,this.text=a.text||"",this.html=a.html||"",this.selected=a.selected!==void 0?a.selected:!1,this.display=a.display!==void 0?a.display:!0,this.disabled=a.disabled!==void 0?a.disabled:!1,this.mandatory=a.mandatory!==void 0?a.mandatory:!1,this.placeholder=a.placeholder!==void 0?a.placeholder:!1,this.class=a.class||"",this.style=a.style||"",this.data=a.data||{}}}class d{constructor(a,u){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=a,this.setData(u)}validateDataArray(a){if(!Array.isArray(a))return new Error("Data must be an array");for(let u of a)if(u instanceof c||"label"in u){if(!("label"in u))return new Error("Optgroup must have a label");if("options"in u&&u.options)for(let f of u.options){const v=this.validateOption(f);if(v)return v}}else if(u instanceof h||"text"in u){const f=this.validateOption(u);if(f)return f}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(a){return"text"in a?null:new Error("Option must have a text")}partialToFullData(a){let u=[];return a.forEach(f=>{if(f instanceof c||"label"in f){let v=[];"options"in f&&f.options&&f.options.forEach(m=>{v.push(new h(m))}),v.length>0&&u.push(new c(f))}(f instanceof h||"text"in f)&&u.push(new h(f))}),u}setData(a){this.data=this.partialToFullData(a),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(a,u=!1){if(u){let f=[new h(a)];this.setData(f.concat(this.getData()))}else this.setData(this.getData().concat(new h(a)))}setSelectedBy(a,u){let f=null,v=!1;const m=[];for(let x of this.data){if(x instanceof c)for(let E of x.options)f||(f=E),E.selected=v?!1:u.includes(E[a]),E.selected&&(m.push(E),this.selectType==="single"&&(v=!0));x instanceof h&&(f||(f=x),x.selected=v?!1:u.includes(x[a]),x.selected&&(m.push(x),this.selectType==="single"&&(v=!0)))}this.selectType==="single"&&f&&!v&&(f.selected=!0,m.push(f));const S=u.map(x=>{var E;return((E=m.find(C=>C[a]===x))===null||E===void 0?void 0:E.id)||""});this.selectedOrder=S}getSelected(){return this.getSelectedOptions().map(a=>a.id)}getSelectedValues(){return this.getSelectedOptions().map(a=>a.value)}getSelectedOptions(){return this.filter(a=>a.selected,!1)}getOptgroupByID(a){for(let u of this.data)if(u instanceof c&&u.id===a)return u;return null}getOptionByID(a){let u=this.filter(f=>f.id===a,!1);return u.length?u[0]:null}getSelectType(){return this.selectType}getFirstOption(){let a=null;for(let u of this.data)if(u instanceof c?a=u.options[0]:u instanceof h&&(a=u),a)break;return a}search(a,u){return a=a.trim(),a===""?this.getData():this.filter(f=>u(f,a),!0)}filter(a,u){const f=[];return this.data.forEach(v=>{if(v instanceof c){let m=[];if(v.options.forEach(S=>{(!a||a(S))&&(u?m.push(new h(S)):f.push(new h(S)))}),m.length>0){let S=new c(v);S.options=m,f.push(S)}}v instanceof h&&(!a||a(v))&&f.push(new h(v))}),f}selectedOrderOptions(a){const u=[];return this.selectedOrder.forEach(f=>{const v=a.find(m=>m.id===f);v&&u.push(v)}),a.forEach(f=>{let v=!1;u.forEach(m=>{if(f.id===m.id){v=!0;return}}),v||u.push(f)}),u}}class g{constructor(a,u,f,v){this.store=f,this.settings=a,this.classes=u,this.callbacks=v,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const a=this.store.getSelectedOptions();if(a.length){const u=a[a.length-1].id,f=this.content.list.querySelector('[data-id="'+u+'"]');f&&this.ensureElementInView(this.content.list,f)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const a of this.settings.class)a.trim()!==""&&(this.main.main.classList.add(a.trim()),this.content.main.classList.add(a.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var a;const u=document.createElement("div");u.dataset.id=this.settings.id,u.setAttribute("aria-label",this.settings.ariaLabel),u.tabIndex=0,u.onkeydown=A=>{switch(A.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),A.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const k=this.content.list.querySelector("."+this.classes.highlighted);return k&&k.click(),!1;case"Escape":return this.callbacks.close(),!1}return A.key.length===1&&this.callbacks.open(),!0},u.onclick=A=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const f=document.createElement("div");f.classList.add(this.classes.values),u.appendChild(f);const v=document.createElement("div");v.classList.add(this.classes.deselect);const m=(a=this.store)===null||a===void 0?void 0:a.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&m&&m.length<=0?v.classList.add(this.classes.hide):v.classList.remove(this.classes.hide),v.onclick=A=>{if(A.stopPropagation(),this.settings.disabled)return;let k=!0;const W=this.store.getSelectedOptions(),j=[];if(this.callbacks.beforeChange&&(k=this.callbacks.beforeChange(j,W)===!0),k){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const F=this.store.getFirstOption(),q=F?F.id:"";this.callbacks.setSelected(q,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.setAttribute("viewBox","0 0 100 100");const x=document.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",this.classes.deselectPath),S.appendChild(x),v.appendChild(S),u.appendChild(v);const E=document.createElementNS("http://www.w3.org/2000/svg","svg");E.classList.add(this.classes.arrow),E.setAttribute("viewBox","0 0 100 100");const C=document.createElementNS("http://www.w3.org/2000/svg","path");return C.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&E.classList.add(this.classes.hide),E.appendChild(C),u.appendChild(E),{main:u,values:f,deselect:{main:v,svg:S,path:x},arrow:{main:E,path:C}}}mainFocus(a){a!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const a=this.store.filter(v=>v.placeholder,!1);let u=this.settings.placeholderText;a.length&&(a[0].html!==""?u=a[0].html:a[0].text!==""&&(u=a[0].text));const f=document.createElement("div");return f.classList.add(this.classes.placeholder),f.innerHTML=u,f}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const a=this.store.filter(f=>f.selected&&!f.placeholder,!1),u=a.length>0?a[0]:null;if(!u)this.main.values.innerHTML=this.placeholder().outerHTML;else{const f=document.createElement("div");f.classList.add(this.classes.single),u.html?f.innerHTML=u.html:f.innerText=u.text,this.main.values.innerHTML=f.outerHTML}!this.settings.allowDeselect||!a.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let a=this.main.values.childNodes,u=this.store.filter(v=>v.selected&&v.display,!1);if(u.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const v=this.main.values.querySelector("."+this.classes.placeholder);v&&v.remove()}if(u.length>this.settings.maxValuesShown){const v=document.createElement("div");v.classList.add(this.classes.max),v.textContent=this.settings.maxValuesMessage.replace("{number}",u.length.toString()),this.main.values.innerHTML=v.outerHTML;return}else{const v=this.main.values.querySelector("."+this.classes.max);v&&v.remove()}this.settings.keepOrder&&(u=this.store.selectedOrderOptions(u));let f=[];for(let v=0;v<a.length;v++){const m=a[v],S=m.getAttribute("data-id");S&&(u.filter(E=>E.id===S,!1).length||f.push(m))}for(const v of f)v.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(v)&&this.main.values.removeChild(v)},100);a=this.main.values.childNodes;for(let v=0;v<u.length;v++){let m=!0;for(let S=0;S<a.length;S++)u[v].id===String(a[S].dataset.id)&&(m=!1);m&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(u[v])):a.length===0?this.main.values.appendChild(this.multipleValue(u[v])):v===0?this.main.values.insertBefore(this.multipleValue(u[v]),a[v]):a[v-1].insertAdjacentElement("afterend",this.multipleValue(u[v])))}}multipleValue(a){const u=document.createElement("div");u.classList.add(this.classes.value),u.dataset.id=a.id;const f=document.createElement("div");if(f.classList.add(this.classes.valueText),f.textContent=a.text,u.appendChild(f),!a.mandatory){const v=document.createElement("div");v.classList.add(this.classes.valueDelete),v.onclick=x=>{if(x.preventDefault(),x.stopPropagation(),this.settings.disabled)return;let E=!0;const C=this.store.getSelectedOptions(),A=C.filter(k=>k.selected&&k.id!==a.id,!0);if(!(this.settings.minSelected&&A.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(E=this.callbacks.beforeChange(A,C)===!0),E)){let k=[];for(const W of A){if(W instanceof c)for(const j of W.options)k.push(j.id);W instanceof h&&k.push(W.id)}this.callbacks.setSelected(k,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(A),this.updateDeselectAll()}};const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const S=document.createElementNS("http://www.w3.org/2000/svg","path");S.setAttribute("d",this.classes.optionDelete),m.appendChild(S),v.appendChild(m),u.appendChild(v)}return u}contentDiv(){const a=document.createElement("div");a.dataset.id=this.settings.id;const u=this.searchDiv();a.appendChild(u.main);const f=this.listDiv();return a.appendChild(f),{main:a,search:u,list:f}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const a=document.createElement("div"),u=document.createElement("input"),f=document.createElement("div");a.classList.add(this.classes.search);const v={main:a,input:u};if(this.settings.showSearch||(a.classList.add(this.classes.hide),u.readOnly=!0),u.type="search",u.placeholder=this.settings.searchPlaceholder,u.tabIndex=-1,u.setAttribute("aria-label",this.settings.searchPlaceholder),u.setAttribute("autocapitalize","off"),u.setAttribute("autocomplete","off"),u.setAttribute("autocorrect","off"),u.oninput=o(m=>{this.callbacks.search(m.target.value)},100),u.onkeydown=m=>{switch(m.key){case"ArrowUp":case"ArrowDown":return m.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const S=this.content.list.querySelector("."+this.classes.highlighted);return S?(S.click(),!1):!0;case"Enter":if(this.callbacks.addable)return f.click(),!1;{const x=this.content.list.querySelector("."+this.classes.highlighted);if(x)return x.click(),!1}return!0}return!0},a.appendChild(u),this.callbacks.addable){f.classList.add(this.classes.addable);const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const S=document.createElementNS("http://www.w3.org/2000/svg","path");S.setAttribute("d",this.classes.addablePath),m.appendChild(S),f.appendChild(m),f.onclick=x=>{if(x.preventDefault(),x.stopPropagation(),!this.callbacks.addable)return;const E=this.content.search.input.value.trim();if(E===""){this.content.search.input.focus();return}const C=k=>{let W=new h(k);if(this.callbacks.addOption(W),this.settings.isMultiple){let j=this.store.getSelected();j.push(W.id),this.callbacks.setSelected(j,!0)}else this.callbacks.setSelected([W.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},A=this.callbacks.addable(E);A===!1||A===void 0||A===null||(A instanceof Promise?A.then(k=>{typeof k=="string"?C({text:k,value:k}):A instanceof Error?this.renderError(A.message):C(k)}):typeof A=="string"?C({text:A,value:A}):A instanceof Error?this.renderError(A.message):C(A))},a.appendChild(f),v.addable={main:f,svg:m,path:S}}return v}searchFocus(){this.content.search.input.focus()}getOptions(a=!1,u=!1,f=!1){let v="."+this.classes.option;return a&&(v+=":not(."+this.classes.placeholder+")"),u&&(v+=":not(."+this.classes.disabled+")"),f&&(v+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(v))}highlight(a){const u=this.getOptions(!0,!0,!0);if(u.length===0)return;if(u.length===1&&!u[0].classList.contains(this.classes.highlighted)){u[0].classList.add(this.classes.highlighted);return}let f=!1;for(const v of u)v.classList.contains(this.classes.highlighted)&&(f=!0);if(!f){for(const v of u)if(v.classList.contains(this.classes.selected)){v.classList.add(this.classes.highlighted);break}}for(let v=0;v<u.length;v++)if(u[v].classList.contains(this.classes.highlighted)){const m=u[v];m.classList.remove(this.classes.highlighted);const S=m.parentElement;if(S&&S.classList.contains(this.classes.open)){const C=S.querySelector("."+this.classes.optgroupLabel);C&&C.click()}let x=u[a==="down"?v+1<u.length?v+1:0:v-1>=0?v-1:u.length-1];x.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,x);const E=x.parentElement;if(E&&E.classList.contains(this.classes.close)){const C=E.querySelector("."+this.classes.optgroupLabel);C&&C.click()}return}u[a==="down"?0:u.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,u[a==="down"?0:u.length-1])}listDiv(){const a=document.createElement("div");return a.classList.add(this.classes.list),a}renderError(a){this.content.list.innerHTML="";const u=document.createElement("div");u.classList.add(this.classes.error),u.textContent=a,this.content.list.appendChild(u)}renderSearching(){this.content.list.innerHTML="";const a=document.createElement("div");a.classList.add(this.classes.searching),a.textContent=this.settings.searchingText,this.content.list.appendChild(a)}renderOptions(a){if(this.content.list.innerHTML="",a.length===0){const f=document.createElement("div");f.classList.add(this.classes.search),this.callbacks.addable?f.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):f.innerHTML=this.settings.searchText,this.content.list.appendChild(f);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(v=>v.placeholder,!1).length||this.store.addOption(new h({text:"",value:"",selected:!1,placeholder:!0}),!0));const u=document.createDocumentFragment();for(const f of a){if(f instanceof c){const v=document.createElement("div");v.classList.add(this.classes.optgroup);const m=document.createElement("div");m.classList.add(this.classes.optgroupLabel),v.appendChild(m);const S=document.createElement("div");S.classList.add(this.classes.optgroupLabelText),S.textContent=f.label,m.appendChild(S);const x=document.createElement("div");if(x.classList.add(this.classes.optgroupActions),m.appendChild(x),this.settings.isMultiple&&f.selectAll){const E=document.createElement("div");E.classList.add(this.classes.optgroupSelectAll);let C=!0;for(const F of f.options)if(!F.selected){C=!1;break}C&&E.classList.add(this.classes.selected);const A=document.createElement("span");A.textContent=f.selectAllText,E.appendChild(A);const k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.setAttribute("viewBox","0 0 100 100"),E.appendChild(k);const W=document.createElementNS("http://www.w3.org/2000/svg","path");W.setAttribute("d",this.classes.optgroupSelectAllBox),k.appendChild(W);const j=document.createElementNS("http://www.w3.org/2000/svg","path");j.setAttribute("d",this.classes.optgroupSelectAllCheck),k.appendChild(j),E.addEventListener("click",F=>{F.preventDefault(),F.stopPropagation();const q=this.store.getSelected();if(C){const ie=q.filter(K=>{for(const te of f.options)if(K===te.id)return!1;return!0});this.callbacks.setSelected(ie,!0);return}else{const ie=q.concat(f.options.map(K=>K.id));for(const K of f.options)this.store.getOptionByID(K.id)||this.callbacks.addOption(K);this.callbacks.setSelected(ie,!0);return}}),x.appendChild(E)}if(f.closable!=="off"){const E=document.createElement("div");E.classList.add(this.classes.optgroupClosable);const C=document.createElementNS("http://www.w3.org/2000/svg","svg");C.setAttribute("viewBox","0 0 100 100"),C.classList.add(this.classes.arrow),E.appendChild(C);const A=document.createElementNS("http://www.w3.org/2000/svg","path");C.appendChild(A),f.options.some(k=>k.selected)||this.content.search.input.value.trim()!==""?(E.classList.add(this.classes.open),A.setAttribute("d",this.classes.arrowOpen)):f.closable==="open"?(v.classList.add(this.classes.open),A.setAttribute("d",this.classes.arrowOpen)):f.closable==="close"&&(v.classList.add(this.classes.close),A.setAttribute("d",this.classes.arrowClose)),m.addEventListener("click",k=>{k.preventDefault(),k.stopPropagation(),v.classList.contains(this.classes.close)?(v.classList.remove(this.classes.close),v.classList.add(this.classes.open),A.setAttribute("d",this.classes.arrowOpen)):(v.classList.remove(this.classes.open),v.classList.add(this.classes.close),A.setAttribute("d",this.classes.arrowClose))}),x.appendChild(E)}v.appendChild(m);for(const E of f.options)v.appendChild(this.option(E)),u.appendChild(v)}f instanceof h&&u.appendChild(this.option(f))}this.content.list.appendChild(u)}option(a){if(a.placeholder){const f=document.createElement("div");return f.classList.add(this.classes.option),f.classList.add(this.classes.hide),f}const u=document.createElement("div");return u.dataset.id=a.id,u.classList.add(this.classes.option),u.setAttribute("role","option"),a.class&&a.class.split(" ").forEach(f=>{u.classList.add(f)}),a.style&&(u.style.cssText=a.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?u.innerHTML=this.highlightText(a.html!==""?a.html:a.text,this.content.search.input.value,this.classes.searchHighlighter):a.html!==""?u.innerHTML=a.html:u.textContent=a.text,this.settings.showOptionTooltips&&u.textContent&&u.setAttribute("title",u.textContent),a.display||u.classList.add(this.classes.hide),a.disabled&&u.classList.add(this.classes.disabled),a.selected&&this.settings.hideSelected&&u.classList.add(this.classes.hide),a.selected?(u.classList.add(this.classes.selected),u.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",u.id)):(u.classList.remove(this.classes.selected),u.setAttribute("aria-selected","false")),u.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation();const v=this.store.getSelected(),m=f.currentTarget,S=String(m.dataset.id);if(a.disabled||a.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=v.length&&!a.selected||this.settings.isMultiple&&this.settings.minSelected>=v.length&&a.selected)return;let x=!1;const E=this.store.getSelectedOptions();let C=[];this.settings.isMultiple&&(a.selected?C=E.filter(A=>A.id!==S):C=E.concat(a)),this.settings.isMultiple||(a.selected?C=[]:C=[a]),this.callbacks.beforeChange||(x=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(C,E)===!1?x=!1:x=!0),x&&(this.store.getOptionByID(S)||this.callbacks.addOption(a),this.callbacks.setSelected(C.map(A=>A.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(C))}),u}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(a,u,f){let v=a;const m=new RegExp("(?![^<]*>)("+u.trim()+")(?![^<]*>[^<>]*</)","i");if(!a.match(m))return a;const S=a.match(m).index,x=S+a.match(m)[0].toString().length,E=a.substring(S,x);return v=v.replace(m,`<mark class="${f}">${E}</mark>`),v}moveContentAbove(){const a=this.main.main.offsetHeight,u=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const f=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(a+u-1)+"px 0px 0px 0px",this.content.main.style.top=f.top+f.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=f.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=f.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const a=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=a.top+a.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=a.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=a.width+"px")}ensureElementInView(a,u){const f=a.scrollTop+a.offsetTop,v=f+a.clientHeight,m=u.offsetTop,S=m+u.clientHeight;m<f?a.scrollTop-=f-m:S>v&&(a.scrollTop+=S-v)}putContent(){const a=this.main.main.offsetHeight,u=this.main.main.getBoundingClientRect(),f=this.content.main.offsetHeight;return window.innerHeight-(u.top+a)<=f&&u.top>f?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const a=this.store.getSelectedOptions(),u=a&&a.length>0,f=this.settings.isMultiple,v=this.settings.allowDeselect,m=this.main.deselect.main,S=this.classes.hide;v&&!(f&&!u)?m.classList.remove(S):m.classList.add(S)}}class b{constructor(a){this.listen=!1,this.observer=null,this.select=a,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(a){this.listen=a,a&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),a||this.observer&&this.observer.disconnect()}valueChange(a){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(a){if(!this.listen)return;let u=!1,f=!1,v=!1;for(const m of a){if(m.target===this.select&&(m.attributeName==="disabled"&&(f=!0),m.attributeName==="class"&&(u=!0),m.type==="childList")){for(const S of m.addedNodes)if(S.nodeName==="OPTION"&&S.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}v=!0}(m.target.nodeName==="OPTGROUP"||m.target.nodeName==="OPTION")&&(v=!0)}u&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),f&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),v&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let a=[];const u=this.select.childNodes;for(const f of u)f.nodeName==="OPTGROUP"&&a.push(this.getDataFromOptgroup(f)),f.nodeName==="OPTION"&&a.push(this.getDataFromOption(f));return a}getDataFromOptgroup(a){let u={id:a.id,label:a.label,selectAll:a.dataset?a.dataset.selectall==="true":!1,selectAllText:a.dataset?a.dataset.selectalltext:"Select all",closable:a.dataset?a.dataset.closable:"off",options:[]};const f=a.childNodes;for(const v of f)v.nodeName==="OPTION"&&u.options.push(this.getDataFromOption(v));return u}getDataFromOption(a){return{id:a.id,value:a.value,text:a.text,html:a.dataset&&a.dataset.html?a.dataset.html:"",selected:a.selected,display:a.style.display!=="none",disabled:a.disabled,mandatory:a.dataset?a.dataset.mandatory==="true":!1,placeholder:a.dataset.placeholder==="true",class:a.className,style:a.style.cssText,data:a.dataset}}getSelectedOptions(){let a=[];const u=this.select.childNodes;for(const f of u){if(f.nodeName==="OPTGROUP"){const v=f.childNodes;for(const m of v)if(m.nodeName==="OPTION"){const S=m;S.selected&&a.push(this.getDataFromOption(S))}}if(f.nodeName==="OPTION"){const v=f;v.selected&&a.push(this.getDataFromOption(v))}}return a}getSelectedValues(){return this.getSelectedOptions().map(a=>a.value)}setSelected(a){this.changeListen(!1);const u=this.select.childNodes;for(const f of u){if(f.nodeName==="OPTGROUP"){const m=f.childNodes;for(const S of m)if(S.nodeName==="OPTION"){const x=S;x.selected=a.includes(x.id)}}if(f.nodeName==="OPTION"){const v=f;v.selected=a.includes(v.id)}}this.changeListen(!0)}setSelectedByValue(a){this.changeListen(!1);const u=this.select.childNodes;for(const f of u){if(f.nodeName==="OPTGROUP"){const m=f.childNodes;for(const S of m)if(S.nodeName==="OPTION"){const x=S;x.selected=a.includes(x.value)}}if(f.nodeName==="OPTION"){const v=f;v.selected=a.includes(v.value)}}this.changeListen(!0)}updateSelect(a,u,f){this.changeListen(!1),a&&(this.select.dataset.id=a),u&&(this.select.style.cssText=u),f&&(this.select.className="",f.forEach(v=>{v.trim()!==""&&this.select.classList.add(v.trim())})),this.changeListen(!0)}updateOptions(a){this.changeListen(!1),this.select.innerHTML="";for(const u of a)u instanceof c&&this.select.appendChild(this.createOptgroup(u)),u instanceof h&&this.select.appendChild(this.createOption(u));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(a){const u=document.createElement("optgroup");if(u.id=a.id,u.label=a.label,a.selectAll&&(u.dataset.selectAll="true"),a.closable!=="off"&&(u.dataset.closable=a.closable),a.options)for(const f of a.options)u.appendChild(this.createOption(f));return u}createOption(a){const u=document.createElement("option");return u.id=a.id,u.value=a.value,u.textContent=a.text,a.html!==""&&u.setAttribute("data-html",a.html),a.selected&&(u.selected=a.selected),a.disabled&&(u.disabled=!0),a.display||(u.style.display="none"),a.placeholder&&u.setAttribute("data-placeholder","true"),a.mandatory&&u.setAttribute("data-mandatory","true"),a.class&&a.class.split(" ").forEach(f=>{u.classList.add(f)}),a.data&&typeof a.data=="object"&&Object.keys(a.data).forEach(f=>{u.setAttribute("data-"+l(f),a.data[f])}),u}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class p{constructor(a){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,a||(a={}),this.id="ss-"+i(),this.style=a.style||"",this.class=a.class||[],this.disabled=a.disabled!==void 0?a.disabled:!1,this.alwaysOpen=a.alwaysOpen!==void 0?a.alwaysOpen:!1,this.showSearch=a.showSearch!==void 0?a.showSearch:!0,this.focusSearch=a.focusSearch!==void 0?a.focusSearch:!0,this.ariaLabel=a.ariaLabel||"Combobox",this.searchPlaceholder=a.searchPlaceholder||"Search",this.searchText=a.searchText||"No Results",this.searchingText=a.searchingText||"Searching...",this.searchHighlight=a.searchHighlight!==void 0?a.searchHighlight:!1,this.closeOnSelect=a.closeOnSelect!==void 0?a.closeOnSelect:!0,this.contentLocation=a.contentLocation||document.body,this.contentPosition=a.contentPosition||"absolute",this.openPosition=a.openPosition||"auto",this.placeholderText=a.placeholderText!==void 0?a.placeholderText:"Select Value",this.allowDeselect=a.allowDeselect!==void 0?a.allowDeselect:!1,this.hideSelected=a.hideSelected!==void 0?a.hideSelected:!1,this.keepOrder=a.keepOrder!==void 0?a.keepOrder:!1,this.showOptionTooltips=a.showOptionTooltips!==void 0?a.showOptionTooltips:!1,this.minSelected=a.minSelected||0,this.maxSelected=a.maxSelected||1e3,this.timeoutDelay=a.timeoutDelay||200,this.maxValuesShown=a.maxValuesShown||20,this.maxValuesMessage=a.maxValuesMessage||"{number} selected",this.addableText=a.addableText||'Press "Enter" to add {value}'}}class w{constructor(a){var u;if(this.events={search:void 0,searchFilter:(x,E)=>x.text.toLowerCase().indexOf(E.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=x=>{this.settings.isOpen&&x.target&&!n(x.target,this.settings.id)&&this.close(x.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof a.select=="string"?document.querySelector(a.select):a.select,!this.selectEl){a.events&&a.events.error&&a.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){a.events&&a.events.error&&a.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new p(a.settings),this.cssClasses=new t(a.cssClasses);const f=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const x in a.events)a.events.hasOwnProperty(x)&&(f.indexOf(x)!==-1?this.events[x]=o(a.events[x],100):this.events[x]=a.events[x]);this.settings.disabled=!((u=a.settings)===null||u===void 0)&&u.disabled?a.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new b(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=x=>{this.setSelected(x.map(E=>E.id))},this.select.onClassChange=x=>{this.settings.class=x,this.render.updateClassStyles()},this.select.onDisabledChange=x=>{x?this.disable():this.enable()},this.select.onOptionsChange=x=>{this.setData(x)},this.store=new d(this.settings.isMultiple?"multiple":"single",a.data?a.data:this.select.getData()),a.data&&this.select.updateOptions(this.store.getData());const v={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new g(this.settings,this.cssClasses,this.store,v),this.render.renderValues(),this.render.renderOptions(this.store.getData());const m=this.selectEl.getAttribute("aria-label"),S=this.selectEl.getAttribute("aria-labelledby");m?this.render.main.main.setAttribute("aria-label",m):S&&this.render.main.main.setAttribute("aria-labelledby",S),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(a){const u=this.store.getSelected(),f=this.store.validateDataArray(a);if(f){this.events.error&&this.events.error(f);return}this.store.setData(a);const v=this.store.getData();this.select.updateOptions(v),this.render.renderValues(),this.render.renderOptions(v),this.events.afterChange&&!r(u,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let a=this.store.getSelectedOptions();return this.settings.keepOrder&&(a=this.store.selectedOrderOptions(a)),a.map(u=>u.value)}setSelected(a,u=!0){const f=this.store.getSelected(),v=this.store.getDataOptions();a=Array.isArray(a)?a:[a];const m=[];for(const x of a){if(v.find(E=>E.id==x)){m.push(x);continue}for(const E of v.filter(C=>C.value==x))m.push(E.id)}this.store.setSelectedBy("id",m);const S=this.store.getData();this.select.updateOptions(S),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(S),u&&this.events.afterChange&&!r(f,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(a){const u=this.store.getSelected();this.store.getDataOptions().some(v=>{var m;return v.value===((m=a.value)!==null&&m!==void 0?m:a.text)})||this.store.addOption(a);const f=this.store.getData();this.select.updateOptions(f),this.render.renderValues(),this.render.renderOptions(f),this.events.afterChange&&!r(u,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(a=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(a),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(a){if(this.render.content.search.input.value!==a&&(this.render.content.search.input.value=a),!this.events.search){this.render.renderOptions(a===""?this.store.getData():this.store.search(a,this.events.searchFilter));return}this.render.renderSearching();const u=this.events.search(a,this.store.getSelectedOptions());if(u instanceof Promise){u.then(f=>{this.render.renderOptions(this.store.partialToFullData(f))}).catch(f=>{this.render.renderError(typeof f=="string"?f:f.message)});return}else Array.isArray(u)?this.render.renderOptions(this.store.partialToFullData(u)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return w})})(eo);var Rr=eo.exports;const to=bs(Rr);function ys(s){return s[s.length-1]}function Kt(s,...e){return e.forEach(t=>{s.includes(t)||s.push(t)}),s}function js(s,e){return s?s.split(e):[]}function ws(s,e,t){const i=e===void 0||s>=e,n=t===void 0||s<=t;return i&&n}function io(s,e,t){return s<e?e:s>t?t:s}function Mt(s,e,t={},i=0,n=""){const o=Object.keys(t).reduce((l,c)=>{let h=t[c];return typeof h=="function"&&(h=h(i)),`${l} ${c}="${h}"`},s);n+=`<${o}></${s}>`;const r=i+1;return r<e?Mt(s,e,t,r,n):n}function xs(s){return s.replace(/>\s+/g,">").replace(/\s+</,"<")}function as(s){return new Date(s).setHours(0,0,0,0)}function gt(){return new Date().setHours(0,0,0,0)}function Lt(...s){switch(s.length){case 0:return gt();case 1:return as(s[0])}const e=new Date(0);return e.setFullYear(...s),e.setHours(0,0,0,0)}function Yt(s,e){const t=new Date(s);return t.setDate(t.getDate()+e)}function Nr(s,e){return Yt(s,e*7)}function bi(s,e){const t=new Date(s),i=t.getMonth()+e;let n=i%12;n<0&&(n+=12);const o=t.setMonth(i);return t.getMonth()!==n?t.setDate(0):o}function qt(s,e){const t=new Date(s),i=t.getMonth(),n=t.setFullYear(t.getFullYear()+e);return i===1&&t.getMonth()===2?t.setDate(0):n}function _s(s,e){return(s-e+7)%7}function ht(s,e,t=0){const i=new Date(s).getDay();return Yt(s,_s(e,t)-_s(i,t))}function so(s,e){return Math.round((s-e)/6048e5)+1}function Fr(s){const e=ht(s,4,1),t=ht(new Date(e).setMonth(0,4),4,1);return so(e,t)}function no(s,e){const t=ht(new Date(s).setMonth(0,1),e,e),i=ht(s,e,e),n=so(i,t);if(n<53)return n;const o=ht(new Date(s).setDate(32),e,e);return i===o?1:n}function Ir(s){return no(s,0)}function zr(s){return no(s,6)}function yt(s,e){const t=new Date(s).getFullYear();return Math.floor(t/e)*e}function et(s,e,t){if(e!==1&&e!==2)return s;const i=new Date(s);return e===1?t?i.setMonth(i.getMonth()+1,0):i.setDate(1):t?i.setFullYear(i.getFullYear()+1,0,0):i.setMonth(0,1),i.setHours(0,0,0,0)}const ls=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Br=/[\s!-/:-@[-`{-~]+/;let Ni={};const Ws={y(s,e){return new Date(s).setFullYear(parseInt(e,10))},m(s,e,t){const i=new Date(s);let n=parseInt(e,10)-1;if(isNaN(n)){if(!e)return NaN;const o=e.toLowerCase(),r=l=>l.toLowerCase().startsWith(o);if(n=t.monthsShort.findIndex(r),n<0&&(n=t.months.findIndex(r)),n<0)return NaN}return i.setMonth(n),i.getMonth()!==oo(n)?i.setDate(0):i.getTime()},d(s,e){return new Date(s).setDate(parseInt(e,10))}},Hr={d(s){return s.getDate()},dd(s){return ti(s.getDate(),2)},D(s,e){return e.daysShort[s.getDay()]},DD(s,e){return e.days[s.getDay()]},m(s){return s.getMonth()+1},mm(s){return ti(s.getMonth()+1,2)},M(s,e){return e.monthsShort[s.getMonth()]},MM(s,e){return e.months[s.getMonth()]},y(s){return s.getFullYear()},yy(s){return ti(s.getFullYear(),2).slice(-2)},yyyy(s){return ti(s.getFullYear(),4)}};function oo(s){return s>-1?s%12:oo(s+12)}function ti(s,e){return s.toString().padStart(e,"0")}function ro(s){if(typeof s!="string")throw new Error("Invalid date format.");if(s in Ni)return Ni[s];const e=s.split(ls),t=s.match(new RegExp(ls,"g"));if(e.length===0||!t)throw new Error("Invalid date format.");const i=t.map(o=>Hr[o]),n=Object.keys(Ws).reduce((o,r)=>(t.find(c=>c[0]!=="D"&&c[0].toLowerCase()===r)&&o.push(r),o),[]);return Ni[s]={parser(o,r){const l=o.split(Br).reduce((c,h,d)=>{if(h.length>0&&t[d]){const g=t[d][0];g==="M"?c.m=h:g!=="D"&&(c[g]=h)}return c},{});return n.reduce((c,h)=>{const d=Ws[h](c,l[h],r);return isNaN(d)?c:d},gt())},formatter(o,r){let l=i.reduce((c,h,d)=>c+=`${e[d]}${h(o,r)}`,"");return l+=ys(e)}}}function ft(s,e,t){if(s instanceof Date||typeof s=="number"){const i=as(s);return isNaN(i)?void 0:i}if(s){if(s==="today")return gt();if(e&&e.toValue){const i=e.toValue(s,e,t);return isNaN(i)?void 0:as(i)}return ro(e).parser(s,t)}}function Mi(s,e,t){if(isNaN(s)||!s&&s!==0)return"";const i=typeof s=="number"?new Date(s):s;return e.toDisplay?e.toDisplay(i,e,t):ro(e).formatter(i,t)}const jr=document.createRange();function Ye(s){return jr.createContextualFragment(s)}function ao(s){return s.parentElement||(s.parentNode instanceof ShadowRoot?s.parentNode.host:void 0)}function Li(s){return s.getRootNode().activeElement===s}function Ht(s){s.style.display!=="none"&&(s.style.display&&(s.dataset.styleDisplay=s.style.display),s.style.display="none")}function jt(s){s.style.display==="none"&&(s.dataset.styleDisplay?(s.style.display=s.dataset.styleDisplay,delete s.dataset.styleDisplay):s.style.display="")}function yi(s){s.firstChild&&(s.removeChild(s.firstChild),yi(s))}function _r(s,e){yi(s),e instanceof DocumentFragment?s.appendChild(e):typeof e=="string"?s.appendChild(Ye(e)):typeof e.forEach=="function"&&e.forEach(t=>{s.appendChild(t)})}const wi=new WeakMap,{addEventListener:Wr,removeEventListener:Vr}=EventTarget.prototype;function cs(s,e){let t=wi.get(s);t||(t=[],wi.set(s,t)),e.forEach(i=>{Wr.call(...i),t.push(i)})}function $r(s){let e=wi.get(s);e&&(e.forEach(t=>{Vr.call(...t)}),wi.delete(s))}if(!Event.prototype.composedPath){const s=(e,t=[])=>{t.push(e);let i;return e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?s(i,t):t};Event.prototype.composedPath=function(){return s(this.target)}}function lo(s,e,t){const[i,...n]=s;if(e(i))return i;if(!(i===t||i.tagName==="HTML"||n.length===0))return lo(n,e,t)}function co(s,e){const t=typeof e=="function"?e:i=>i instanceof Element&&i.matches(e);return lo(s.composedPath(),t,s.currentTarget)}const Nt={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Ss={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"",orientation:"auto",pickLevel:0,prevArrow:"",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:Fi,format:Yr,weekStart:qr}=Ss;function Vs(s,e){return s.length<6&&e>=0&&e<7?Kt(s,e):s}function ho(s,e){switch(s===4?e===6?3:!e+1:s){case 1:return Fr;case 2:return Ir;case 3:return zr}}function $s(s,e,t){return e.weekStart=s,e.weekEnd=(s+6)%7,t===4&&(e.getWeekNumber=ho(4,s)),s}function Ys(s,e,t,i){const n=ft(s,e,t);return n!==void 0?n:i}function Ii(s,e,t=3){const i=parseInt(s,10);return i>=0&&i<=t?i:e}function ii(s,e,t,i=void 0){e in s&&(t in s||(s[t]=i?i(s[e]):s[e]),delete s[e])}function zi(s,e){const t=Object.assign({},s),i={},n=e.constructor.locales,o=!!e.rangeSideIndex;let{datesDisabled:r,format:l,language:c,locale:h,maxDate:d,maxView:g,minDate:b,pickLevel:p,startView:w,weekNumbers:y,weekStart:a}=e.config||{};if(ii(t,"calendarWeeks","weekNumbers",x=>x?1:0),ii(t,"clearBtn","clearButton"),ii(t,"todayBtn","todayButton"),ii(t,"todayBtnMode","todayButtonMode"),t.language){let x;if(t.language!==c&&(n[t.language]?x=t.language:(x=t.language.split("-")[0],n[x]||(x=!1))),delete t.language,x){c=i.language=x;const E=h||n[Fi];h=Object.assign({format:Yr,weekStart:qr},n[Fi]),c!==Fi&&Object.assign(h,n[c]),i.locale=h,l===E.format&&(l=i.format=h.format),a===E.weekStart&&(a=$s(h.weekStart,i,y))}}if(t.format){const x=typeof t.format.toDisplay=="function",E=typeof t.format.toValue=="function",C=ls.test(t.format);(x&&E||C)&&(l=i.format=t.format),delete t.format}let u=p;"pickLevel"in t&&(u=Ii(t.pickLevel,p,2),delete t.pickLevel),u!==p&&(u>p&&("minDate"in t||(t.minDate=b),"maxDate"in t||(t.maxDate=d)),r&&!t.datesDisabled&&(t.datesDisabled=[]),p=i.pickLevel=u);let f=b,v=d;if("minDate"in t){const x=Lt(0,0,1);f=t.minDate===null?x:Ys(t.minDate,l,h,f),f!==x&&(f=et(f,p,!1)),delete t.minDate}if("maxDate"in t&&(v=t.maxDate===null?void 0:Ys(t.maxDate,l,h,v),v!==void 0&&(v=et(v,p,!0)),delete t.maxDate),v<f?(b=i.minDate=v,d=i.maxDate=f):(b!==f&&(b=i.minDate=f),d!==v&&(d=i.maxDate=v)),t.datesDisabled){const x=t.datesDisabled;if(typeof x=="function")i.datesDisabled=null,i.checkDisabled=(E,C)=>x(new Date(E),C,o);else{const E=i.datesDisabled=x.reduce((C,A)=>{const k=ft(A,l,h);return k!==void 0?Kt(C,et(k,p,o)):C},[]);i.checkDisabled=C=>E.includes(C)}delete t.datesDisabled}if("defaultViewDate"in t){const x=ft(t.defaultViewDate,l,h);x!==void 0&&(i.defaultViewDate=x),delete t.defaultViewDate}if("weekStart"in t){const x=Number(t.weekStart)%7;isNaN(x)||(a=$s(x,i,y)),delete t.weekStart}if(t.daysOfWeekDisabled&&(i.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(Vs,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(Vs,[]),delete t.daysOfWeekHighlighted),"weekNumbers"in t){let x=t.weekNumbers;if(x){const E=typeof x=="function"?(C,A)=>x(new Date(C),A):ho(x=parseInt(x,10),a);E&&(y=i.weekNumbers=x,i.getWeekNumber=E)}else y=i.weekNumbers=0,i.getWeekNumber=null;delete t.weekNumbers}if("maxNumberOfDates"in t){const x=parseInt(t.maxNumberOfDates,10);x>=0&&(i.maxNumberOfDates=x,i.multidate=x!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(i.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let m=g;"maxView"in t&&(m=Ii(t.maxView,g),delete t.maxView),m=p>m?p:m,m!==g&&(g=i.maxView=m);let S=w;if("startView"in t&&(S=Ii(t.startView,S),delete t.startView),S<p?S=p:S>g&&(S=g),S!==w&&(i.startView=S),t.prevArrow){const x=Ye(t.prevArrow);x.childNodes.length>0&&(i.prevArrow=x.childNodes),delete t.prevArrow}if(t.nextArrow){const x=Ye(t.nextArrow);x.childNodes.length>0&&(i.nextArrow=x.childNodes),delete t.nextArrow}if("disableTouchKeyboard"in t&&(i.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){const x=t.orientation.toLowerCase().split(/\s+/g);i.orientation={x:x.find(E=>E==="left"||E==="right")||"auto",y:x.find(E=>E==="top"||E==="bottom")||"auto"},delete t.orientation}if("todayButtonMode"in t){switch(t.todayButtonMode){case 0:case 1:i.todayButtonMode=t.todayButtonMode}delete t.todayButtonMode}return Object.entries(t).forEach(([x,E])=>{E!==void 0&&x in Ss&&(i[x]=E)}),i}const qs={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function Xr(s){return Object.keys(qs).reduce((e,t)=>{const i=s[t]===void 0?qs[t]:s[t],n=i&&i.key;if(!n||typeof n!="string")return e;const o={key:n,ctrlOrMetaKey:!!(i.ctrlOrMetaKey||i.ctrlKey||i.metaKey)};return n.length>1&&(o.altKey=!!i.altKey,o.shiftKey=!!i.shiftKey),e[t]=o,e},{})}const Xs=s=>s.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),Ur=xs(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${Xs(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${Xs(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),Kr=xs(`<div class="days">
  <div class="days-of-week">${Mt("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${Mt("span",42)}</div>
</div>`),Zr=xs(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${Mt("span",6,{class:"week"})}</div>
</div>`);class Es{constructor(e,t){Object.assign(this,t,{picker:e,element:Ye('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,i){this.disabled=[];const n=this.picker;n.setViewSwitchLabel(e),n.setPrevButtonDisabled(t),n.setNextButtonDisabled(i)}setDisabled(e,t){t.add("disabled"),Kt(this.disabled,e)}performBeforeHook(e,t){let i=this.beforeShow(new Date(t));switch(typeof i){case"boolean":i={enabled:i};break;case"string":i={classes:i}}if(i){const n=e.classList;if(i.enabled===!1&&this.setDisabled(t,n),i.classes){const o=i.classes.split(/\s+/);n.add(...o),o.includes("disabled")&&this.setDisabled(t,n)}i.content&&_r(e,i.content)}}renderCell(e,t,i,n,{selected:o,range:r},l,c=[]){e.textContent=t,this.isMinView&&(e.dataset.date=n);const h=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,i<this.first?h.add("prev"):i>this.last&&h.add("next"),h.add(...c),(l||this.checkDisabled(n,this.id))&&this.setDisabled(n,h),r){const[d,g]=r;i>d&&i<g&&h.add("range"),i===d&&h.add("range-start"),i===g&&h.add("range-end")}o.includes(i)&&h.add("selected"),i===this.focused&&h.add("focused"),this.beforeShow&&this.performBeforeHook(e,n)}refreshCell(e,t,i,[n,o]){const r=e.classList;r.remove("range","range-start","range-end","selected","focused"),t>n&&t<o&&r.add("range"),t===n&&r.add("range-start"),t===o&&r.add("range-end"),i.includes(t)&&r.add("selected"),t===this.focused&&r.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class Gr extends Es{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const i=Ye(Kr).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}super.init(e)}setOptions(e){let t;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const i=this.locale=e.locale;this.dayNames=i.daysMin,this.switchLabelFormat=i.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const i=Ye(Zr).firstChild;this.weekNumbers={element:i,dow:i.firstChild,weeks:i.lastChild},this.element.insertBefore(i,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(jt(this.dow),this.weekNumbers&&jt(this.weekNumbers.dow)):(Ht(this.dow),this.weekNumbers&&Ht(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((i,n)=>{const o=(this.weekStart+n)%7;i.textContent=this.dayNames[o],i.className=this.daysOfWeekDisabled.includes(o)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),i=e.getMonth(),n=Lt(t,i,1),o=ht(n,this.weekStart,this.weekStart);this.first=n,this.last=Lt(t,i+1,0),this.start=o,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?gt():void 0,this.prepareForRender(Mi(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,t=ht(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((i,n)=>{const o=Nr(t,n);i.textContent=this.getWeekNumber(o,e),n>3&&i.classList[o>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,t)=>{const i=Yt(this.start,t),n=new Date(i),o=n.getDay(),r=[];this.today===i&&r.push("today"),this.daysOfWeekHighlighted.includes(o)&&r.push("highlighted"),this.renderCell(e,n.getDate(),i,i,this,i<this.minDate||i>this.maxDate||this.daysOfWeekDisabled.includes(o),r)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function Us(s,e){if(!s||!s[0]||!s[1])return;const[[t,i],[n,o]]=s;if(!(t>e||n<e))return[t===e?i:-1,n===e?o:12]}class Jr extends Es{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(Ye(Mt("span",12,{"data-month":i=>i}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=Lt(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((i,n)=>{const o=new Date(n),r=o.getFullYear(),l=o.getMonth();return i[r]===void 0?i[r]=[l]:Kt(i[r],l),i},{}),t&&t.dates&&(this.range=t.dates.map(i=>{const n=new Date(i);return isNaN(n)?void 0:[n.getFullYear(),n.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,i=this.year===this.minYear,n=this.year===this.maxYear,o=Us(this.range,this.year);Array.from(this.grid.children).forEach((r,l)=>{const c=et(new Date(this.year,l,1),1,this.isRangeEnd);this.renderCell(r,this.monthNames[l],l,c,{selected:e,range:o},t||i&&l<this.minMonth||n&&l>this.maxMonth)})}refresh(){const e=this.selected[this.year]||[],t=Us(this.range,this.year)||[];Array.from(this.grid.children).forEach((i,n)=>{this.refreshCell(i,n,e,t)})}refreshFocus(){this.changeFocusedCell(this.focused)}}function Qr(s){return[...s].reduce((e,t,i)=>e+=i?t:t.toUpperCase(),"")}class Ks extends Es{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${Qr(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(Ye(Mt("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=yt(e.minDate,this.step),this.minDate=Lt(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=yt(e.maxDate,this.step),this.maxDate=Lt(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){const t=e[this.beforeShowOption];this.beforeShow=typeof t=="function"?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=yt(e,this.navStep),i=t+9*this.step;this.first=t,this.last=i,this.start=t-this.step,this.focused=yt(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((i,n)=>Kt(i,yt(n,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(i=>{if(i!==void 0)return yt(i,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{const i=this.start+t*this.step,n=et(new Date(i,0,1),2,this.isRangeEnd);e.dataset.year=i,this.renderCell(e,i,i,n,this,i<this.minYear||i>this.maxYear)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Ct(s,e){const t={bubbles:!0,cancelable:!0,detail:{date:s.getDate(),viewDate:new Date(s.picker.viewDate),viewId:s.picker.currentView.id,datepicker:s}};s.element.dispatchEvent(new CustomEvent(e,t))}function xi(s,e){const{config:t,picker:i}=s,{currentView:n,viewDate:o}=i;let r;switch(n.id){case 0:r=bi(o,e);break;case 1:r=qt(o,e);break;default:r=qt(o,e*n.navStep)}r=io(r,t.minDate,t.maxDate),i.changeFocus(r).render()}function uo(s){const e=s.picker.currentView.id;e!==s.config.maxView&&s.picker.changeView(e+1).render()}function fo(s){s.setDate({clear:!0})}function po(s){const e=gt();s.config.todayButtonMode===1?s.setDate(e,{forceRefresh:!0,viewDate:e}):s.setFocusedDate(e,!0)}function mo(s){const e=()=>{s.config.updateOnBlur?s.update({revert:!0}):s.refresh("input"),s.hide()},t=s.element;Li(t)?t.addEventListener("blur",e,{once:!0}):e()}function Zs(s,e){const t=s.picker,i=new Date(t.viewDate),n=t.currentView.id,o=n===1?bi(i,e-i.getMonth()):qt(i,e-i.getFullYear());t.changeFocus(o).changeView(n-1).render()}function ea(s){uo(s)}function ta(s){xi(s,-1)}function ia(s){xi(s,1)}function sa(s,e){const t=co(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;const{id:i,isMinView:n}=s.picker.currentView,o=t.dataset;n?s.setDate(Number(o.date)):i===1?Zs(s,Number(o.month)):Zs(s,Number(o.year))}function na(s){s.preventDefault()}const Bi=["left","top","right","bottom"].reduce((s,e)=>(s[e]=`datepicker-orient-${e}`,s),{}),Gs=s=>s&&`${s}px`;function Js(s,e){if("title"in e&&(e.title?(s.controls.title.textContent=e.title,jt(s.controls.title)):(s.controls.title.textContent="",Ht(s.controls.title))),e.prevArrow){const t=s.controls.prevButton;yi(t),e.prevArrow.forEach(i=>{t.appendChild(i.cloneNode(!0))})}if(e.nextArrow){const t=s.controls.nextButton;yi(t),e.nextArrow.forEach(i=>{t.appendChild(i.cloneNode(!0))})}if(e.locale&&(s.controls.todayButton.textContent=e.locale.today,s.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?jt(s.controls.todayButton):Ht(s.controls.todayButton)),"minDate"in e||"maxDate"in e){const{minDate:t,maxDate:i}=s.datepicker.config;s.controls.todayButton.disabled=!ws(gt(),t,i)}"clearButton"in e&&(e.clearButton?jt(s.controls.clearButton):Ht(s.controls.clearButton))}function Qs(s){const{dates:e,config:t,rangeSideIndex:i}=s,n=e.length>0?ys(e):et(t.defaultViewDate,t.pickLevel,i);return io(n,t.minDate,t.maxDate)}function en(s,e){!("_oldViewDate"in s)&&e!==s.viewDate&&(s._oldViewDate=s.viewDate),s.viewDate=e;const{id:t,year:i,first:n,last:o}=s.currentView,r=new Date(e).getFullYear();switch(t){case 0:return e<n||e>o;case 1:return r!==i;default:return r<n||r>o}}function Hi(s){return window.getComputedStyle(s).direction}function go(s){const e=ao(s);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:go(e)}class oa{constructor(e){const{config:t,inputField:i}=this.datepicker=e,n=Ur.replace(/%buttonClass%/g,t.buttonClass),o=this.element=Ye(n).firstChild,[r,l,c]=o.firstChild.children,h=r.firstElementChild,[d,g,b]=r.lastElementChild.children,[p,w]=c.firstChild.children,y={title:h,prevButton:d,viewSwitch:g,nextButton:b,todayButton:p,clearButton:w};this.main=l,this.controls=y;const a=i?"dropdown":"inline";o.classList.add(`datepicker-${a}`),Js(this,t),this.viewDate=Qs(e),cs(e,[[o,"mousedown",na],[l,"click",sa.bind(null,e)],[y.viewSwitch,"click",ea.bind(null,e)],[y.prevButton,"click",ta.bind(null,e)],[y.nextButton,"click",ia.bind(null,e)],[y.todayButton,"click",po.bind(null,e)],[y.clearButton,"click",fo.bind(null,e)]]),this.views=[new Gr(this),new Jr(this),new Ks(this,{id:2,name:"years",cellClass:"year",step:1}),new Ks(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):i.after(this.element)}setOptions(e){Js(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:t}=this,i=e.inputField;if(i){const n=Hi(i);n!==Hi(ao(t))?t.dir=n:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&i.blur()}else t.classList.add("active");this.active=!0,Ct(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Ct(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element;t.display="block";const{width:i,height:n}=this.element.getBoundingClientRect(),o=this.element.offsetParent;t.display="";const{config:r,inputField:l}=this.datepicker,{left:c,top:h,right:d,bottom:g,width:b,height:p}=l.getBoundingClientRect();let{x:w,y}=r.orientation,a=c,u=h;if(o===document.body||!o)a+=window.scrollX,u+=window.scrollY;else{const C=o.getBoundingClientRect();a-=C.left-o.scrollLeft,u-=C.top-o.scrollTop}const f=go(l);let v=0,m=0,{clientWidth:S,clientHeight:x}=document.documentElement;if(f){const C=f.getBoundingClientRect();C.top>0&&(m=C.top),C.left>0&&(v=C.left),C.right<S&&(S=C.right),C.bottom<x&&(x=C.bottom)}let E=0;w==="auto"&&(c<v?(w="left",E=v-c):c+i>S?(w="right",S<d&&(E=S-d)):Hi(l)==="rtl"?w=d-i<v?"left":"right":w="left"),w==="right"&&(a+=b-i),a+=E,y==="auto"&&(h-n>m?y=g+n>x?"top":"bottom":y="bottom"),y==="top"?u-=n:u+=p,e.remove(...Object.values(Bi)),e.add(Bi[w],Bi[y]),t.left=Gs(a),t.top=Gs(u)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=en(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(e=void 0){const t=e===void 0?Qs(this.datepicker):e;return this._renderMethod=en(this,t)?"render":"refresh",this.views.forEach(i=>{i.updateFocus(),i.updateSelection()}),this}render(e=!0){const{currentView:t,datepicker:i,_oldView:n}=this,o=new Date(this._oldViewDate),r=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[r](),n&&(this.main.replaceChild(t.element,n.element),Ct(i,"changeView")),!isNaN(o)){const l=new Date(this.viewDate);l.getFullYear()!==o.getFullYear()&&Ct(i,"changeYear"),l.getMonth()!==o.getMonth()&&Ct(i,"changeMonth")}}}function vo(s,e,t,i,n,o){if(ws(s,n,o)){if(i(s)){const r=e(s,t);return vo(r,e,t,i,n,o)}return s}}function ra(s,e,t){const i=s.picker,n=i.currentView,o=n.step||1;let r=i.viewDate,l;switch(n.id){case 0:r=Yt(r,t?e*7:e),l=Yt;break;case 1:r=bi(r,t?e*4:e),l=bi;break;default:r=qt(r,e*(t?4:1)*o),l=qt}r=vo(r,l,e<0?-o:o,c=>n.disabled.includes(c),n.minDate,n.maxDate),r!==void 0&&i.changeFocus(r).render()}function aa(s,e){const{config:t,picker:i,editMode:n}=s,o=i.active,{key:r,altKey:l,shiftKey:c}=e,h=e.ctrlKey||e.metaKey,d=()=>{e.preventDefault(),e.stopPropagation()};if(r==="Tab"){mo(s);return}if(r==="Enter"){if(!o)s.update();else if(n)s.exitEditMode({update:!0,autohide:t.autohide});else{const y=i.currentView;y.isMinView?s.setDate(i.viewDate):(i.changeView(y.id-1).render(),d())}return}const g=t.shortcutKeys,b={key:r,ctrlOrMetaKey:h,altKey:l,shiftKey:c},p=Object.keys(g).find(y=>{const a=g[y];return!Object.keys(a).find(u=>a[u]!==b[u])});if(p){let y;if(p==="toggle"?y=p:n?p==="exitEditMode"&&(y=p):o?p==="hide"?y=p:p==="prevButton"?y=[xi,[s,-1]]:p==="nextButton"?y=[xi,[s,1]]:p==="viewSwitch"?y=[uo,[s]]:t.clearButton&&p==="clearButton"?y=[fo,[s]]:t.todayButton&&p==="todayButton"&&(y=[po,[s]]):p==="show"&&(y=p),y){Array.isArray(y)?y[0].apply(null,y[1]):s[y](),d();return}}if(!o||n)return;const w=(y,a)=>{c||h||l?s.enterEditMode():(ra(s,y,a),e.preventDefault())};r==="ArrowLeft"?w(-1,!1):r==="ArrowRight"?w(1,!1):r==="ArrowUp"?w(-1,!0):r==="ArrowDown"?w(1,!0):(r==="Backspace"||r==="Delete"||r&&r.length===1&&!h)&&s.enterEditMode()}function la(s){s.config.showOnFocus&&!s._showing&&s.show()}function ca(s,e){const t=e.target;(s.picker.active||s.config.showOnClick)&&(t._active=Li(t),t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function ha(s,e){const t=e.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&s.enterEditMode(),delete t._active,s.config.showOnClick&&s.show())}function da(s,e){e.clipboardData.types.includes("text/plain")&&s.enterEditMode()}function ua(s,e){const{element:t,picker:i}=s;if(!i.active&&!Li(t))return;const n=i.element;co(e,o=>o===t||o===n)||mo(s)}function bo(s,e){return s.map(t=>Mi(t,e.format,e.locale)).join(e.dateDelimiter)}function yo(s,e,t=!1){if(e.length===0)return t?[]:void 0;const{config:i,dates:n,rangeSideIndex:o}=s,{pickLevel:r,maxNumberOfDates:l}=i;let c=e.reduce((h,d)=>{let g=ft(d,i.format,i.locale);return g===void 0||(g=et(g,r,o),ws(g,i.minDate,i.maxDate)&&!h.includes(g)&&!i.checkDisabled(g,r)&&(r>0||!i.daysOfWeekDisabled.includes(new Date(g).getDay()))&&h.push(g)),h},[]);if(c.length!==0)return i.multidate&&!t&&(c=c.reduce((h,d)=>(n.includes(d)||h.push(d),h),n.filter(h=>!c.includes(h)))),l&&c.length>l?c.slice(l*-1):c}function Si(s,e=3,t=!0,i=void 0){const{config:n,picker:o,inputField:r}=s;if(e&2){const l=o.active?n.pickLevel:n.startView;o.update(i).changeView(l).render(t)}e&1&&r&&(r.value=bo(s.dates,n))}function tn(s,e,t){const i=s.config;let{clear:n,render:o,autohide:r,revert:l,forceRefresh:c,viewDate:h}=t;o===void 0&&(o=!0),o?r===void 0&&(r=i.autohide):r=c=!1,h=ft(h,i.format,i.locale);const d=yo(s,e,n);!d&&!l||(d&&d.toString()!==s.dates.toString()?(s.dates=d,Si(s,o?3:1,!0,h),Ct(s,"changeDate")):Si(s,c?3:1,!0,h),r&&s.hide())}function sn(s,e){return e?t=>Mi(t,e,s.config.locale):t=>new Date(t)}class fa{constructor(e,t={},i=void 0){e.datepicker=this,this.element=e,this.dates=[];const n=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:gt(),maxDate:void 0,minDate:void 0},zi(Ss,this));let o;if(e.tagName==="INPUT"?(o=this.inputField=e,o.classList.add("datepicker-input"),t.container&&(n.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):n.container=e,i){const d=i.inputs.indexOf(o),g=i.datepickers;if(d<0||d>1||!Array.isArray(g))throw Error("Invalid rangepicker object.");g[d]=this,this.rangepicker=i,this.rangeSideIndex=d}this._options=t,Object.assign(n,zi(t,this)),n.shortcutKeys=Xr(t.shortcutKeys||{});const r=js(e.value||e.dataset.date,n.dateDelimiter);delete e.dataset.date;const l=yo(this,r);l&&l.length>0&&(this.dates=l),o&&(o.value=bo(this.dates,n));const c=this.picker=new oa(this),h=[e,"keydown",aa.bind(null,this)];o?cs(this,[h,[o,"focus",la.bind(null,this)],[o,"mousedown",ca.bind(null,this)],[o,"click",ha.bind(null,this)],[o,"paste",da.bind(null,this)],[document,"mousedown",ua.bind(null,this)],[window,"resize",c.place.bind(c)]]):(cs(this,[h]),this.show())}static formatDate(e,t,i){return Mi(e,t,i&&Nt[i]||Nt.en)}static parseDate(e,t,i){return ft(e,t,i&&Nt[i]||Nt.en)}static get locales(){return Nt}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=zi(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),Si(this,3)}show(){if(this.inputField){const{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;!Li(t)&&!e.disableTouchKeyboard&&(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),$r(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){const t=sn(this,e);if(this.config.multidate)return this.dates.map(t);if(this.dates.length>0)return t(this.dates[0])}setDate(...e){const t=[...e],i={},n=ys(e);n&&typeof n=="object"&&!Array.isArray(n)&&!(n instanceof Date)&&Object.assign(i,t.pop());const o=Array.isArray(t[0])?t[0]:t;tn(this,o,i)}update(e=void 0){if(!this.inputField)return;const t=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),i=js(this.inputField.value,this.config.dateDelimiter);tn(this,i,t)}getFocusedDate(e=void 0){return sn(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){const{config:i,picker:n,active:o,rangeSideIndex:r}=this,l=i.pickLevel,c=ft(e,i.format,i.locale);c!==void 0&&(n.changeFocus(et(c,l,r)),o&&t&&n.changeView(l),n.render())}refresh(e=void 0,t=!1){e&&typeof e!="string"&&(t=e,e=void 0);let i;e==="picker"?i=2:e==="input"?i=1:i=3,Si(this,i,!t)}enterEditMode(){const e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}var de="top",Te="bottom",Ce="right",ue="left",Os="auto",Zt=[de,Te,Ce,ue],At="start",Xt="end",pa="clippingParents",wo="viewport",Ft="popper",ma="reference",nn=Zt.reduce(function(s,e){return s.concat([e+"-"+At,e+"-"+Xt])},[]),xo=[].concat(Zt,[Os]).reduce(function(s,e){return s.concat([e,e+"-"+At,e+"-"+Xt])},[]),ga="beforeRead",va="read",ba="afterRead",ya="beforeMain",wa="main",xa="afterMain",Sa="beforeWrite",Ea="write",Oa="afterWrite",Ta=[ga,va,ba,ya,wa,xa,Sa,Ea,Oa];function je(s){return s?(s.nodeName||"").toLowerCase():null}function ge(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function pt(s){var e=ge(s).Element;return s instanceof e||s instanceof Element}function Oe(s){var e=ge(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function Ts(s){if(typeof ShadowRoot>"u")return!1;var e=ge(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Ca(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!Oe(o)||!je(o)||(Object.assign(o.style,i),Object.keys(n).forEach(function(r){var l=n[r];l===!1?o.removeAttribute(r):o.setAttribute(r,l===!0?"":l)}))})}function Da(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],o=e.attributes[i]||{},r=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=r.reduce(function(c,h){return c[h]="",c},{});!Oe(n)||!je(n)||(Object.assign(n.style,l),Object.keys(o).forEach(function(c){n.removeAttribute(c)}))})}}const So={name:"applyStyles",enabled:!0,phase:"write",fn:Ca,effect:Da,requires:["computeStyles"]};function He(s){return s.split("-")[0]}var dt=Math.max,Ei=Math.min,Pt=Math.round;function hs(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Eo(){return!/^((?!chrome|android).)*safari/i.test(hs())}function kt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=s.getBoundingClientRect(),n=1,o=1;e&&Oe(s)&&(n=s.offsetWidth>0&&Pt(i.width)/s.offsetWidth||1,o=s.offsetHeight>0&&Pt(i.height)/s.offsetHeight||1);var r=pt(s)?ge(s):window,l=r.visualViewport,c=!Eo()&&t,h=(i.left+(c&&l?l.offsetLeft:0))/n,d=(i.top+(c&&l?l.offsetTop:0))/o,g=i.width/n,b=i.height/o;return{width:g,height:b,top:d,right:h+g,bottom:d+b,left:h,x:h,y:d}}function Cs(s){var e=kt(s),t=s.offsetWidth,i=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:i}}function Oo(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&Ts(t)){var i=e;do{if(i&&s.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qe(s){return ge(s).getComputedStyle(s)}function Ma(s){return["table","td","th"].indexOf(je(s))>=0}function tt(s){return((pt(s)?s.ownerDocument:s.document)||window.document).documentElement}function Ai(s){return je(s)==="html"?s:s.assignedSlot||s.parentNode||(Ts(s)?s.host:null)||tt(s)}function on(s){return!Oe(s)||qe(s).position==="fixed"?null:s.offsetParent}function La(s){var e=/firefox/i.test(hs()),t=/Trident/i.test(hs());if(t&&Oe(s)){var i=qe(s);if(i.position==="fixed")return null}var n=Ai(s);for(Ts(n)&&(n=n.host);Oe(n)&&["html","body"].indexOf(je(n))<0;){var o=qe(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function Gt(s){for(var e=ge(s),t=on(s);t&&Ma(t)&&qe(t).position==="static";)t=on(t);return t&&(je(t)==="html"||je(t)==="body"&&qe(t).position==="static")?e:t||La(s)||e}function Ds(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function _t(s,e,t){return dt(s,Ei(e,t))}function Aa(s,e,t){var i=_t(s,e,t);return i>t?t:i}function To(){return{top:0,right:0,bottom:0,left:0}}function Co(s){return Object.assign({},To(),s)}function Do(s,e){return e.reduce(function(t,i){return t[i]=s,t},{})}var Pa=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Co(typeof e!="number"?e:Do(e,Zt))};function ka(s){var e,t=s.state,i=s.name,n=s.options,o=t.elements.arrow,r=t.modifiersData.popperOffsets,l=He(t.placement),c=Ds(l),h=[ue,Ce].indexOf(l)>=0,d=h?"height":"width";if(!(!o||!r)){var g=Pa(n.padding,t),b=Cs(o),p=c==="y"?de:ue,w=c==="y"?Te:Ce,y=t.rects.reference[d]+t.rects.reference[c]-r[c]-t.rects.popper[d],a=r[c]-t.rects.reference[c],u=Gt(o),f=u?c==="y"?u.clientHeight||0:u.clientWidth||0:0,v=y/2-a/2,m=g[p],S=f-b[d]-g[w],x=f/2-b[d]/2+v,E=_t(m,x,S),C=c;t.modifiersData[i]=(e={},e[C]=E,e.centerOffset=E-x,e)}}function Ra(s){var e=s.state,t=s.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Oo(e.elements.popper,n)&&(e.elements.arrow=n))}const Na={name:"arrow",enabled:!0,phase:"main",fn:ka,effect:Ra,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rt(s){return s.split("-")[1]}var Fa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ia(s,e){var t=s.x,i=s.y,n=e.devicePixelRatio||1;return{x:Pt(t*n)/n||0,y:Pt(i*n)/n||0}}function rn(s){var e,t=s.popper,i=s.popperRect,n=s.placement,o=s.variation,r=s.offsets,l=s.position,c=s.gpuAcceleration,h=s.adaptive,d=s.roundOffsets,g=s.isFixed,b=r.x,p=b===void 0?0:b,w=r.y,y=w===void 0?0:w,a=typeof d=="function"?d({x:p,y}):{x:p,y};p=a.x,y=a.y;var u=r.hasOwnProperty("x"),f=r.hasOwnProperty("y"),v=ue,m=de,S=window;if(h){var x=Gt(t),E="clientHeight",C="clientWidth";if(x===ge(t)&&(x=tt(t),qe(x).position!=="static"&&l==="absolute"&&(E="scrollHeight",C="scrollWidth")),x=x,n===de||(n===ue||n===Ce)&&o===Xt){m=Te;var A=g&&x===S&&S.visualViewport?S.visualViewport.height:x[E];y-=A-i.height,y*=c?1:-1}if(n===ue||(n===de||n===Te)&&o===Xt){v=Ce;var k=g&&x===S&&S.visualViewport?S.visualViewport.width:x[C];p-=k-i.width,p*=c?1:-1}}var W=Object.assign({position:l},h&&Fa),j=d===!0?Ia({x:p,y},ge(t)):{x:p,y};if(p=j.x,y=j.y,c){var F;return Object.assign({},W,(F={},F[m]=f?"0":"",F[v]=u?"0":"",F.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",F))}return Object.assign({},W,(e={},e[m]=f?y+"px":"",e[v]=u?p+"px":"",e.transform="",e))}function za(s){var e=s.state,t=s.options,i=t.gpuAcceleration,n=i===void 0?!0:i,o=t.adaptive,r=o===void 0?!0:o,l=t.roundOffsets,c=l===void 0?!0:l,h={placement:He(e.placement),variation:Rt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rn(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rn(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ba={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:za,data:{}};var si={passive:!0};function Ha(s){var e=s.state,t=s.instance,i=s.options,n=i.scroll,o=n===void 0?!0:n,r=i.resize,l=r===void 0?!0:r,c=ge(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(d){d.addEventListener("scroll",t.update,si)}),l&&c.addEventListener("resize",t.update,si),function(){o&&h.forEach(function(d){d.removeEventListener("scroll",t.update,si)}),l&&c.removeEventListener("resize",t.update,si)}}const ja={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ha,data:{}};var _a={left:"right",right:"left",bottom:"top",top:"bottom"};function vi(s){return s.replace(/left|right|bottom|top/g,function(e){return _a[e]})}var Wa={start:"end",end:"start"};function an(s){return s.replace(/start|end/g,function(e){return Wa[e]})}function Ms(s){var e=ge(s),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Ls(s){return kt(tt(s)).left+Ms(s).scrollLeft}function Va(s,e){var t=ge(s),i=tt(s),n=t.visualViewport,o=i.clientWidth,r=i.clientHeight,l=0,c=0;if(n){o=n.width,r=n.height;var h=Eo();(h||!h&&e==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:o,height:r,x:l+Ls(s),y:c}}function $a(s){var e,t=tt(s),i=Ms(s),n=(e=s.ownerDocument)==null?void 0:e.body,o=dt(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=dt(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-i.scrollLeft+Ls(s),c=-i.scrollTop;return qe(n||t).direction==="rtl"&&(l+=dt(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:l,y:c}}function As(s){var e=qe(s),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function Mo(s){return["html","body","#document"].indexOf(je(s))>=0?s.ownerDocument.body:Oe(s)&&As(s)?s:Mo(Ai(s))}function Wt(s,e){var t;e===void 0&&(e=[]);var i=Mo(s),n=i===((t=s.ownerDocument)==null?void 0:t.body),o=ge(i),r=n?[o].concat(o.visualViewport||[],As(i)?i:[]):i,l=e.concat(r);return n?l:l.concat(Wt(Ai(r)))}function ds(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Ya(s,e){var t=kt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function ln(s,e,t){return e===wo?ds(Va(s,t)):pt(e)?Ya(e,t):ds($a(tt(s)))}function qa(s){var e=Wt(Ai(s)),t=["absolute","fixed"].indexOf(qe(s).position)>=0,i=t&&Oe(s)?Gt(s):s;return pt(i)?e.filter(function(n){return pt(n)&&Oo(n,i)&&je(n)!=="body"}):[]}function Xa(s,e,t,i){var n=e==="clippingParents"?qa(s):[].concat(e),o=[].concat(n,[t]),r=o[0],l=o.reduce(function(c,h){var d=ln(s,h,i);return c.top=dt(d.top,c.top),c.right=Ei(d.right,c.right),c.bottom=Ei(d.bottom,c.bottom),c.left=dt(d.left,c.left),c},ln(s,r,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Lo(s){var e=s.reference,t=s.element,i=s.placement,n=i?He(i):null,o=i?Rt(i):null,r=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,c;switch(n){case de:c={x:r,y:e.y-t.height};break;case Te:c={x:r,y:e.y+e.height};break;case Ce:c={x:e.x+e.width,y:l};break;case ue:c={x:e.x-t.width,y:l};break;default:c={x:e.x,y:e.y}}var h=n?Ds(n):null;if(h!=null){var d=h==="y"?"height":"width";switch(o){case At:c[h]=c[h]-(e[d]/2-t[d]/2);break;case Xt:c[h]=c[h]+(e[d]/2-t[d]/2);break}}return c}function Ut(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?s.placement:i,o=t.strategy,r=o===void 0?s.strategy:o,l=t.boundary,c=l===void 0?pa:l,h=t.rootBoundary,d=h===void 0?wo:h,g=t.elementContext,b=g===void 0?Ft:g,p=t.altBoundary,w=p===void 0?!1:p,y=t.padding,a=y===void 0?0:y,u=Co(typeof a!="number"?a:Do(a,Zt)),f=b===Ft?ma:Ft,v=s.rects.popper,m=s.elements[w?f:b],S=Xa(pt(m)?m:m.contextElement||tt(s.elements.popper),c,d,r),x=kt(s.elements.reference),E=Lo({reference:x,element:v,strategy:"absolute",placement:n}),C=ds(Object.assign({},v,E)),A=b===Ft?C:x,k={top:S.top-A.top+u.top,bottom:A.bottom-S.bottom+u.bottom,left:S.left-A.left+u.left,right:A.right-S.right+u.right},W=s.modifiersData.offset;if(b===Ft&&W){var j=W[n];Object.keys(k).forEach(function(F){var q=[Ce,Te].indexOf(F)>=0?1:-1,ie=[de,Te].indexOf(F)>=0?"y":"x";k[F]+=j[ie]*q})}return k}function Ua(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,o=t.rootBoundary,r=t.padding,l=t.flipVariations,c=t.allowedAutoPlacements,h=c===void 0?xo:c,d=Rt(i),g=d?l?nn:nn.filter(function(w){return Rt(w)===d}):Zt,b=g.filter(function(w){return h.indexOf(w)>=0});b.length===0&&(b=g);var p=b.reduce(function(w,y){return w[y]=Ut(s,{placement:y,boundary:n,rootBoundary:o,padding:r})[He(y)],w},{});return Object.keys(p).sort(function(w,y){return p[w]-p[y]})}function Ka(s){if(He(s)===Os)return[];var e=vi(s);return[an(s),e,an(e)]}function Za(s){var e=s.state,t=s.options,i=s.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,o=n===void 0?!0:n,r=t.altAxis,l=r===void 0?!0:r,c=t.fallbackPlacements,h=t.padding,d=t.boundary,g=t.rootBoundary,b=t.altBoundary,p=t.flipVariations,w=p===void 0?!0:p,y=t.allowedAutoPlacements,a=e.options.placement,u=He(a),f=u===a,v=c||(f||!w?[vi(a)]:Ka(a)),m=[a].concat(v).reduce(function(R,H){return R.concat(He(H)===Os?Ua(e,{placement:H,boundary:d,rootBoundary:g,padding:h,flipVariations:w,allowedAutoPlacements:y}):H)},[]),S=e.rects.reference,x=e.rects.popper,E=new Map,C=!0,A=m[0],k=0;k<m.length;k++){var W=m[k],j=He(W),F=Rt(W)===At,q=[de,Te].indexOf(j)>=0,ie=q?"width":"height",K=Ut(e,{placement:W,boundary:d,rootBoundary:g,altBoundary:b,padding:h}),te=q?F?Ce:ue:F?Te:de;S[ie]>x[ie]&&(te=vi(te));var $=vi(te),D=[];if(o&&D.push(K[j]<=0),l&&D.push(K[te]<=0,K[$]<=0),D.every(function(R){return R})){A=W,C=!1;break}E.set(W,D)}if(C)for(var O=w?3:1,M=function(H){var _=m.find(function(Y){var se=E.get(Y);if(se)return se.slice(0,H).every(function(ne){return ne})});if(_)return A=_,"break"},P=O;P>0;P--){var I=M(P);if(I==="break")break}e.placement!==A&&(e.modifiersData[i]._skip=!0,e.placement=A,e.reset=!0)}}const Ga={name:"flip",enabled:!0,phase:"main",fn:Za,requiresIfExists:["offset"],data:{_skip:!1}};function cn(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function hn(s){return[de,Ce,Te,ue].some(function(e){return s[e]>=0})}function Ja(s){var e=s.state,t=s.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,r=Ut(e,{elementContext:"reference"}),l=Ut(e,{altBoundary:!0}),c=cn(r,i),h=cn(l,n,o),d=hn(c),g=hn(h);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":g})}const Qa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ja};function el(s,e,t){var i=He(s),n=[ue,de].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,r=o[0],l=o[1];return r=r||0,l=(l||0)*n,[ue,Ce].indexOf(i)>=0?{x:l,y:r}:{x:r,y:l}}function tl(s){var e=s.state,t=s.options,i=s.name,n=t.offset,o=n===void 0?[0,0]:n,r=xo.reduce(function(d,g){return d[g]=el(g,e.rects,o),d},{}),l=r[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=r}const il={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tl};function sl(s){var e=s.state,t=s.name;e.modifiersData[t]=Lo({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const nl={name:"popperOffsets",enabled:!0,phase:"read",fn:sl,data:{}};function ol(s){return s==="x"?"y":"x"}function rl(s){var e=s.state,t=s.options,i=s.name,n=t.mainAxis,o=n===void 0?!0:n,r=t.altAxis,l=r===void 0?!1:r,c=t.boundary,h=t.rootBoundary,d=t.altBoundary,g=t.padding,b=t.tether,p=b===void 0?!0:b,w=t.tetherOffset,y=w===void 0?0:w,a=Ut(e,{boundary:c,rootBoundary:h,padding:g,altBoundary:d}),u=He(e.placement),f=Rt(e.placement),v=!f,m=Ds(u),S=ol(m),x=e.modifiersData.popperOffsets,E=e.rects.reference,C=e.rects.popper,A=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,k=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(x){if(o){var F,q=m==="y"?de:ue,ie=m==="y"?Te:Ce,K=m==="y"?"height":"width",te=x[m],$=te+a[q],D=te-a[ie],O=p?-C[K]/2:0,M=f===At?E[K]:C[K],P=f===At?-C[K]:-E[K],I=e.elements.arrow,R=p&&I?Cs(I):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:To(),_=H[q],Y=H[ie],se=_t(0,E[K],R[K]),ne=v?E[K]/2-O-se-_-k.mainAxis:M-se-_-k.mainAxis,U=v?-E[K]/2+O+se+Y+k.mainAxis:P+se+Y+k.mainAxis,Q=e.elements.arrow&&Gt(e.elements.arrow),ve=Q?m==="y"?Q.clientTop||0:Q.clientLeft||0:0,De=(F=W==null?void 0:W[m])!=null?F:0,_e=te+ne-De-ve,Me=te+U-De,fe=_t(p?Ei($,_e):$,te,p?dt(D,Me):D);x[m]=fe,j[m]=fe-te}if(l){var pe,it=m==="x"?de:ue,ke=m==="x"?Te:Ce,me=x[S],be=S==="y"?"height":"width",Xe=me+a[it],Re=me-a[ke],Ue=[de,ue].indexOf(u)!==-1,Ke=(pe=W==null?void 0:W[S])!=null?pe:0,Ze=Ue?Xe:me-E[be]-C[be]-Ke+k.altAxis,Ge=Ue?me+E[be]+C[be]-Ke-k.altAxis:Re,Ne=p&&Ue?Aa(Ze,me,Ge):_t(p?Ze:Xe,me,p?Ge:Re);x[S]=Ne,j[S]=Ne-me}e.modifiersData[i]=j}}const al={name:"preventOverflow",enabled:!0,phase:"main",fn:rl,requiresIfExists:["offset"]};function ll(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function cl(s){return s===ge(s)||!Oe(s)?Ms(s):ll(s)}function hl(s){var e=s.getBoundingClientRect(),t=Pt(e.width)/s.offsetWidth||1,i=Pt(e.height)/s.offsetHeight||1;return t!==1||i!==1}function dl(s,e,t){t===void 0&&(t=!1);var i=Oe(e),n=Oe(e)&&hl(e),o=tt(e),r=kt(s,n,t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!t)&&((je(e)!=="body"||As(o))&&(l=cl(e)),Oe(e)?(c=kt(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Ls(o))),{x:r.left+l.scrollLeft-c.x,y:r.top+l.scrollTop-c.y,width:r.width,height:r.height}}function ul(s){var e=new Map,t=new Set,i=[];s.forEach(function(o){e.set(o.name,o)});function n(o){t.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(l){if(!t.has(l)){var c=e.get(l);c&&n(c)}}),i.push(o)}return s.forEach(function(o){t.has(o.name)||n(o)}),i}function fl(s){var e=ul(s);return Ta.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function pl(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function ml(s){var e=s.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var dn={placement:"bottom",modifiers:[],strategy:"absolute"};function un(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function gl(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,o=n===void 0?dn:n;return function(l,c,h){h===void 0&&(h=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},dn,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},g=[],b=!1,p={state:d,setOptions:function(u){var f=typeof u=="function"?u(d.options):u;y(),d.options=Object.assign({},o,d.options,f),d.scrollParents={reference:pt(l)?Wt(l):l.contextElement?Wt(l.contextElement):[],popper:Wt(c)};var v=fl(ml([].concat(i,d.options.modifiers)));return d.orderedModifiers=v.filter(function(m){return m.enabled}),w(),p.update()},forceUpdate:function(){if(!b){var u=d.elements,f=u.reference,v=u.popper;if(un(f,v)){d.rects={reference:dl(f,Gt(v),d.options.strategy==="fixed"),popper:Cs(v)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var m=0;m<d.orderedModifiers.length;m++){if(d.reset===!0){d.reset=!1,m=-1;continue}var S=d.orderedModifiers[m],x=S.fn,E=S.options,C=E===void 0?{}:E,A=S.name;typeof x=="function"&&(d=x({state:d,options:C,name:A,instance:p})||d)}}}},update:pl(function(){return new Promise(function(a){p.forceUpdate(),a(d)})}),destroy:function(){y(),b=!0}};if(!un(l,c))return p;p.setOptions(h).then(function(a){!b&&h.onFirstUpdate&&h.onFirstUpdate(a)});function w(){d.orderedModifiers.forEach(function(a){var u=a.name,f=a.options,v=f===void 0?{}:f,m=a.effect;if(typeof m=="function"){var S=m({state:d,name:u,instance:p,options:v}),x=function(){};g.push(S||x)}})}function y(){g.forEach(function(a){return a()}),g=[]}return p}}var vl=[ja,nl,Ba,So,il,Ga,al,Na,Qa],bl=gl({defaultModifiers:vl}),yl="tippy-box",Ao="tippy-content",wl="tippy-backdrop",Po="tippy-arrow",ko="tippy-svg-arrow",at={passive:!0,capture:!0},Ro=function(){return document.body};function ji(s,e,t){if(Array.isArray(s)){var i=s[e];return i??(Array.isArray(t)?t[e]:t)}return s}function Ps(s,e){var t={}.toString.call(s);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function No(s,e){return typeof s=="function"?s.apply(void 0,e):s}function fn(s,e){if(e===0)return s;var t;return function(i){clearTimeout(t),t=setTimeout(function(){s(i)},e)}}function xl(s){return s.split(/\s+/).filter(Boolean)}function Dt(s){return[].concat(s)}function pn(s,e){s.indexOf(e)===-1&&s.push(e)}function Sl(s){return s.filter(function(e,t){return s.indexOf(e)===t})}function El(s){return s.split("-")[0]}function Oi(s){return[].slice.call(s)}function mn(s){return Object.keys(s).reduce(function(e,t){return s[t]!==void 0&&(e[t]=s[t]),e},{})}function Vt(){return document.createElement("div")}function Pi(s){return["Element","Fragment"].some(function(e){return Ps(s,e)})}function Ol(s){return Ps(s,"NodeList")}function Tl(s){return Ps(s,"MouseEvent")}function Cl(s){return!!(s&&s._tippy&&s._tippy.reference===s)}function Dl(s){return Pi(s)?[s]:Ol(s)?Oi(s):Array.isArray(s)?s:Oi(document.querySelectorAll(s))}function _i(s,e){s.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function gn(s,e){s.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Ml(s){var e,t=Dt(s),i=t[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Ll(s,e){var t=e.clientX,i=e.clientY;return s.every(function(n){var o=n.popperRect,r=n.popperState,l=n.props,c=l.interactiveBorder,h=El(r.placement),d=r.modifiersData.offset;if(!d)return!0;var g=h==="bottom"?d.top.y:0,b=h==="top"?d.bottom.y:0,p=h==="right"?d.left.x:0,w=h==="left"?d.right.x:0,y=o.top-i+g>c,a=i-o.bottom-b>c,u=o.left-t+p>c,f=t-o.right-w>c;return y||a||u||f})}function Wi(s,e,t){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){s[i](n,t)})}function vn(s,e){for(var t=e;t;){var i;if(s.contains(t))return!0;t=t.getRootNode==null||(i=t.getRootNode())==null?void 0:i.host}return!1}var Ie={isTouch:!1},bn=0;function Al(){Ie.isTouch||(Ie.isTouch=!0,window.performance&&document.addEventListener("mousemove",Fo))}function Fo(){var s=performance.now();s-bn<20&&(Ie.isTouch=!1,document.removeEventListener("mousemove",Fo)),bn=s}function Pl(){var s=document.activeElement;if(Cl(s)){var e=s._tippy;s.blur&&!e.state.isVisible&&s.blur()}}function kl(){document.addEventListener("touchstart",Al,at),window.addEventListener("blur",Pl)}var Rl=typeof window<"u"&&typeof document<"u",Nl=Rl?!!window.msCrypto:!1,Fl={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Il={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ae=Object.assign({appendTo:Ro,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Fl,Il),zl=Object.keys(Ae),Bl=function(e){var t=Object.keys(e);t.forEach(function(i){Ae[i]=e[i]})};function Io(s){var e=s.plugins||[],t=e.reduce(function(i,n){var o=n.name,r=n.defaultValue;if(o){var l;i[o]=s[o]!==void 0?s[o]:(l=Ae[o])!=null?l:r}return i},{});return Object.assign({},s,t)}function Hl(s,e){var t=e?Object.keys(Io(Object.assign({},Ae,{plugins:e}))):zl,i=t.reduce(function(n,o){var r=(s.getAttribute("data-tippy-"+o)||"").trim();if(!r)return n;if(o==="content")n[o]=r;else try{n[o]=JSON.parse(r)}catch{n[o]=r}return n},{});return i}function yn(s,e){var t=Object.assign({},e,{content:No(e.content,[s])},e.ignoreAttributes?{}:Hl(s,e.plugins));return t.aria=Object.assign({},Ae.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var jl=function(){return"innerHTML"};function us(s,e){s[jl()]=e}function wn(s){var e=Vt();return s===!0?e.className=Po:(e.className=ko,Pi(s)?e.appendChild(s):us(e,s)),e}function xn(s,e){Pi(e.content)?(us(s,""),s.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?us(s,e.content):s.textContent=e.content)}function fs(s){var e=s.firstElementChild,t=Oi(e.children);return{box:e,content:t.find(function(i){return i.classList.contains(Ao)}),arrow:t.find(function(i){return i.classList.contains(Po)||i.classList.contains(ko)}),backdrop:t.find(function(i){return i.classList.contains(wl)})}}function zo(s){var e=Vt(),t=Vt();t.className=yl,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var i=Vt();i.className=Ao,i.setAttribute("data-state","hidden"),xn(i,s.props),e.appendChild(t),t.appendChild(i),n(s.props,s.props);function n(o,r){var l=fs(e),c=l.box,h=l.content,d=l.arrow;r.theme?c.setAttribute("data-theme",r.theme):c.removeAttribute("data-theme"),typeof r.animation=="string"?c.setAttribute("data-animation",r.animation):c.removeAttribute("data-animation"),r.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof r.maxWidth=="number"?r.maxWidth+"px":r.maxWidth,r.role?c.setAttribute("role",r.role):c.removeAttribute("role"),(o.content!==r.content||o.allowHTML!==r.allowHTML)&&xn(h,s.props),r.arrow?d?o.arrow!==r.arrow&&(c.removeChild(d),c.appendChild(wn(r.arrow))):c.appendChild(wn(r.arrow)):d&&c.removeChild(d)}return{popper:e,onUpdate:n}}zo.$$tippy=!0;var _l=1,ni=[],Vi=[];function Wl(s,e){var t=yn(s,Object.assign({},Ae,Io(mn(e)))),i,n,o,r=!1,l=!1,c=!1,h=!1,d,g,b,p=[],w=fn(_e,t.interactiveDebounce),y,a=_l++,u=null,f=Sl(t.plugins),v={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:a,reference:s,popper:Vt(),popperInstance:u,props:t,state:v,plugins:f,clearDelayTimeouts:Ze,setProps:Ge,setContent:Ne,show:ir,hide:sr,hideWithInteractivity:nr,enable:Ue,disable:Ke,unmount:or,destroy:rr};if(!t.render)return m;var S=t.render(m),x=S.popper,E=S.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+m.id,m.popper=x,s._tippy=m,x._tippy=m;var C=f.map(function(T){return T.fn(m)}),A=s.hasAttribute("aria-expanded");return Q(),O(),te(),$("onCreate",[m]),t.showOnCreate&&Xe(),x.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&q().addEventListener("mousemove",w)}),m;function k(){var T=m.props.touch;return Array.isArray(T)?T:[T,0]}function W(){return k()[0]==="hold"}function j(){var T;return!!((T=m.props.render)!=null&&T.$$tippy)}function F(){return y||s}function q(){var T=F().parentNode;return T?Ml(T):document}function ie(){return fs(x)}function K(T){return m.state.isMounted&&!m.state.isVisible||Ie.isTouch||d&&d.type==="focus"?0:ji(m.props.delay,T?0:1,Ae.delay)}function te(T){T===void 0&&(T=!1),x.style.pointerEvents=m.props.interactive&&!T?"":"none",x.style.zIndex=""+m.props.zIndex}function $(T,N,V){if(V===void 0&&(V=!0),C.forEach(function(Z){Z[T]&&Z[T].apply(Z,N)}),V){var ee;(ee=m.props)[T].apply(ee,N)}}function D(){var T=m.props.aria;if(T.content){var N="aria-"+T.content,V=x.id,ee=Dt(m.props.triggerTarget||s);ee.forEach(function(Z){var le=Z.getAttribute(N);if(m.state.isVisible)Z.setAttribute(N,le?le+" "+V:V);else{var ye=le&&le.replace(V,"").trim();ye?Z.setAttribute(N,ye):Z.removeAttribute(N)}})}}function O(){if(!(A||!m.props.aria.expanded)){var T=Dt(m.props.triggerTarget||s);T.forEach(function(N){m.props.interactive?N.setAttribute("aria-expanded",m.state.isVisible&&N===F()?"true":"false"):N.removeAttribute("aria-expanded")})}}function M(){q().removeEventListener("mousemove",w),ni=ni.filter(function(T){return T!==w})}function P(T){if(!(Ie.isTouch&&(c||T.type==="mousedown"))){var N=T.composedPath&&T.composedPath()[0]||T.target;if(!(m.props.interactive&&vn(x,N))){if(Dt(m.props.triggerTarget||s).some(function(V){return vn(V,N)})){if(Ie.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[m,T]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),l=!0,setTimeout(function(){l=!1}),m.state.isMounted||_())}}}function I(){c=!0}function R(){c=!1}function H(){var T=q();T.addEventListener("mousedown",P,!0),T.addEventListener("touchend",P,at),T.addEventListener("touchstart",R,at),T.addEventListener("touchmove",I,at)}function _(){var T=q();T.removeEventListener("mousedown",P,!0),T.removeEventListener("touchend",P,at),T.removeEventListener("touchstart",R,at),T.removeEventListener("touchmove",I,at)}function Y(T,N){ne(T,function(){!m.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&N()})}function se(T,N){ne(T,N)}function ne(T,N){var V=ie().box;function ee(Z){Z.target===V&&(Wi(V,"remove",ee),N())}if(T===0)return N();Wi(V,"remove",g),Wi(V,"add",ee),g=ee}function U(T,N,V){V===void 0&&(V=!1);var ee=Dt(m.props.triggerTarget||s);ee.forEach(function(Z){Z.addEventListener(T,N,V),p.push({node:Z,eventType:T,handler:N,options:V})})}function Q(){W()&&(U("touchstart",De,{passive:!0}),U("touchend",Me,{passive:!0})),xl(m.props.trigger).forEach(function(T){if(T!=="manual")switch(U(T,De),T){case"mouseenter":U("mouseleave",Me);break;case"focus":U(Nl?"focusout":"blur",fe);break;case"focusin":U("focusout",fe);break}})}function ve(){p.forEach(function(T){var N=T.node,V=T.eventType,ee=T.handler,Z=T.options;N.removeEventListener(V,ee,Z)}),p=[]}function De(T){var N,V=!1;if(!(!m.state.isEnabled||pe(T)||l)){var ee=((N=d)==null?void 0:N.type)==="focus";d=T,y=T.currentTarget,O(),!m.state.isVisible&&Tl(T)&&ni.forEach(function(Z){return Z(T)}),T.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||r)&&m.props.hideOnClick!==!1&&m.state.isVisible?V=!0:Xe(T),T.type==="click"&&(r=!V),V&&!ee&&Re(T)}}function _e(T){var N=T.target,V=F().contains(N)||x.contains(N);if(!(T.type==="mousemove"&&V)){var ee=be().concat(x).map(function(Z){var le,ye=Z._tippy,vt=(le=ye.popperInstance)==null?void 0:le.state;return vt?{popperRect:Z.getBoundingClientRect(),popperState:vt,props:t}:null}).filter(Boolean);Ll(ee,T)&&(M(),Re(T))}}function Me(T){var N=pe(T)||m.props.trigger.indexOf("click")>=0&&r;if(!N){if(m.props.interactive){m.hideWithInteractivity(T);return}Re(T)}}function fe(T){m.props.trigger.indexOf("focusin")<0&&T.target!==F()||m.props.interactive&&T.relatedTarget&&x.contains(T.relatedTarget)||Re(T)}function pe(T){return Ie.isTouch?W()!==T.type.indexOf("touch")>=0:!1}function it(){ke();var T=m.props,N=T.popperOptions,V=T.placement,ee=T.offset,Z=T.getReferenceClientRect,le=T.moveTransition,ye=j()?fs(x).arrow:null,vt=Z?{getBoundingClientRect:Z,contextElement:Z.contextElement||F()}:s,Fs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Qt){var bt=Qt.state;if(j()){var ar=ie(),Ri=ar.box;["placement","reference-hidden","escaped"].forEach(function(ei){ei==="placement"?Ri.setAttribute("data-placement",bt.placement):bt.attributes.popper["data-popper-"+ei]?Ri.setAttribute("data-"+ei,""):Ri.removeAttribute("data-"+ei)}),bt.attributes.popper={}}}},st=[{name:"offset",options:{offset:ee}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!le}},Fs];j()&&ye&&st.push({name:"arrow",options:{element:ye,padding:3}}),st.push.apply(st,(N==null?void 0:N.modifiers)||[]),m.popperInstance=bl(vt,x,Object.assign({},N,{placement:V,onFirstUpdate:b,modifiers:st}))}function ke(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function me(){var T=m.props.appendTo,N,V=F();m.props.interactive&&T===Ro||T==="parent"?N=V.parentNode:N=No(T,[V]),N.contains(x)||N.appendChild(x),m.state.isMounted=!0,it()}function be(){return Oi(x.querySelectorAll("[data-tippy-root]"))}function Xe(T){m.clearDelayTimeouts(),T&&$("onTrigger",[m,T]),H();var N=K(!0),V=k(),ee=V[0],Z=V[1];Ie.isTouch&&ee==="hold"&&Z&&(N=Z),N?i=setTimeout(function(){m.show()},N):m.show()}function Re(T){if(m.clearDelayTimeouts(),$("onUntrigger",[m,T]),!m.state.isVisible){_();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(T.type)>=0&&r)){var N=K(!1);N?n=setTimeout(function(){m.state.isVisible&&m.hide()},N):o=requestAnimationFrame(function(){m.hide()})}}function Ue(){m.state.isEnabled=!0}function Ke(){m.hide(),m.state.isEnabled=!1}function Ze(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(o)}function Ge(T){if(!m.state.isDestroyed){$("onBeforeUpdate",[m,T]),ve();var N=m.props,V=yn(s,Object.assign({},N,mn(T),{ignoreAttributes:!0}));m.props=V,Q(),N.interactiveDebounce!==V.interactiveDebounce&&(M(),w=fn(_e,V.interactiveDebounce)),N.triggerTarget&&!V.triggerTarget?Dt(N.triggerTarget).forEach(function(ee){ee.removeAttribute("aria-expanded")}):V.triggerTarget&&s.removeAttribute("aria-expanded"),O(),te(),E&&E(N,V),m.popperInstance&&(it(),be().forEach(function(ee){requestAnimationFrame(ee._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[m,T])}}function Ne(T){m.setProps({content:T})}function ir(){var T=m.state.isVisible,N=m.state.isDestroyed,V=!m.state.isEnabled,ee=Ie.isTouch&&!m.props.touch,Z=ji(m.props.duration,0,Ae.duration);if(!(T||N||V||ee)&&!F().hasAttribute("disabled")&&($("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,j()&&(x.style.visibility="visible"),te(),H(),m.state.isMounted||(x.style.transition="none"),j()){var le=ie(),ye=le.box,vt=le.content;_i([ye,vt],0)}b=function(){var st;if(!(!m.state.isVisible||h)){if(h=!0,x.offsetHeight,x.style.transition=m.props.moveTransition,j()&&m.props.animation){var ki=ie(),Qt=ki.box,bt=ki.content;_i([Qt,bt],Z),gn([Qt,bt],"visible")}D(),O(),pn(Vi,m),(st=m.popperInstance)==null||st.forceUpdate(),$("onMount",[m]),m.props.animation&&j()&&se(Z,function(){m.state.isShown=!0,$("onShown",[m])})}},me()}}function sr(){var T=!m.state.isVisible,N=m.state.isDestroyed,V=!m.state.isEnabled,ee=ji(m.props.duration,1,Ae.duration);if(!(T||N||V)&&($("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,h=!1,r=!1,j()&&(x.style.visibility="hidden"),M(),_(),te(!0),j()){var Z=ie(),le=Z.box,ye=Z.content;m.props.animation&&(_i([le,ye],ee),gn([le,ye],"hidden"))}D(),O(),m.props.animation?j()&&Y(ee,m.unmount):m.unmount()}}function nr(T){q().addEventListener("mousemove",w),pn(ni,w),w(T)}function or(){m.state.isVisible&&m.hide(),m.state.isMounted&&(ke(),be().forEach(function(T){T._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),Vi=Vi.filter(function(T){return T!==m}),m.state.isMounted=!1,$("onHidden",[m]))}function rr(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),ve(),delete s._tippy,m.state.isDestroyed=!0,$("onDestroy",[m]))}}function Jt(s,e){e===void 0&&(e={});var t=Ae.plugins.concat(e.plugins||[]);kl();var i=Object.assign({},e,{plugins:t}),n=Dl(s),o=n.reduce(function(r,l){var c=l&&Wl(l,i);return c&&r.push(c),r},[]);return Pi(s)?o[0]:o}Jt.defaultProps=Ae;Jt.setDefaultProps=Bl;Jt.currentInput=Ie;Object.assign({},So,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});Jt.setDefaultProps({render:zo});const L=(s,e=1e4)=>(s=parseFloat(s+"")||0,Math.round((s+Number.EPSILON)*e)/e),ps=function(s){if(!(s&&s instanceof Element&&s.offsetParent))return!1;const e=s.scrollHeight>s.clientHeight,t=window.getComputedStyle(s).overflowY,i=t.indexOf("hidden")!==-1,n=t.indexOf("visible")!==-1;return e&&!i&&!n},Ti=function(s,e=void 0){return!(!s||s===document.body||e&&s===e)&&(ps(s)?s:Ti(s.parentElement,e))},ze=function(s){var e=new DOMParser().parseFromString(s,"text/html").body;if(e.childElementCount>1){for(var t=document.createElement("div");e.firstChild;)t.appendChild(e.firstChild);return t}return e.firstChild},ks=s=>`${s||""}`.split(" ").filter(e=>!!e),Be=(s,e,t)=>{s&&ks(e).forEach(i=>{s.classList.toggle(i,t||!1)})};class wt{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}const xt={passive:!1};class Vl{constructor(e,{start:t=()=>!0,move:i=()=>{},end:n=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=i,this.endCallback=n;for(const o of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[o]=this[o].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,xt),this.element.addEventListener("touchstart",this.onTouchStart,xt),this.element.addEventListener("touchmove",this.onMove,xt),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||e.button!==0)return;const t=new wt(e);this.currentPointers.some(i=>i.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new wt(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){const t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map(o=>new wt(o)):[new wt(e)],n=[];for(const o of i){const r=this.currentPointers.findIndex(l=>l.id===o.id);r<0||(n.push(o),this.currentPointers[r]=o)}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&e.button!==0||(this.triggerPointerEnd(e,new wt(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new wt(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){const i=this.currentPointers.findIndex(n=>n.id===t.id);i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,xt),this.element.removeEventListener("touchstart",this.onTouchStart,xt),this.element.removeEventListener("touchmove",this.onMove,xt),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function Sn(s,e){return e?Math.sqrt(Math.pow(e.clientX-s.clientX,2)+Math.pow(e.clientY-s.clientY,2)):0}function En(s,e){return e?{clientX:(s.clientX+e.clientX)/2,clientY:(s.clientY+e.clientY)/2}:s}const ms=s=>typeof s=="object"&&s!==null&&s.constructor===Object&&Object.prototype.toString.call(s)==="[object Object]",he=(s,...e)=>{const t=e.length;for(let i=0;i<t;i++){const n=e[i]||{};Object.entries(n).forEach(([o,r])=>{const l=Array.isArray(r)?[]:{};s[o]||Object.assign(s,{[o]:l}),ms(r)?Object.assign(s[o],he(l,r)):Array.isArray(r)?Object.assign(s,{[o]:[...r]}):Object.assign(s,{[o]:r})})}return s},$i=function(s,e){return s.split(".").reduce((t,i)=>typeof t=="object"?t[i]:void 0,e)};class Ci{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith("on")&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}setOptions(e){this.options=e?he({},this.constructor.defaults,e):{};for(const[t,i]of Object.entries(this.option("on")||{}))this.on(t,i)}option(e,...t){let i=$i(e,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...t)),i}optionFor(e,t,i,...n){let o=$i(t,e);var r;typeof(r=o)!="string"||isNaN(r)||isNaN(parseFloat(r))||(o=parseFloat(o)),o==="true"&&(o=!0),o==="false"&&(o=!1),o&&typeof o=="function"&&(o=o.call(this,this,e,...n));let l=$i(t,this.options);return l&&typeof l=="function"?o=l.call(this,this,e,...n,o):o===void 0&&(o=l),o===void 0?i:o}cn(e){const t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,n,o)=>{let r="";return o?r=this.option(`${n[0]+n.toLowerCase().substring(1)}.l10n.${o}`):n&&(r=this.option(`l10n.${n}`)),r||(r=i),r});for(let i=0;i<t.length;i++)e=e.split(t[i][0]).join(t[i][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(i,n)=>n)}on(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),this.events||(this.events=new Map),i.forEach(n=>{let o=this.events.get(n);o||(this.events.set(n,[]),o=[]),o.includes(t)||o.push(t),this.events.set(n,o)})}off(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),i.forEach(n=>{const o=this.events.get(n);if(Array.isArray(o)){const r=o.indexOf(t);r>-1&&o.splice(r,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(i=>i(this,...t)),e!=="*"&&this.emit("*",e,...t)}}Object.defineProperty(Ci,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Ci,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class Rs extends Ci{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){const t=new Map;for(const[i,n]of Object.entries(e)){const o=this.option(i),r=this.plugins[i];r||o===!1?r&&o===!1&&(r.detach(),delete this.plugins[i]):t.set(i,new n(this,o||{}))}for(const[i,n]of t)this.plugins[i]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(const t of e){const i=this.plugins[t];i&&i.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}var J;(function(s){s[s.Init=0]="Init",s[s.Error=1]="Error",s[s.Ready=2]="Ready",s[s.Panning=3]="Panning",s[s.Mousemove=4]="Mousemove",s[s.Destroy=5]="Destroy"})(J||(J={}));const We=["a","b","c","d","e","f"],Bo={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},$l={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:Bo},On='<circle cx="25" cy="25" r="20"></circle>',Ns='<div class="f-spinner"><svg viewBox="0 0 50 50">'+On+On+"</svg></div>",ce=s=>s&&s!==null&&s instanceof Element&&"nodeType"in s,G=(s,e)=>{s&&ks(e).forEach(t=>{s.classList.remove(t)})},z=(s,e)=>{s&&ks(e).forEach(t=>{s.classList.add(t)})},oi={a:1,b:0,c:0,d:1,e:0,f:0},Yl=1e5,ri=1e4,we="mousemove",Tn="drag",Cn="content",xe="auto";let Yi=null,qi=null;class mt extends Rs{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return qi===null&&(qi=window.matchMedia("(hover: none)").matches),qi}get isMobile(){return Yi===null&&(Yi=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),Yi}get panMode(){return this.options.panMode!==we||this.isTouchDevice?Tn:we}get panOnlyZoomed(){const e=this.options.panOnlyZoomed;return e===xe?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){const{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:e,contentRect:t}=this,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const e of We){const t=e=="e"||e==="f"?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},i={}){var n;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:J.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},oi)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},oi)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},mt.Plugins),i)),this.emit("attachPlugins"),this.emit("init");const o=this.content;if(o.addEventListener("load",this.onLoad),o.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));const r=ze(Ns);!e.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(r):this.spinner=((n=o.parentElement)===null||n===void 0?void 0:n.insertBefore(r,o))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:e}=this,t=this.cn(Cn);let i=this.option(Cn)||e.querySelector(`.${t}`);if(i||(i=e.querySelector("img,picture")||e.firstElementChild,i&&z(i,t)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){const{spinner:e,container:t,state:i}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===J.Init?this.enable():this.updateMetrics()}onError(){this.state!==J.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=J.Error,this.emit("error"))}getNextScale(e){const{fullScale:t,targetScale:i,coverScale:n,maxScale:o,minScale:r}=this;let l=r;switch(e){case"toggleMax":l=i-r<.5*(o-r)?o:r;break;case"toggleCover":l=i-r<.5*(n-r)?n:r;break;case"toggleZoom":l=i-r<.5*(t-r)?t:r;break;case"iterateZoom":let c=[1,t,o].sort((d,g)=>d-g),h=c.findIndex(d=>d>i+1e-5);l=c[h]||1}return l}attachObserver(){var e;const t=()=>{const{container:i,containerRect:n}=this;return Math.abs(n.width-i.getBoundingClientRect().width)>.1||Math.abs(n.height-i.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(e=this.resizeObserver)===null||e===void 0||e.observe(this.container)}detachObserver(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}attachEvents(){const{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new Vl(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(we,this.onMouseMove)}detachEvents(){var e;const{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),(e=this.pointerTracker)===null||e===void 0||e.stop(),this.pointerTracker=null,document.removeEventListener(we,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const e=this.friction,t=this.option("maxVelocity");for(const i of We)e?(this.velocity[i]*=1-e,t&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],t),-1*t)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const e of We)e==="e"&&this.isBouncingX||e==="f"&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){const{current:i}=this,n=i.e+e,o=i.f+t,r=this.getBounds(),{x:l,y:c}=r,h=l.min,d=l.max,g=c.min,b=c.max;let p=0,w=0;return h!==1/0&&n<h?p=h-n:d!==1/0&&n>d&&(p=d-n),g!==1/0&&o<g?w=g-o:b!==1/0&&o>b&&(w=b-o),Math.abs(p)<1e-4&&(p=0),Math.abs(w)<1e-4&&(w=0),Object.assign(Object.assign({},r),{xDiff:p,yDiff:w,inBounds:!p&&!w})}clampTargetBounds(){const{target:e}=this,{x:t,y:i}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),i.min!==1/0&&(e.f=Math.max(e.f,i.min)),i.max!==1/0&&(e.f=Math.min(e.f,i.max))}calculateContentDim(e=this.current){const{content:t,contentRect:i}=this,{fitWidth:n,fitHeight:o,fullWidth:r,fullHeight:l}=i;let c=r,h=l;if(this.option("zoom")||this.angle!==0){const d=!(t instanceof HTMLImageElement)&&(window.getComputedStyle(t).maxWidth==="none"||window.getComputedStyle(t).maxHeight==="none"),g=d?r:n,b=d?l:o,p=this.getMatrix(e),w=new DOMPoint(0,0).matrixTransform(p),y=new DOMPoint(0+g,0).matrixTransform(p),a=new DOMPoint(0+g,0+b).matrixTransform(p),u=new DOMPoint(0,0+b).matrixTransform(p),f=Math.abs(a.x-w.x),v=Math.abs(a.y-w.y),m=Math.abs(u.x-y.x),S=Math.abs(u.y-y.y);c=Math.max(f,m),h=Math.max(v,S)}return{contentWidth:c,contentHeight:h}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===we||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:e}=this,{x:t,y:i,xDiff:n,yDiff:o}=this.checkBounds(),r=this.option("maxVelocity");let l=this.velocity.e,c=this.velocity.f;n!==0?(this.isBouncingX=!0,n*l<=0?l+=.14*n:(l=.14*n,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),r&&(l=Math.max(Math.min(l,r),-1*r))):this.isBouncingX=!1,o!==0?(this.isBouncingY=!0,o*c<=0?c+=.14*o:(c=.14*o,i.min!==1/0&&(this.target.f=Math.max(e.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(e.f,i.max))),r&&(c=Math.max(Math.min(c,r),-1*r))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=l),this.isBouncingY&&(this.velocity.f=c)}enable(){const{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(const i of We)this.current[i]=this.target[i]=t[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=J.Ready,this.emit("ready")}onClick(e){var t;e.type==="click"&&e.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((t=this.pointerTracker)===null||t===void 0||t.clear(),this.trackingPoints=[],this.startDecelAnim());const i=e.target;if(!i||e.defaultPrevented)return;if(i.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{const p=window.getSelection();return p&&p.type==="Range"})()&&!i.closest("button"))return;const n=i.closest("[data-panzoom-action]"),o=i.closest("[data-panzoom-change]"),r=n||o,l=r&&ce(r)?r.dataset:null;if(l){const p=l.panzoomChange,w=l.panzoomAction;if((p||w)&&e.preventDefault(),p){let y={};try{y=JSON.parse(p)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(y)}if(w)return void(this[w]&&this[w]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(i.closest("[data-fancybox]"))return;const c=this.content.getBoundingClientRect(),h=this.dragStart;if(h.time&&!this.canZoomOut()&&(Math.abs(c.x-h.x)>2||Math.abs(c.y-h.y)>2))return;this.dragStart.time=0;const d=p=>{this.option("zoom",e)&&p&&typeof p=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(p)&&typeof this[p]=="function"&&(e.preventDefault(),this[p]({event:e}))},g=this.option("click",e),b=this.option("dblClick",e);b?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",e),!e.defaultPrevented&&g&&d(g)):(this.emit("dblClick",e),e.defaultPrevented||d(b)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&g&&d(g))}addTrackingPoint(e){const t=this.trackingPoints.filter(i=>i.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,i){var n;if(this.option("touch",e)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const o=this.content.getBoundingClientRect();if(this.dragStart={x:o.x,y:o.y,top:o.top,left:o.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===we&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;const r=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(r.nodeName)||r.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(n=window.getSelection())===null||n===void 0||n.removeAllRanges()}if(e.type==="mousedown")["A","BUTTON"].includes(r.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,t,i){if(this.option("touch",e)===!1||!this.isDragging||t.length<2&&this.panOnlyZoomed&&L(this.targetScale)<=L(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))return;this.addTrackingPoint(t[0]);const{content:n}=this,o=En(i[0],i[1]),r=En(t[0],t[1]);let l=0,c=0;if(t.length>1){const v=n.getBoundingClientRect();l=o.clientX-v.left-.5*v.width,c=o.clientY-v.top-.5*v.height}const h=Sn(i[0],i[1]),d=Sn(t[0],t[1]);let g=h?d/h:1,b=r.clientX-o.clientX,p=r.clientY-o.clientY;this.dragOffset.x+=b,this.dragOffset.y+=p,this.dragOffset.time=Date.now()-this.dragStart.time;let w=L(this.targetScale)===L(this.minScale)&&this.option("lockAxis");if(w&&!this.lockedAxis)if(w==="xy"||w==="y"||e.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const v=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=v>45&&v<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,b=0,p=0}else this.lockedAxis=w;if(Ti(e.target,this.content)&&(w="x",this.dragOffset.y=0),w&&w!=="xy"&&this.lockedAxis!==w&&L(this.targetScale)===L(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const y=this.checkBounds(b,p);this.option("rubberband")?(this.isInfinite!=="x"&&(y.xDiff>0&&b<0||y.xDiff<0&&b>0)&&(b*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*y.xDiff))),this.isInfinite!=="y"&&(y.yDiff>0&&p<0||y.yDiff<0&&p>0)&&(p*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*y.yDiff)))):(y.xDiff&&(b=0),y.yDiff&&(p=0));const a=this.targetScale,u=this.minScale,f=this.maxScale;a<.5*u&&(g=Math.max(g,u)),a>1.5*f&&(g=Math.min(g,f)),this.lockedAxis==="y"&&L(a)===L(u)&&(b=0),this.lockedAxis==="x"&&L(a)===L(u)&&(p=0),this.applyChange({originX:l,originY:c,panX:b,panY:p,scale:g,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),Ti(e.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==J.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const v of We)this.velocity[v]=0;this.target.e=this.current.e,this.target.f=this.current.f,G(this.container,"is-scaling"),G(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,n=i[0],o=i[i.length-1];let r=0,l=0,c=0;o&&n&&(r=o.clientX-n.clientX,l=o.clientY-n.clientY,c=o.time-n.time);const h=((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1;h!==1&&(r*=h,l*=h);let d=0,g=0,b=0,p=0,w=this.option("decelFriction");const y=this.targetScale;if(c>0){b=Math.abs(r)>3?r/(c/30):0,p=Math.abs(l)>3?l/(c/30):0;const v=this.option("maxVelocity");v&&(b=Math.max(Math.min(b,v),-1*v),p=Math.max(Math.min(p,v),-1*v))}b&&(d=b/(1/(1-w)-1)),p&&(g=p/(1/(1-w)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&L(y)===this.minScale)&&(d=b=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&L(y)===this.minScale)&&(g=p=0);const a=this.dragOffset.x,u=this.dragOffset.y,f=this.option("dragMinThreshold")||0;Math.abs(a)<f&&Math.abs(u)<f&&(d=g=0,b=p=0),(this.option("zoom")&&(y<this.minScale-1e-5||y>this.maxScale+1e-5)||t&&!d&&!g)&&(w=.35),this.applyChange({panX:d,panY:g,friction:w}),this.emit("decel",b,p,a,u)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(o,r){return Math.abs(r)>Math.abs(o)?r:o});const i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode===we||e.defaultPrevented)return;const n=this.option("wheel");n==="pan"?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):n==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){e.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:e,target:t,content:i,contentRect:n}=this,o=Object.assign({},oi);for(const a of We){const u=a=="e"||a==="f"?ri:Yl;o[a]=L(e[a],u),Math.abs(t[a]-e[a])<(a=="e"||a==="f"?.51:.001)&&(e[a]=t[a])}let{a:r,b:l,c,d:h,e:d,f:g}=o,b=`matrix(${r}, ${l}, ${c}, ${h}, ${d}, ${g})`,p=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(p=p.parentElement||p),p.style.transform===b)return;p.style.transform=b;const{contentWidth:w,contentHeight:y}=this.calculateContentDim();n.width=w,n.height=y,this.emit("afterTransform")}updateMetrics(e=!1){var t;if(!this||this.state===J.Destroy||this.isContentLoading)return;const i=Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1),{container:n,content:o}=this,r=o instanceof HTMLImageElement,l=n.getBoundingClientRect(),c=getComputedStyle(this.container);let h=l.width*i,d=l.height*i;const g=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom),b=h-(parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)),p=d-g;this.containerRect={width:h,height:d,innerWidth:b,innerHeight:p};const w=parseFloat(o.dataset.width||"")||(F=>{let q=0;return q=F instanceof HTMLImageElement?F.naturalWidth:F instanceof SVGElement?F.width.baseVal.value:Math.max(F.offsetWidth,F.scrollWidth),q||0})(o),y=parseFloat(o.dataset.height||"")||(F=>{let q=0;return q=F instanceof HTMLImageElement?F.naturalHeight:F instanceof SVGElement?F.height.baseVal.value:Math.max(F.offsetHeight,F.scrollHeight),q||0})(o);let a=this.option("width",w)||xe,u=this.option("height",y)||xe;const f=a===xe,v=u===xe;typeof a!="number"&&(a=w),typeof u!="number"&&(u=y),f&&(a=w*(u/y)),v&&(u=y/(w/a));let m=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(m=m.parentElement||m);const S=m.getAttribute("style")||"";m.style.setProperty("transform","none","important"),r&&(m.style.width="",m.style.height=""),m.offsetHeight;const x=o.getBoundingClientRect();let E=x.width*i,C=x.height*i,A=E,k=C;E=Math.min(E,a),C=Math.min(C,u),r?{width:E,height:C}=((F,q,ie,K)=>{const te=ie/F,$=K/q,D=Math.min(te,$);return{width:F*=D,height:q*=D}})(a,u,E,C):(E=Math.min(E,a),C=Math.min(C,u));let W=.5*(k-C),j=.5*(A-E);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:x.top-l.top+W,bottom:l.bottom-x.bottom+W,left:x.left-l.left+j,right:l.right-x.right+j,fitWidth:E,fitHeight:C,width:E,height:C,fullWidth:a,fullHeight:u}),m.style.cssText=S,r&&(m.style.width=`${E}px`,m.style.height=`${C}px`),this.setTransform(),e!==!0&&this.emit("refresh"),this.ignoreBounds||(L(this.targetScale)<L(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===J.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:t}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:n}=this,{fitWidth:o,fitHeight:r}=this.contentRect;let l=0,c=0,h=0,d=0;const g=this.option("infinite");if(g===!0||n&&g===n)l=-1/0,h=1/0,c=-1/0,d=1/0;else{let{containerRect:b,contentRect:p}=this,w=L(o*i,ri),y=L(r*i,ri),{innerWidth:a,innerHeight:u}=b;if(b.width===w&&(a=b.width),b.width===y&&(u=b.height),e>a){h=.5*(e-a),l=-1*h;let f=.5*(p.right-p.left);l+=f,h+=f}if(o>a&&e<a&&(l-=.5*(o-a),h-=.5*(o-a)),t>u){d=.5*(t-u),c=-1*d;let f=.5*(p.bottom-p.top);c+=f,d+=f}r>u&&t<u&&(l-=.5*(r-u),h-=.5*(r-u))}return{x:{min:l,max:h},y:{min:c,max:d}}}getBounds(){const e=this.option("bounds");return e!==xe?e:this.calculateBounds()}updateControls(){const e=this,t=e.container,{panMode:i,contentRect:n,targetScale:o,minScale:r}=e;let l=r,c=e.option("click")||!1;c&&(l=e.getNextScale(c));let h=e.canZoomIn(),d=e.canZoomOut(),g=i===Tn&&!!this.option("touch"),b=d&&g;if(g&&(L(o)<L(r)&&!this.panOnlyZoomed&&(b=!0),(L(n.width,1)>L(n.fitWidth,1)||L(n.height,1)>L(n.fitHeight,1))&&(b=!0)),L(n.width*o,1)<L(n.fitWidth,1)&&(b=!1),i===we&&(b=!1),Be(t,this.cn("isDraggable"),b),!this.option("zoom"))return;let p=h&&L(l)>L(o),w=!p&&!b&&d&&L(l)<L(o);Be(t,this.cn("canZoomIn"),p),Be(t,this.cn("canZoomOut"),w);for(const y of t.querySelectorAll("[data-panzoom-action]")){let a=!1,u=!1;switch(y.dataset.panzoomAction){case"zoomIn":h?a=!0:u=!0;break;case"zoomOut":d?a=!0:u=!0;break;case"toggleZoom":case"iterateZoom":h||d?a=!0:u=!0;const f=y.querySelector("g");f&&(f.style.display=h?"":"none")}a?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):u&&(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:i=this.targetScale,friction:n=this.option("friction"),angle:o=0,originX:r=0,originY:l=0,flipX:c=!1,flipY:h=!1,ignoreBounds:d=!1}){this.state!==J.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:i/this.targetScale,angle:o,originX:r,originY:l,friction:n,flipX:c,flipY:h,ignoreBounds:d})}applyChange({panX:e=0,panY:t=0,scale:i=1,angle:n=0,originX:o=-this.current.e,originY:r=-this.current.f,friction:l=this.option("friction"),flipX:c=!1,flipY:h=!1,ignoreBounds:d=!1,bounce:g=this.option("bounce")}){const b=this.state;if(b===J.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=l||0,this.ignoreBounds=d;const{current:p}=this,w=p.e,y=p.f,a=this.getMatrix(this.target);let u=new DOMMatrix().translate(w,y).translate(o,r).translate(e,t);if(this.option("zoom")){if(!d){const f=this.targetScale,v=this.minScale,m=this.maxScale;f*i<v&&(i=v/f),f*i>m&&(i=m/f)}u=u.scale(i)}u=u.translate(-o,-r).translate(-w,-y).multiply(a),n&&(u=u.rotate(n)),c&&(u=u.scale(-1,1)),h&&(u=u.scale(1,-1));for(const f of We)f!=="e"&&f!=="f"&&(u[f]>this.minScale+1e-5||u[f]<this.minScale-1e-5)?this.target[f]=u[f]:this.target[f]=L(u[f],ri);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===we||g===!1)&&!d&&this.clampTargetBounds(),b===J.Init?this.animate():this.isResting||(this.state=J.Panning,this.requestTick())}stop(e=!1){if(this.state===J.Init||this.state===J.Destroy)return;const t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const i of We)this.velocity[i]=0,e==="current"?this.current[i]=this.target[i]:e==="target"&&(this.target[i]=this.current[i]);this.setTransform(),G(this.container,"is-scaling"),G(this.container,"is-animating"),this.isTicking=!1,this.state=J.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),z(this.container,"is-animating"),this.isScaling&&z(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,t=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==we||!e||L(this.targetScale)<=L(this.minScale))return;this.emit("mouseMove",e);const{container:i,containerRect:n,contentRect:o}=this,r=n.width,l=n.height,c=i.getBoundingClientRect(),h=(e.clientX||0)-c.left,d=(e.clientY||0)-c.top;let{contentWidth:g,contentHeight:b}=this.calculateContentDim(this.target);const p=this.option("mouseMoveFactor");p>1&&(g!==r&&(g*=p),b!==l&&(b*=p));let w=.5*(g-r)-h/r*100/100*(g-r);w+=.5*(o.right-o.left);let y=.5*(b-l)-d/l*100/100*(b-l);y+=.5*(o.bottom-o.top),this.applyChange({panX:w-this.target.e,panY:y-this.target.f,friction:t})}zoomWithWheel(e){if(this.state===J.Destroy||this.state===J.Init)return;const t=Date.now();if(t-this.pwt<45)return void e.preventDefault();this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(h,d){return Math.abs(d)>Math.abs(h)?d:h});const n=Math.max(-1,Math.min(1,i)),{targetScale:o,maxScale:r,minScale:l}=this;let c=o*(100+45*n)/100;L(c)<L(l)&&L(o)<=L(l)?(this.cwd+=Math.abs(n),c=l):L(c)>L(r)&&L(o)>=L(r)?(this.cwd+=Math.abs(n),c=r):(this.cwd=0,c=Math.max(Math.min(c,r),l)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),L(c)!==L(o)&&this.zoomTo(c,{event:e}))}canZoomIn(){return this.option("zoom")&&(L(this.contentRect.width,1)<L(this.contentRect.fitWidth,1)||L(this.targetScale)<L(this.maxScale))}canZoomOut(){return this.option("zoom")&&L(this.targetScale)>L(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=xe,originX:i=xe,originY:n=xe,event:o}={}){if(this.isContentLoading||this.state===J.Destroy)return;const{targetScale:r,fullScale:l,maxScale:c,coverScale:h}=this;if(this.stop(),this.panMode===we&&(o=this.pmme||o),o||i===xe||n===xe){const g=this.content.getBoundingClientRect(),b=this.container.getBoundingClientRect(),p=o?o.clientX:b.left+.5*b.width,w=o?o.clientY:b.top+.5*b.height;i=p-g.left-.5*g.width,n=w-g.top-.5*g.height}let d=1;typeof e=="number"?d=e:e==="full"?d=l:e==="cover"?d=h:e==="max"?d=c:e==="fit"?d=1:e==="next"&&(d=this.getNextScale("iterateZoom")),d=d/r||1,t=t===xe?d>1?.15:.25:t,this.applyChange({scale:d,originX:i,originY:n,friction:t}),o&&this.panMode===we&&this.panWithMouse(o,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-i.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-i.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:e}=this,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);const n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}getMatrix(e=this.current){const{a:t,b:i,c:n,d:o,e:r,f:l}=e;return new DOMMatrix([t,i,n,o,r,l])}reset(e){if(this.state!==J.Init&&this.state!==J.Destroy){this.stop("current");for(const t of We)this.target[t]=oi[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=e===void 0?this.option("friction"):e,this.state=J.Panning,this.requestTick())}}destroy(){this.stop(),this.state=J.Destroy,this.detachEvents(),this.detachObserver();const{container:e,content:t}=this,i=this.option("classes")||{};for(const n of Object.values(i))e.classList.remove(n+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(mt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:$l}),Object.defineProperty(mt,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const Dn=function(s,e){let t=!0;return(...i)=>{t&&(t=!1,s(...i),setTimeout(()=>{t=!0},e))}},Mn=(s,e)=>{let t=[];return s.childNodes.forEach(i=>{i.nodeType!==Node.ELEMENT_NODE||e&&!i.matches(e)||t.push(i)}),t},ql={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var oe;(function(s){s[s.Init=0]="Init",s[s.Ready=1]="Ready",s[s.Destroy=2]="Destroy"})(oe||(oe={}));const Xi=s=>{if(typeof s=="string"||s instanceof HTMLElement)s={html:s};else{const e=s.thumb;e!==void 0&&(typeof e=="string"&&(s.thumbSrc=e),e instanceof HTMLImageElement&&(s.thumbEl=e,s.thumbElSrc=e.src,s.thumbSrc=e.src),delete s.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},s)},Xl=(s={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},s);class Pe extends Ci{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}const Ul={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class Ho extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),z(e,this.cn("list")),e.setAttribute("role","tablist");const t=this.instance.container;t.appendChild(e),z(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;const t=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(t<i||t>n)return void this.cleanup();const r=typeof o=="number"&&t>5&&t>=o,l=!this.list||this.isDynamic!==r||this.list.children.length!==t;l&&this.cleanup();const c=this.build();if(Be(c,this.cn("isDynamic"),!!r),l)for(let g=0;g<t;g++)c.append(this.createItem(g));let h,d=0;for(const g of[...c.children]){const b=d===this.instance.page;b&&(h=g),Be(g,this.cn("isCurrent"),b),(e=g.children[0])===null||e===void 0||e.setAttribute("aria-selected",b?"true":"false");for(const p of["isBeforePrev","isPrev","isNext","isAfterNext"])G(g,this.cn(p));d++}if(h=h||c.firstChild,r&&h){const g=h.previousElementSibling,b=g&&g.previousElementSibling;z(g,this.cn("isPrev")),z(b,this.cn("isBeforePrev"));const p=h.nextElementSibling,w=p&&p.nextElementSibling;z(p,this.cn("isNext")),z(w,this.cn("isAfterNext"))}this.isDynamic=r}createItem(e=0){var t;const i=document.createElement("li");i.setAttribute("role","presentation");const n=ze(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return i.appendChild(n),(t=i.children[0])===null||t===void 0||t.setAttribute("role","tab"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,G(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(Ho,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ul});const ai="disabled",li="next",Ln="prev";class jo extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const e=this.instance,t=e.pages.length,i=e.page;if(t<2)return void this.cleanup();this.build();let n=this.prev,o=this.next;n&&o&&(n.removeAttribute(ai),o.removeAttribute(ai),e.isInfinite||(i<=0&&n.setAttribute(ai,""),i>=t-1&&o.setAttribute(ai,"")))}addBtn(e){var t;const i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize(`{{${e.toUpperCase()}}}`)),z(n,this.cn("button")+" "+this.cn(e===li?"isNext":"isPrev"));const o=i.isRTL?e===li?Ln:li:e;var r;return n.innerHTML=i.localize(this.option(`${o}Tpl`)),n.dataset[`carousel${r=e,r?r.match("^[a-z]")?r.charAt(0).toUpperCase()+r.substring(1):r:""}`]="true",(t=this.container)===null||t===void 0||t.appendChild(n),n}build(){const e=this.instance.container,t=this.cn("container");let{container:i,prev:n,next:o}=this;i||(i=e.querySelector("."+t),this.isDom=!!i),i||(i=document.createElement("div"),z(i,t),e.appendChild(i)),this.container=i,o||(o=i.querySelector("[data-carousel-next]")),o||(o=this.addBtn(li)),this.next=o,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(Ln)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(jo,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class _o extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){const{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===oe.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===oe.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,i){this.onNavTouch(e,e.panzoom,i)}onNavTouch(e,t,i){var n,o;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;const r=i.target,{nav:l,target:c}=this;if(!l||!c||!r)return;const h=r.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),!h)return;const d=parseInt(h.dataset.index||"",10)||0,g=c.getPageForSlide(d),b=l.getPageForSlide(d);l.slideTo(b),c.slideTo(g,{friction:((o=(n=this.nav)===null||n===void 0?void 0:n.plugins)===null||o===void 0?void 0:o.Sync.option("friction"))||0}),this.markSelectedSlide(d)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;const{target:i,nav:n}=this;if(!i||!n||n.state!==oe.Ready||i.state!==oe.Ready)return;const o=(t=(e=i.pages[i.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index,r=n.getPageForSlide(o);this.markSelectedSlide(o),n.slideTo(r,n.prevPage===null&&i.prevPage===null?{friction:0}:void 0)}markSelectedSlide(e){const t=this.nav;t&&t.state===oe.Ready&&(this.selectedIndex=e,[...t.slides].map(i=>{i.el&&i.el.classList[i.index===e?"add":"remove"]("is-nav-selected")}))}attach(){const e=this;let t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}detach(){const e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}}Object.defineProperty(_o,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Kl={Navigation:jo,Dots:Ho,Sync:_o},ci="animationend",An="isSelected",hi="slide";class ut extends Rs{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===oe.Ready}get isInfinite(){let e=!1;const{contentDim:t,viewportDim:i,pages:n,slides:o}=this,r=o[0];return n.length>=2&&r&&t+r.dim>=i&&(e=this.option("infinite")),e}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(e,t={},i={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof e=="string"&&(e=document.querySelector(e)),!e||!ce(e))throw new Error("No Element found");this.container=e,this.slideNext=Dn(this.slideNext.bind(this),150),this.slidePrev=Dn(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=i,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,t;const i=he({},ut.defaults,this.userOptions);let n="";const o=i.breakpoints;if(o&&ms(o))for(const[r,l]of Object.entries(o))window.matchMedia(r).matches&&ms(l)&&(n+=r,he(i,l));n===this.bp&&this.state!==oe.Init||(this.bp=n,this.state===oe.Ready&&(i.initialSlide=((t=(e=this.pages[this.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index)||0),this.state!==oe.Init&&this.destroy(),super.setOptions(i),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=oe.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},ut.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=oe.Ready,this.emit("ready")}initLayout(){const{container:e}=this,t=this.option("classes");z(e,this.cn("container")),Be(e,t.isLTR,!this.isRTL),Be(e,t.isRTL,this.isRTL),Be(e,t.isVertical,!this.isHorizontal),Be(e,t.isHorizontal,this.isHorizontal);let i=this.option("viewport")||e.querySelector(`.${t.viewport}`);i||(i=document.createElement("div"),z(i,t.viewport),i.append(...Mn(e,`.${t.slide}`)),e.prepend(i)),i.addEventListener("scroll",this.onScroll);let n=this.option("track")||e.querySelector(`.${t.track}`);n||(n=document.createElement("div"),z(n,t.track),n.append(...Array.from(i.childNodes))),n.setAttribute("aria-live","polite"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit("initLayout")}initSlides(){const{track:e}=this;if(!e)return;const t=[...this.slides],i=[];[...Mn(e,`.${this.cn(hi)}`)].forEach(n=>{if(ce(n)){const o=Xi({el:n,isDom:!0,index:this.slides.length});i.push(o)}});for(let n of[...this.option("slides",[])||[],...t])i.push(Xi(n));this.slides=i;for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;for(const n of i)this.emit("beforeInitSlide",n,n.index),this.emit("initSlide",n,n.index);this.emit("initSlides")}setInitialPage(){const e=this.option("initialSlide");this.page=typeof e=="number"?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:e,pages:t,isHorizontal:i}=this;if(!e||!t.length)return;let n=this.page;t[n]||(this.page=n=0);const o=(t[n].pos||0)*(this.isRTL&&i?1:-1),r=i?`${o}px`:"0",l=i?"0":`${o}px`;e.style.transform=`translate3d(${r}, ${l}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const e=this.option("Panzoom")||{};this.panzoom=new mt(this.viewport,he({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(t,i,...n)=>{this.emit(`Panzoom.${i}`,t,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[];const{contentDim:t,viewportDim:i}=this;let n=this.option("slidesPerPage");n=(n==="auto"||t<=i)&&this.option("fill")!==!1?1/0:parseFloat(n+"");let o=0,r=0,l=0;for(const c of this.slides)(!e.length||r+c.dim-i>.05||l>=n)&&(e.push(Xl()),o=e.length-1,r=0,l=0),e[o].slides.push(c),r+=c.dim+c.gap,l++;return e}processPages(){const e=this.pages,{contentDim:t,viewportDim:i,isInfinite:n}=this,o=this.option("center"),r=this.option("fill"),l=r&&o&&t>i&&!n;if(e.forEach((d,g)=>{var b;d.index=g,d.pos=((b=d.slides[0])===null||b===void 0?void 0:b.pos)||0,d.dim=0;for(const[p,w]of d.slides.entries())d.dim+=w.dim,p<d.slides.length-1&&(d.dim+=w.gap);l&&d.pos+.5*d.dim<.5*i?d.pos=0:l&&d.pos+.5*d.dim>=t-.5*i?d.pos=t-i:o&&(d.pos+=-.5*(i-d.dim))}),e.forEach(d=>{r&&!n&&t>i&&(d.pos=Math.max(d.pos,0),d.pos=Math.min(d.pos,t-i)),d.pos=L(d.pos,1e3),d.dim=L(d.dim,1e3),Math.abs(d.pos)<=.1&&(d.pos=0)}),n)return e;const c=[];let h;return e.forEach(d=>{const g=Object.assign({},d);h&&g.pos===h.pos?(h.dim+=g.dim,h.slides=[...h.slides,...g.slides]):(g.index=c.length,h=g,c.push(g))}),c}getPageFromIndex(e=0){const t=this.pages.length;let i;return e=parseInt((e||0).toString())||0,i=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),i}getSlideMetrics(e){var t,i;const n=this.isHorizontal?"width":"height";let o=0,r=0,l=e.el;const c=!(!l||l.parentNode);if(l?o=parseFloat(l.dataset[n]||"")||0:(l=document.createElement("div"),l.style.visibility="hidden",(this.track||document.body).prepend(l)),z(l,this.cn(hi)+" "+e.class+" "+e.customClass),o)l.style[n]=`${o}px`,l.style[n==="width"?"height":"width"]="";else{c&&(this.track||document.body).prepend(l),o=l.getBoundingClientRect()[n]*Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1);let d=l[this.isHorizontal?"offsetWidth":"offsetHeight"];d-1>o&&(o=d)}const h=getComputedStyle(l);return h.boxSizing==="content-box"&&(this.isHorizontal?(o+=parseFloat(h.paddingLeft)||0,o+=parseFloat(h.paddingRight)||0):(o+=parseFloat(h.paddingTop)||0,o+=parseFloat(h.paddingBottom)||0)),r=parseFloat(h[this.isHorizontal?"marginRight":"marginBottom"])||0,c?(i=l.parentElement)===null||i===void 0||i.removeChild(l):e.el||l.remove(),{dim:L(o,1e3),gap:L(r,1e3)}}getBounds(){const{isInfinite:e,isRTL:t,isHorizontal:i,pages:n}=this;let o={min:0,max:0};if(e)o={min:-1/0,max:1/0};else if(n.length){const r=n[0].pos,l=n[n.length-1].pos;o=t&&i?{min:r,max:l}:{min:-1*l,max:-1*r}}return{x:i?o:{min:0,max:0},y:i?{min:0,max:0}:o}}repositionSlides(){let e,{isHorizontal:t,isRTL:i,isInfinite:n,viewport:o,viewportDim:r,contentDim:l,page:c,pages:h,slides:d,panzoom:g}=this,b=0,p=0,w=0,y=0;g?y=-1*g.current[this.axis]:h[c]&&(y=h[c].pos||0),e=t?i?"right":"left":"top",i&&t&&(y*=-1);for(const v of d){const m=v.el;m?(e==="top"?(m.style.right="",m.style.left=""):m.style.top="",v.index!==b?m.style[e]=p===0?"":`${L(p,1e3)}px`:m.style[e]="",w+=v.dim+v.gap,b++):p+=v.dim+v.gap}if(n&&w&&o){let v=getComputedStyle(o),m="padding",S=t?"Right":"Bottom",x=parseFloat(v[m+(t?"Left":"Top")]);y-=x,r+=x,r+=parseFloat(v[m+S]);for(const E of d)E.el&&(L(E.pos)<L(r)&&L(E.pos+E.dim+E.gap)<L(y)&&L(y)>L(l-r)&&(E.el.style[e]=`${L(p+w,1e3)}px`),L(E.pos+E.gap)>=L(l-r)&&L(E.pos)>L(y+r)&&L(y)<L(r)&&(E.el.style[e]=`-${L(w,1e3)}px`))}let a,u,f=[...this.inTransition];if(f.length>1&&(a=h[f[0]],u=h[f[1]]),a&&u){let v=0;for(const m of d)m.el?this.inTransition.has(m.index)&&a.slides.indexOf(m)<0&&(m.el.style[e]=`${L(v+(a.pos-u.pos),1e3)}px`):v+=m.dim+m.gap}}createSlideEl(e){const{track:t,slides:i}=this;if(!t||!e||e.el&&e.el.parentNode)return;const n=e.el||document.createElement("div");z(n,this.cn(hi)),z(n,e.class),z(n,e.customClass);const o=e.html;o&&(o instanceof HTMLElement?n.appendChild(o):n.innerHTML=e.html+"");const r=[];i.forEach((d,g)=>{d.el&&r.push(g)});const l=e.index;let c=null;r.length&&(c=i[r.reduce((d,g)=>Math.abs(g-l)<Math.abs(d-l)?g:d)]);const h=c&&c.el&&c.el.parentNode?c.index<e.index?c.el.nextSibling:c.el:null;t.insertBefore(n,t.contains(h)?h:null),e.el=n,this.emit("createSlide",e)}removeSlideEl(e,t=!1){const i=e==null?void 0:e.el;if(!i||!i.parentNode)return;const n=this.cn(An);if(i.classList.contains(n)&&(G(i,n),this.emit("unselectSlide",e)),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",e);const o=new CustomEvent(ci);i.dispatchEvent(o),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var i,n,o,r;if(!t)return!1;const l=this.page,{pages:c,panzoom:h}=this;e=parseInt((e||0).toString())||0;const d=this.getPageFromIndex(e);if(!h||!c[d]||c.length<2||Math.abs((((n=(i=c[l])===null||i===void 0?void 0:i.slides[0])===null||n===void 0?void 0:n.dim)||0)-this.viewportDim)>1)return!1;let g=e>l?1:-1;this.isInfinite&&(l===0&&e===c.length-1&&(g=-1),l===c.length-1&&e===0&&(g=1));const b=c[d].pos*(this.isRTL?1:-1);if(l===d&&Math.abs(b-h.target[this.axis])<1)return!1;this.clearTransitions();const p=h.isResting;z(this.container,this.cn("inTransition"));const w=((o=c[l])===null||o===void 0?void 0:o.slides[0])||null,y=((r=c[d])===null||r===void 0?void 0:r.slides[0])||null;this.inTransition.add(y.index),this.createSlideEl(y);let a=w.el,u=y.el;p||t===hi||(t="fadeFast",a=null);const f=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return a&&(this.inTransition.add(w.index),w.transition=t,a.addEventListener(ci,this.onAnimationEnd),a.classList.add(`f-${t}Out`,`to-${g>0?v:f}`)),u&&(y.transition=t,u.addEventListener(ci,this.onAnimationEnd),u.classList.add(`f-${t}In`,`from-${g>0?f:v}`)),h.current[this.axis]=b,h.target[this.axis]=b,h.requestTick(),this.onChange(d),!0}manageSlideVisiblity(){const e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const n of this.slides)i.has(n)?e.add(n):t.add(n);for(const n of this.inTransition)e.add(this.slides[n]);for(const n of e)this.createSlideEl(n),this.lazyLoadSlide(n);for(const n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const e="aria-hidden";let t=this.cn(An);if(t)for(const i of this.slides){const n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?n.removeAttribute(e):n.setAttribute(e,"true"):this.pages[this.page].slides.includes(i)?(n.classList.contains(t)||(z(n,t),this.emit("selectSlide",i)),n.removeAttribute(e)):(n.classList.contains(t)&&(G(n,t),this.emit("unselectSlide",i)),n.setAttribute(e,"true")))}}flipInfiniteTrack(){const{axis:e,isHorizontal:t,isInfinite:i,isRTL:n,viewportDim:o,contentDim:r}=this,l=this.panzoom;if(!l||!i)return;let c=l.current[e],h=l.target[e]-c,d=0,g=.5*o;n&&t?(c<-g&&(d=-1,c+=r),c>r-g&&(d=1,c-=r)):(c>g&&(d=1,c-=r),c<-r+g&&(d=-1,c+=r)),d&&(l.current[e]=c,l.target[e]=c+h)}lazyLoadImg(e,t){const i=this,n="f-fadeIn",o="is-preloading";let r=!1,l=null;const c=()=>{r||(r=!0,l&&(l.remove(),l=null),G(t,o),t.complete&&(z(t,n),setTimeout(()=>{G(t,n)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit("load",e))};z(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{c()}),t.addEventListener("load",()=>{c()}),setTimeout(()=>{const h=t.parentNode;h&&e.el&&(t.complete?c():r||(l=ze(Ns),h.insertBefore(l,t)))},300)}lazyLoadSlide(e){const t=e&&e.el;if(!t)return;const i=new Set;let n=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&n.push(t),n.map(o=>{o instanceof HTMLImageElement?i.add(o):o instanceof HTMLElement&&o.dataset.lazySrc&&(o.style.backgroundImage=`url('${o.dataset.lazySrc}')`,delete o.dataset.lazySrc)});for(const o of i)this.lazyLoadImg(e,o)}onAnimationEnd(e){var t;const i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,o=this.slides[n],r=e.animationName;if(!i||!o||!r)return;const l=!!this.inTransition.has(n)&&o.transition;l&&r.substring(0,l.length+2)===`f-${l}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(!((t=this.panzoom)===null||t===void 0)&&t.isResting)&&this.emit("settle")}onDecel(e,t=0,i=0,n=0,o=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:r,isHorizontal:l,axis:c,pages:h}=this,d=h.length,g=Math.abs(Math.atan2(i,t)/(Math.PI/180));let b=0;if(b=g>45&&g<135?l?0:i:l?t:0,!d)return;let p=this.page,w=r&&l?1:-1;const y=e.current[c]*w;let{pageIndex:a}=this.getPageFromPosition(y);Math.abs(b)>5?(h[p].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(p=a),p=r&&l?b<0?p-1:p+1:b<0?p+1:p-1):p=n===0&&o===0?p:a,this.slideTo(p,{transition:!1,friction:e.option("decelFriction")})}onClick(e){const t=e.target,i=t&&ce(t)?t.dataset:null;let n,o;i&&(i.carouselPage!==void 0?(o="slideTo",n=i.carouselPage):i.carouselNext!==void 0?o="slideNext":i.carouselPrev!==void 0&&(o="slidePrev")),o?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[o](n)):this.emit("click",e)}onSlideTo(e){const t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){const i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;(e=this.viewport)===null||e===void 0||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=oe.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:i=this.option("transition")}={}){if(this.state===oe.Destroy)return;e=parseInt((e||0).toString())||0;const n=this.getPageFromIndex(e),{axis:o,isHorizontal:r,isRTL:l,pages:c,panzoom:h}=this,d=c.length,g=l&&r?1:-1;if(!h||!d)return;if(this.page!==n){const p=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",p,e),p.defaultPrevented)return}if(this.transitionTo(e,i))return;let b=c[n].pos;if(this.isInfinite){const p=this.contentDim,w=h.target[o]*g;d===2?b+=p*Math.floor(parseFloat(e+"")/2):b=[b,b-p,b+p].reduce(function(y,a){return Math.abs(a-w)<Math.abs(y-w)?a:y})}b*=g,Math.abs(h.target[o]-b)<1||(h.panTo({x:r?b:0,y:r?0:b,friction:t}),this.onChange(n))}slideToClosest(e){if(this.panzoom){const{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),G(this.container,this.cn("inTransition"));const e=["to-prev","to-next","from-prev","from-next"];for(const t of this.slides){const i=t.el;if(i){i.removeEventListener(ci,this.onAnimationEnd),i.classList.remove(...e);const n=t.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var i,n,o,r;const l=this.panzoom,c=((i=this.pages[this.page])===null||i===void 0?void 0:i.pos)||0,h=((n=this.pages[this.page])===null||n===void 0?void 0:n.dim)||0,d=this.contentDim<this.viewportDim;let g=Array.isArray(t)?t:[t];const b=[];for(const p of g)b.push(Xi(p));this.slides.splice(e,0,...b);for(let p=0;p<this.slides.length;p++)this.slides[p].index=p;for(const p of b)this.emit("beforeInitSlide",p,p.index);if(this.page>=e&&(this.page+=b.length),this.updateMetrics(),l){const p=((o=this.pages[this.page])===null||o===void 0?void 0:o.pos)||0,w=((r=this.pages[this.page])===null||r===void 0?void 0:r.dim)||0,y=this.pages.length||1,a=this.isRTL?h-w:w-h,u=this.isRTL?c-p:p-c;d&&y===1?(e<=this.page&&(l.current[this.axis]-=a,l.target[this.axis]-=a),l.panTo({[this.isHorizontal?"x":"y"]:-1*p})):u&&e<=this.page&&(l.target[this.axis]-=u,l.current[this.axis]-=u,l.requestTick())}for(const p of b)this.emit("initSlide",p,p.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){const t=this.slides.length;e=(e%t+t)%t;const i=this.slides[e];if(i){this.removeSlideEl(i,!0),this.slides.splice(e,1);for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}}updateMetrics(){const{panzoom:e,viewport:t,track:i,slides:n,isHorizontal:o,isInfinite:r}=this;if(!i)return;const l=o?"width":"height",c=o?"offsetWidth":"offsetHeight";if(t){let g=Math.max(t[c],L(t.getBoundingClientRect()[l],1e3)),b=getComputedStyle(t),p="padding",w=o?"Right":"Bottom";g-=parseFloat(b[p+(o?"Left":"Top")])+parseFloat(b[p+w]),this.viewportDim=g}let h,d=0;for(const[g,b]of n.entries()){let p=0,w=0;!b.el&&h?(p=h.dim,w=h.gap):({dim:p,gap:w}=this.getSlideMetrics(b),h=b),p=L(p,1e3),w=L(w,1e3),b.dim=p,b.gap=w,b.pos=d,d+=p,(r||g<n.length-1)&&(d+=w)}d=L(d,1e3),this.contentDim=d,e&&(e.contentRect[l]=d,e.contentRect[o?"fullWidth":"fullHeight"]=d),this.pages=this.createPages(),this.pages=this.processPages(),this.state===oe.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,t=!1,i=!1){e===void 0&&(e=this.page);const n=this,o=n.panzoom,r=n.contentDim,l=n.pages[e]||0;if(!l||!o)return e>this.page?-1:1;let c=-1*o.current.e,h=L((c-l.pos)/(1*l.dim),1e3),d=h,g=h;this.isInfinite&&i!==!0&&(d=L((c-l.pos+r)/(1*l.dim),1e3),g=L((c-l.pos-r)/(1*l.dim),1e3));let b=[h,d,g].reduce(function(p,w){return Math.abs(w)<Math.abs(p)?w:p});return t?b:b>1?1:b<-1?-1:b}setViewportHeight(){const{page:e,pages:t,viewport:i,isHorizontal:n}=this;if(!i||!t[e])return;let o=0;n&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(r=>{r.el&&(o=Math.max(o,r.el.offsetHeight))})),i.style.height=o?`${o}px`:""}getPageForSlide(e){for(const t of this.pages)for(const i of t.slides)if(i.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;const i=new Set;let{panzoom:n,contentDim:o,viewportDim:r,pages:l,page:c}=this;if(r){o=o+((t=this.slides[this.slides.length-1])===null||t===void 0?void 0:t.gap)||0;let h=0;h=n&&n.state!==J.Init&&n.state!==J.Destroy?-1*n.current[this.axis]:l[c]&&l[c].pos||0,this.isInfinite&&(h-=Math.floor(h/o)*o),this.isRTL&&this.isHorizontal&&(h*=-1);const d=h-r*e,g=h+r*(e+1),b=this.isInfinite?[-1,0,1]:[0];for(const p of this.slides)for(const w of b){const y=p.pos+w*o,a=y+p.dim+p.gap;y<g&&a>d&&i.add(p)}}return i}getPageFromPosition(e){const{viewportDim:t,contentDim:i,slides:n,pages:o,panzoom:r}=this,l=o.length,c=n.length,h=n[0],d=n[c-1],g=this.option("center");let b=0,p=0,w=0,y=e===void 0?-1*((r==null?void 0:r.target[this.axis])||0):e;g&&(y+=.5*t),this.isInfinite?(y<h.pos-.5*d.gap&&(y-=i,w=-1),y>d.pos+d.dim+.5*d.gap&&(y-=i,w=1)):y=Math.max(h.pos||0,Math.min(y,d.pos));let a=d,u=n.find(f=>{const v=f.pos-.5*a.gap,m=f.pos+f.dim+.5*f.gap;return a=f,y>=v&&y<m});return u||(u=d),p=this.getPageForSlide(u.index),b=p+w*l,{page:b,pageIndex:p}}setPageFromPosition(){const{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([oe.Destroy].includes(this.state))return;this.state=oe.Destroy;const{container:e,viewport:t,track:i,slides:n,panzoom:o}=this,r=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),o&&(o.destroy(),this.panzoom=null),n&&n.forEach(c=>{this.removeSlideEl(c)}),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&i&&i.offsetParent&&t.replaceWith(...i.childNodes));for(const[c,h]of Object.entries(r))c!=="container"&&h&&e.classList.remove(h);this.track=null,this.viewport=null,this.page=0,this.slides=[];const l=this.events.get("ready");this.events=new Map,l&&this.events.set("ready",l)}}Object.defineProperty(ut,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:mt}),Object.defineProperty(ut,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ql}),Object.defineProperty(ut,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Kl});const Wo=function(s){if(!ce(s))return 0;const e=window.scrollY,t=window.innerHeight,i=e+t,n=s.getBoundingClientRect(),o=n.y+e,r=n.height,l=o+r;if(e>l||i<o)return 0;if(e<o&&i>l||o<e&&l>i)return 100;let c=r;o<e&&(c-=e-o),l>i&&(c-=l-i);const h=c/t*100;return Math.round(h)},$t=!(typeof window>"u"||!window.document||!window.document.createElement);let Ui;const Ki=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),Pn=s=>{if(s&&$t){Ui===void 0&&document.createElement("div").focus({get preventScroll(){return Ui=!0,!1}});try{if(Ui)s.focus({preventScroll:!0});else{const e=window.scrollY||document.body.scrollTop,t=window.scrollX||document.body.scrollLeft;s.focus(),document.body.scrollTo({top:e,left:t,behavior:"auto"})}}catch{}}},Vo=()=>{const s=document;let e,t="",i="",n="";return s.fullscreenEnabled?(t="requestFullscreen",i="exitFullscreen",n="fullscreenElement"):s.webkitFullscreenEnabled&&(t="webkitRequestFullscreen",i="webkitExitFullscreen",n="webkitFullscreenElement"),t&&(e={request:function(o=s.documentElement){return t==="webkitRequestFullscreen"?o[t](Element.ALLOW_KEYBOARD_INPUT):o[t]()},exit:function(){return s[n]&&s[i]()},isFullscreen:function(){return s[n]}}),e},gs={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},Bo),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"};var re,ae;(function(s){s[s.Init=0]="Init",s[s.Ready=1]="Ready",s[s.Closing=2]="Closing",s[s.CustomClosing=3]="CustomClosing",s[s.Destroy=4]="Destroy"})(re||(re={})),function(s){s[s.Loading=0]="Loading",s[s.Opening=1]="Opening",s[s.Ready=2]="Ready",s[s.Closing=3]="Closing"}(ae||(ae={}));let kn="",Bt=!1,di=!1,lt=null;const $o=()=>{let s="",e="";const t=X.getInstance();if(t){const i=t.carousel,n=t.getSlide();if(i&&n){let o=n.slug||void 0,r=n.triggerEl||void 0;e=o||t.option("slug")||"",!e&&r&&r.dataset&&(e=r.dataset.fancybox||""),e&&e!=="true"&&(s="#"+e+(!o&&i.slides.length>1?"-"+(n.index+1):""))}}return{hash:s,slug:e,index:1}},Di=()=>{const s=new URL(document.URL).hash,e=s.slice(1).split("-"),t=e[e.length-1],i=t&&/^\+?\d+$/.test(t)&&parseInt(e.pop()||"1",10)||1;return{hash:s,slug:e.join("-"),index:i}},Yo=()=>{const{slug:s,index:e}=Di();if(!s)return;let t=document.querySelector(`[data-slug="${s}"]`);if(t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),X.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${s}"]`);i.length&&(t=i[e-1],t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},qo=()=>{if(X.defaults.Hash===!1)return;const s=X.getInstance();if((s==null?void 0:s.options.Hash)===!1)return;const{slug:e,index:t}=Di(),{slug:i}=$o();s&&(e===i?s.jumpTo(t-1):(Bt=!0,s.close())),Yo()},Xo=()=>{lt&&clearTimeout(lt),queueMicrotask(()=>{qo()})},Rn=()=>{window.addEventListener("hashchange",Xo,!1),setTimeout(()=>{qo()},500)};$t&&(/complete|interactive|loaded/.test(document.readyState)?Rn():document.addEventListener("DOMContentLoaded",Rn));const ui="is-zooming-in";class Uo extends Pe{onCreateSlide(e,t,i){const n=this.instance.optionFor(i,"src")||"";i.el&&i.type==="image"&&typeof n=="string"&&this.setImage(i,n)}onRemoveSlide(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(e,t,i,n){G(this.instance.container,ui);for(const o of t.slides){const r=o.panzoom;r&&o.index!==i&&r.reset(.35)}}onClose(){var e;const t=this.instance,i=t.container,n=t.getSlide();if(!i||!i.parentElement||!n)return;const{el:o,contentEl:r,panzoom:l,thumbElSrc:c}=n;if(!o||!c||!r||!l||l.isContentLoading||l.state===J.Init||l.state===J.Destroy)return;l.updateMetrics();let h=this.getZoomInfo(n);if(!h)return;this.instance.state=re.CustomClosing,i.classList.remove(ui),i.classList.add("is-zooming-out"),r.style.backgroundImage=`url('${c}')`;const d=i.getBoundingClientRect();(((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1)===1&&Object.assign(i.style,{position:"absolute",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${d.width}px`,height:`${d.height}px`,overflow:"hidden"});const{x:g,y:b,scale:p,opacity:w}=h;if(w){const y=((a,u,f,v)=>{const m=u-a,S=v-f;return x=>f+((x-a)/m*S||0)})(l.scale,p,1,0);l.on("afterTransform",()=>{r.style.opacity=y(l.scale)+""})}l.on("endAnimation",()=>{t.destroy()}),l.target.a=p,l.target.b=0,l.target.c=0,l.target.d=p,l.panTo({x:g,y:b,scale:p,friction:w?.2:.33,ignoreBounds:!0}),l.isResting&&t.destroy()}setImage(e,t){const i=this.instance;e.src=t,this.process(e,t).then(n=>{const{contentEl:o,imageEl:r,thumbElSrc:l,el:c}=e;if(i.isClosing()||!o||!r)return;o.offsetHeight;const h=!!i.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&c){c.addEventListener("contextmenu",b=>{b.preventDefault()});const g=document.createElement("div");z(g,"fancybox-protected"),o.appendChild(g)}if(l&&h){const g=n.contentRect,b=Math.max(g.fullWidth,g.fullHeight);let p=null;!h.opacity&&b>1200&&(p=document.createElement("img"),z(p,"fancybox-ghost"),p.src=l,o.appendChild(p));const w=()=>{p&&(z(p,"f-fadeFastOut"),setTimeout(()=>{p&&(p.remove(),p=null)},200))};(d=l,new Promise((y,a)=>{const u=new Image;u.onload=y,u.onerror=a,u.src=d})).then(()=>{i.hideLoading(e),e.state=ae.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{w(),this.instance.done(e)},()=>{}),p&&setTimeout(()=>{w()},b>2500?800:200)},()=>{i.hideLoading(e),i.revealContent(e)})}else{const g=this.optionFor(e,"initialSize"),b=this.optionFor(e,"zoom"),p={event:i.prevMouseMoveEvent||i.options.event,friction:b?.12:0};let w=i.optionFor(e,"showClass")||void 0,y=!0;i.isOpeningSlide(e)&&(g==="full"?n.zoomToFull(p):g==="cover"?n.zoomToCover(p):g==="max"?n.zoomToMax(p):y=!1,n.stop("current")),y&&w&&(w=n.isDragging?"f-fadeIn":""),i.hideLoading(e),i.revealContent(e,w)}var d},()=>{i.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((i,n)=>{var o;const r=this.instance,l=e.el;r.clearContent(e),r.showLoading(e);let c=this.optionFor(e,"content");if(typeof c=="string"&&(c=ze(c)),!c||!ce(c)){if(c=document.createElement("img"),c instanceof HTMLImageElement){let h="",d=e.caption;h=typeof d=="string"&&d?d.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${((o=r.carousel)===null||o===void 0?void 0:o.pages.length)||1}`,c.src=t||"",c.alt=h,c.draggable=!1,e.srcset&&c.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(c.fetchPriority="high")}e.sizes&&c.setAttribute("sizes",e.sizes)}z(c,"fancybox-image"),e.imageEl=c,r.setContent(e,c,!1),e.panzoom=new mt(l,he({transformParent:!0},this.option("Panzoom")||{},{content:c,width:(h,d)=>r.optionFor(e,"width","auto",d)||"auto",height:(h,d)=>r.optionFor(e,"height","auto",d)||"auto",wheel:()=>{const h=r.option("wheel");return(h==="zoom"||h=="pan")&&h},click:(h,d)=>{var g,b;if(r.isCompact||r.isClosing()||e.index!==((g=r.getSlide())===null||g===void 0?void 0:g.index))return!1;if(d){const w=d.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(w.nodeName))return!1}let p=!d||d.target&&((b=e.contentEl)===null||b===void 0?void 0:b.contains(d.target));return r.option(p?"contentClick":"backdropClick")||!1},dblClick:()=>r.isCompact?"toggleZoom":r.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:h=>{i(h)},error:()=>{n()},destroy:()=>{n()}}}))})}zoomIn(e){return new Promise((t,i)=>{const n=this.instance,o=n.container,{panzoom:r,contentEl:l,el:c}=e;r&&r.updateMetrics();const h=this.getZoomInfo(e);if(!(h&&c&&l&&r&&o))return void i();const{x:d,y:g,scale:b,opacity:p}=h,w=()=>{e.state!==ae.Closing&&(p&&(l.style.opacity=Math.max(Math.min(1,1-(1-r.scale)/(1-b)),0)+""),r.scale>=1&&r.scale>r.targetScale-.1&&t(r))},y=f=>{(f.scale<.99||f.scale>1.01)&&!f.isDragging||(G(o,ui),l.style.opacity="",f.off("endAnimation",y),f.off("touchStart",y),f.off("afterTransform",w),t(f))};r.on("endAnimation",y),r.on("touchStart",y),r.on("afterTransform",w),r.on(["error","destroy"],()=>{i()}),r.panTo({x:d,y:g,scale:b,friction:0,ignoreBounds:!0}),r.stop("current");const a={event:r.panMode==="mousemove"?n.prevMouseMoveEvent||n.options.event:void 0},u=this.optionFor(e,"initialSize");z(o,ui),n.hideLoading(e),u==="full"?r.zoomToFull(a):u==="cover"?r.zoomToCover(a):u==="max"?r.zoomToMax(a):r.reset(.172)})}getZoomInfo(e){const{el:t,imageEl:i,thumbEl:n,panzoom:o}=e,r=this.instance,l=r.container;if(!t||!i||!n||!o||Wo(n)<3||!this.optionFor(e,"zoom")||!l||r.state===re.Destroy||getComputedStyle(l).getPropertyValue("--f-images-zoom")==="0")return!1;const c=window.visualViewport||null;if((c?c.scale:1)!==1)return!1;let{top:h,left:d,width:g,height:b}=n.getBoundingClientRect(),{top:p,left:w,fitWidth:y,fitHeight:a}=o.contentRect;if(!(g&&b&&y&&a))return!1;const u=o.container.getBoundingClientRect();w+=u.left,p+=u.top;const f=-1*(w+.5*y-(d+.5*g)),v=-1*(p+.5*a-(h+.5*b)),m=g/y;let S=this.option("zoomOpacity")||!1;return S==="auto"&&(S=Math.abs(g/b-y/a)>.1),{x:f,y:v,scale:m,opacity:S}}attach(){const e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){const e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}Object.defineProperty(Uo,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;const Zi="html",Nn="image",Gi="map",Ve="youtube",nt="vimeo",It="html5video",Fn=(s,e={})=>{const t=new URL(s),i=new URLSearchParams(t.search),n=new URLSearchParams;for(const[l,c]of[...i,...Object.entries(e)]){let h=c+"";if(l==="t"){let d=h.match(/((\d*)m)?(\d*)s?/);d&&n.set("start",60*parseInt(d[2]||"0")+parseInt(d[3]||"0")+"")}else n.set(l,h)}let o=n+"",r=s.match(/#t=((.*)?\d+s)/);return r&&(o+=`#t=${r[1]}`),o},Zl={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Gl=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Ko extends Pe{onBeforeInitSlide(e,t,i){this.processType(i)}onCreateSlide(e,t,i){this.setContent(i)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);const i=t.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",t.iframeEl=null);const n=t.contentEl,o=t.placeholderEl;if(t.type==="inline"&&n&&o)n.classList.remove("fancybox__content"),getComputedStyle(n).getPropertyValue("display")!=="none"&&(n.style.display="none"),setTimeout(()=>{o&&(n&&o.parentNode&&o.parentNode.insertBefore(n,o),o.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,i){i.state===ae.Ready&&this.playVideo()}onUnselectSlide(e,t,i){var n,o;if(i.type===It){try{(o=(n=i.el)===null||n===void 0?void 0:n.querySelector("video"))===null||o===void 0||o.pause()}catch{}return}let r;i.type===nt?r={method:"pause",value:"true"}:i.type===Ve&&(r={event:"command",func:"pauseVideo"}),r&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(r),"*"),i.poller&&clearTimeout(i.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(i=>{i.el&&(this.resizeIframe(i),this.setAspectRatio(i))})}onMessage(e){try{let t=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(t.event==="ready")for(let i of Array.from(document.getElementsByClassName("fancybox__iframe")))i instanceof HTMLIFrameElement&&i.contentWindow===e.source&&(i.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&t.event==="onReady"){const i=document.getElementById(t.id);i&&(i.dataset.ready="true")}}catch{}}loadAjaxContent(e){const t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);const i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===re.Ready&&(i.hideLoading(e),n.status===200?i.setContent(e,n.responseText):i.setError(e,n.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const o=e.ajax||null;n.open(o?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(o),e.xhr=n}setInlineContent(e){let t=null;if(ce(e.src))t=e.src;else if(typeof e.src=="string"){const i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if(e.type==="clone"||t.closest(".fancybox__slide")){t=t.cloneNode(!0);const i=t.dataset.animationName;i&&(t.classList.remove(i),delete t.dataset.animationName);let n=t.getAttribute("id");n=n?`${n}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",n)}else if(t.parentNode){const i=document.createElement("div");i.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(i,t),e.placeholderEl=i}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){const{src:t,el:i}=e;if(!t||typeof t!="string"||!i)return;i.classList.add("is-loading");const n=this.instance,o=document.createElement("iframe");o.className="fancybox__iframe",o.setAttribute("id",`fancybox__iframe_${n.id}_${e.index}`);for(const[l,c]of Object.entries(this.optionFor(e,"iframeAttr")||{}))o.setAttribute(l,c);o.onerror=()=>{n.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=o;const r=this.optionFor(e,"preload");if(e.type!=="iframe"||r===!1)return o.setAttribute("src",e.src+""),n.setContent(e,o,!1),this.resizeIframe(e),void n.revealContent(e);n.showLoading(e),o.onload=()=>{if(!o.src.length)return;const l=o.dataset.ready!=="true";o.dataset.ready="true",this.resizeIframe(e),l?n.revealContent(e):n.hideLoading(e)},o.setAttribute("src",t),n.setContent(e,o,!1)}resizeIframe(e){const{type:t,iframeEl:i}=e;if(t===Ve||t===nt)return;const n=i==null?void 0:i.parentElement;if(!i||!n)return;let o=e.autoSize;o===void 0&&(o=this.optionFor(e,"autoSize"));let r=e.width||0,l=e.height||0;r&&l&&(o=!1);const c=n&&n.style;if(e.preload!==!1&&o!==!1&&c)try{const h=window.getComputedStyle(n),d=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight),g=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),b=i.contentWindow;if(b){const p=b.document,w=p.getElementsByTagName(Zi)[0],y=p.body;c.width="",y.style.overflow="hidden",r=r||w.scrollWidth+d,c.width=`${r}px`,y.style.overflow="",c.flex="0 0 auto",c.height=`${y.scrollHeight}px`,l=w.scrollHeight+g}}catch{}if(r||l){const h={flex:"0 1 auto",width:"",height:""};r&&r!=="auto"&&(h.width=`${r}px`),l&&l!=="auto"&&(h.height=`${l}px`),Object.assign(c,h)}}playVideo(){const e=this.instance.getSlide();if(!e)return;const{el:t}=e;if(!t||!t.offsetParent||!this.optionFor(e,"videoAutoplay"))return;if(e.type===It)try{const n=t.querySelector("video");if(n){const o=n.play();o!==void 0&&o.then(()=>{}).catch(r=>{n.muted=!0,n.play()})}}catch{}if(e.type!==Ve&&e.type!==nt)return;const i=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let n;if(e.iframeEl.dataset.ready==="true")return n=e.type===Ve?{event:"command",func:"playVideo"}:{method:"play",value:"true"},n&&e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"),void(e.poller=void 0);e.type===Ve&&(n={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"))}e.poller=setTimeout(i,250)};i()}processType(e){if(e.html)return e.type=Zi,e.src=e.html,void(e.html="");const t=this.instance.optionFor(e,"src","");if(!t||typeof t!="string")return;let i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const o=this.optionFor(e,Ve),{nocookie:r}=o,l=function(g,b){var p={};for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&b.indexOf(w)<0&&(p[w]=g[w]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(w=Object.getOwnPropertySymbols(g);y<w.length;y++)b.indexOf(w[y])<0&&Object.prototype.propertyIsEnumerable.call(g,w[y])&&(p[w[y]]=g[w[y]])}return p}(o,["nocookie"]),c=`www.youtube${r?"-nocookie":""}.com`,h=Fn(t,l),d=encodeURIComponent(n[2]);e.videoId=d,e.src=`https://${c}/embed/${d}?${h}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${d}/mqdefault.jpg`,i=Ve}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const o=Fn(t,this.optionFor(e,nt)),r=encodeURIComponent(n[1]),l=n[4]||"";e.videoId=r,e.src=`https://player.vimeo.com/video/${r}?${l?`h=${l}${o?"&":""}`:""}${o}`,i=nt}if(!i&&e.triggerEl){const o=e.triggerEl.dataset.type;Gl.includes(o)&&(i=o)}i||typeof t=="string"&&(t.charAt(0)==="#"?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=It,e.videoFormat=e.videoFormat||"video/"+(n[1]==="ogv"?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=Nn:t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&")}&output=${n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"}`,i=Gi):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace("query=","q=").replace("api=1","")}&output=embed`,i=Gi),i=i||this.instance.option("defaultType"),e.type=i,i===Nn&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){const t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case Zi:this.instance.setContent(e,t);break;case It:const i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case Gi:case Ve:case nt:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){const t=e.contentEl;if(!(e.el&&t&&e.type&&[Ve,nt,It].includes(e.type)))return;let i,n=e.width||"auto",o=e.height||"auto";if(n==="auto"||o==="auto"){i=this.optionFor(e,"videoRatio");const h=(i+"").match(/(\d+)\s*\/\s?(\d+)/);i=h&&h.length>2?parseFloat(h[1])/parseFloat(h[2]):parseFloat(i+"")}else n&&o&&(i=n/o);if(!i)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;const r=t.getBoundingClientRect(),l=r.width||1,c=r.height||1;t.style.aspectRatio=i+"",i<l/c?(o=o==="auto"?c:Math.min(c,o),t.style.width="auto",t.style.height=`${o}px`):(n=n==="auto"?l:Math.min(l,n),t.style.width=`${n}px`,t.style.height="auto")}attach(){const e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){const e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}Object.defineProperty(Ko,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Zl});const fi="play",pi="pause",zt="ready";class Zo extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:zt}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==zt}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,!((e=this.instance.panzoom)===null||e===void 0)&&e.isResting&&this.resume()}onTimerEnd(){const e=this.instance;this.state==="play"&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();const t=this.instance,i=((e=t.pages[t.page])===null||e===void 0?void 0:e.slides)||[];let n=this.option("progressParentEl");if(n||(n=(i.length===1?i[0].el:null)||t.viewport),!n)return null;const o=document.createElement("div");return z(o,"f-progress"),n.prepend(o),this.progressBar=o,o.offsetHeight,o}set(){const e=this,t=e.instance;if(t.pages.length<2||e.timer)return;const i=e.option("timeout");e.state=fi,z(t.container,"has-autoplay");let n=e.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},i),e.emit("set")}clear(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){const e=this;if(e.set(),e.state!==zt){if(e.option("pauseOnHover")){const t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){const e=this,t=e.state,i=e.instance.container;e.clear(),e.state=zt,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),G(i,"has-autoplay"),t!==zt&&e.emit("stop")}pause(){const e=this;e.state===fi&&(e.state=pi,e.clear(),e.emit(pi))}resume(){const e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==fi){if(e.state===pi&&!e.inHover){const i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===fi||this.state===pi?this.stop():this.start()}attach(){const e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){const e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}Object.defineProperty(Zo,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Go extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){const t=e.carousel;if(!t)return;const i=e.container;i&&(t.options.Autoplay=he({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:n=>{var o;i.classList.add("has-slideshow"),((o=e.getSlide())===null||o===void 0?void 0:o.state)!==ae.Ready&&n.pause()},stop:()=>{i.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(n,o)=>{var r,l,c;!o||!o.cancelable||((r=e.getSlide())===null||r===void 0?void 0:r.state)===ae.Ready&&(!((c=(l=e.carousel)===null||l===void 0?void 0:l.panzoom)===null||c===void 0)&&c.isResting)||o.preventDefault()}}}),t.attachPlugins({Autoplay:Zo}),this.ref=t.plugins.Autoplay)}onReady(e){const t=e.carousel,i=this.ref;i&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}onDone(e,t){const i=this.ref,n=e.carousel;if(!i||!n)return;const o=t.panzoom;o&&o.on("startAnimation",()=>{e.isCurrentSlide(t)&&i.stop()}),e.isCurrentSlide(t)&&i.resume()}onKeydown(e,t){var i;const n=this.ref;n&&t===this.option("key")&&((i=document.activeElement)===null||i===void 0?void 0:i.nodeName)!=="BUTTON"&&n.toggle()}attach(){const e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){const e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}Object.defineProperty(Go,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:s=>{var e;return((e=s.instance.container)===null||e===void 0?void 0:e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||s.instance.container},timeout:3e3}});const Jo={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var $e;(function(s){s[s.Init=0]="Init",s[s.Ready=1]="Ready",s[s.Hidden=2]="Hidden"})($e||($e={}));const In="isResting",mi="thumbWidth",St="thumbHeight",Fe="thumbClipWidth";let Qo=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:$e.Init})}get isModern(){return this.type==="modern"}onInitSlide(s,e){const t=e.el?e.el.dataset:void 0;t&&(e.thumbSrc=t.thumbSrc||e.thumbSrc||"",e[Fe]=parseFloat(t[Fe]||"")||e[Fe]||0,e[St]=parseFloat(t.thumbHeight||"")||e[St]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var s;if(!this.isModern)return;const e=this.container,t=this.instance,i=t.panzoom,n=this.carousel,o=n?n.panzoom:null,r=t.page;if(i&&n&&o){if(i.isDragging){G(e,this.cn(In));let l=((s=n.pages[r])===null||s===void 0?void 0:s.pos)||0;l+=t.getProgress(r)*(this[Fe]+this.thumbGap);let c=o.getBounds();-1*l>c.x.min&&-1*l<c.x.max&&o.panTo({x:-1*l,friction:.12})}else Be(e,this.cn(In),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const s of this.instance.slides||[])this.resizeModernSlide(s);this.shiftModern()}isDisabled(){const s=this.option("minCount")||0;if(s){const t=this.instance;let i=0;for(const n of t.slides||[])n.thumbSrc&&i++;if(i<s)return!0}const e=this.option("type");return["modern","classic"].indexOf(e)<0}getThumb(s){const e=this.option("thumbTpl")||"";return{html:this.instance.localize(e,[["%i",s.index],["%d",s.index+1],["%s",s.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(s){const e=this.carousel;e&&e.addSlide(s.index,this.getThumb(s))}getSlides(){const s=[];for(const e of this.instance.slides||[])s.push(this.getThumb(e));return s}resizeModernSlide(s){this.isModern&&(s[mi]=s[Fe]&&s[St]?Math.round(this[St]*(s[Fe]/s[St])):this[mi])}updateProps(){const s=this.container;if(!s)return;const e=t=>parseFloat(getComputedStyle(s).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=e("gap"),this.thumbExtraGap=e("extra-gap"),this[mi]=e("width")||40,this[Fe]=e("clip-width")||40,this[St]=e("height")||40}build(){const s=this;if(s.state!==$e.Init)return;if(s.isDisabled())return void s.emit("disabled");const e=s.instance,t=e.container,i=s.getSlides(),n=s.option("type");s.type=n;const o=s.option("parentEl"),r=s.cn("container"),l=s.cn("track");let c=o==null?void 0:o.querySelector("."+r);c||(c=document.createElement("div"),z(c,r),o?o.appendChild(c):t.after(c)),z(c,`is-${n}`),z(t,s.cn("hasThumbs")),s.container=c,s.updateProps();let h=c.querySelector("."+l);h||(h=document.createElement("div"),z(h,s.cn("track")),c.appendChild(h)),s.track=h;const d=he({},{track:h,infinite:!1,center:!0,fill:n==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},s.option("Carousel")||{},{Sync:{target:e},slides:i}),g=new e.constructor(c,d);g.on("createSlide",(b,p)=>{s.setProps(p.index),s.emit("createSlide",p,p.el)}),g.on("ready",()=>{s.shiftModern(),s.emit("ready")}),g.on("refresh",()=>{s.shiftModern()}),g.on("Panzoom.click",(b,p,w)=>{s.onClick(w)}),s.carousel=g,s.state=$e.Ready}onClick(s){s.preventDefault(),s.stopPropagation();const e=this.instance,{pages:t,page:i}=e,n=y=>{if(y){const a=y.closest("[data-carousel-index]");if(a)return[parseInt(a.dataset.carouselIndex||"",10)||0,a]}return[-1,void 0]},o=(y,a)=>{const u=document.elementFromPoint(y,a);return u?n(u):[-1,void 0]};let[r,l]=n(s.target);if(r>-1)return;const c=this[Fe],h=s.clientX,d=s.clientY;let[g,b]=o(h-c,d),[p,w]=o(h+c,d);b&&w?(r=Math.abs(h-b.getBoundingClientRect().right)<Math.abs(h-w.getBoundingClientRect().left)?g:p,r===i&&(r=r===g?p:g)):b?r=g:w&&(r=p),r>-1&&t[r]&&e.slideTo(r)}getShift(s){var e;const t=this,{instance:i}=t,n=t.carousel;if(!i||!n)return 0;const o=t[mi],r=t[Fe],l=t.thumbGap,c=t.thumbExtraGap;if(!(!((e=n.slides[s])===null||e===void 0)&&e.el))return 0;const h=.5*(o-r),d=i.pages.length-1;let g=i.getProgress(0),b=i.getProgress(d),p=i.getProgress(s,!1,!0),w=0,y=h+c+l;const a=g<0&&g>-1,u=b>0&&b<1;return s===0?(w=y*Math.abs(g),u&&g===1&&(w-=y*Math.abs(b))):s===d?(w=y*Math.abs(b)*-1,a&&b===-1&&(w+=y*Math.abs(g))):a||u?(w=-1*y,w+=y*Math.abs(g),w+=y*(1-Math.abs(b))):w=y*p,w}setProps(s){var e;const t=this;if(!t.isModern)return;const{instance:i}=t,n=t.carousel;if(i&&n){const o=(e=n.slides[s])===null||e===void 0?void 0:e.el;if(o&&o.childNodes.length){let r=L(1-Math.abs(i.getProgress(s))),l=L(t.getShift(s));o.style.setProperty("--progress",r?r+"":""),o.style.setProperty("--shift",l+"")}}}shiftModern(){const s=this;if(!s.isModern)return;const{instance:e,track:t}=s,i=e.panzoom,n=s.carousel;if(!(e&&t&&i&&n)||i.state===J.Init||i.state===J.Destroy)return;for(const r of e.slides)s.setProps(r.index);let o=(s[Fe]+s.thumbGap)*(n.slides.length||0);t.style.setProperty("--width",o+"")}cleanup(){const s=this;s.carousel&&s.carousel.destroy(),s.carousel=null,s.container&&s.container.remove(),s.container=null,s.track&&s.track.remove(),s.track=null,s.state=$e.Init,G(s.instance.container,s.cn("hasThumbs"))}attach(){const s=this,e=s.instance;e.on("initSlide",s.onInitSlide),e.state===oe.Init?e.on("initSlides",s.onInitSlides):s.onInitSlides(),e.on(["change","Panzoom.afterTransform"],s.onChange),e.on("Panzoom.refresh",s.onRefresh)}detach(){const s=this,e=s.instance;e.off("initSlide",s.onInitSlide),e.off("initSlides",s.onInitSlides),e.off(["change","Panzoom.afterTransform"],s.onChange),e.off("Panzoom.refresh",s.onRefresh),s.cleanup()}};Object.defineProperty(Qo,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Jo});const Jl=Object.assign(Object.assign({},Jo),{key:"t",showOnStart:!0,parentEl:null}),zn="is-masked",Bn="aria-hidden";class er extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var i,n,o;const r=((o=(n=(i=this.instance)===null||i===void 0?void 0:i.carousel)===null||n===void 0?void 0:n.slides[t.index])===null||o===void 0?void 0:o.type)||"",l=t.el;if(l&&r){let c=`for-${r}`;["video","youtube","vimeo","html5video"].includes(r)&&(c+=" for-video"),z(l,c)}}onInit(){var e;const t=this,i=t.instance,n=i.carousel;if(t.ref||!n)return;const o=t.option("parentEl")||i.footer||i.container;if(!o)return;const r=he({},t.options,{parentEl:o,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:i.option("Carousel.friction")||0}},on:{ready:l=>{const c=l.container;c&&this.hidden&&(t.refresh(),c.style.transition="none",t.hide(),c.offsetHeight,queueMicrotask(()=>{c.style.transition="",t.show()}))}}});r.Carousel=r.Carousel||{},r.Carousel.on=he(((e=t.options.Carousel)===null||e===void 0?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=r,n.attachPlugins({Thumbs:Qo}),t.ref=n.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=$e.Hidden,t.hidden=!0)}onResize(){var e;const t=(e=this.ref)===null||e===void 0?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){const i=this.option("key");i&&i===t&&this.toggle()}toggle(){const e=this.ref;if(e&&!e.isDisabled())return e.state===$e.Hidden?(e.state=$e.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){const e=this.ref;if(!e||e.isDisabled())return;const t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(Bn),t.classList.remove(zn),this.hidden=!1)}hide(){const e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(zn),t.setAttribute(Bn,"true")),this.hidden=!0}refresh(){const e=this.ref;if(!e||!e.state)return;const t=e.container,i=(t==null?void 0:t.firstChild)||null;t&&i&&i.childNodes.length&&(t.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){const e=this,t=e.instance;t.state===re.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;const t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),(e=i.carousel)===null||e===void 0||e.detachPlugins(["Thumbs"]),t.ref=null}}Object.defineProperty(er,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Jl});const Ji={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var ct;(function(s){s[s.Init=0]="Init",s[s.Ready=1]="Ready",s[s.Disabled=2]="Disabled"})(ct||(ct={}));const Ql={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},ec={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Hn="has-toolbar",Qi="fancybox__toolbar";class tr extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ct.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let i=this.option("display"),n=this.option("absolute"),o=this.option("enabled");if(o==="auto"){const h=this.instance.carousel;let d=0;if(h)for(const g of h.slides)(g.panzoom||g.type==="image")&&d++;d||(o=!1)}o||(i=void 0);let r=0;const l={left:[],middle:[],right:[]};if(i)for(const h of["left","middle","right"])for(const d of i[h]){const g=this.createEl(d);g&&((t=l[h])===null||t===void 0||t.push(g),r++)}let c=null;if(r&&(c=this.createContainer()),c){for(const[h,d]of Object.entries(l)){const g=document.createElement("div");z(g,Qi+"__column is-"+h);for(const b of d)g.appendChild(b);n!=="auto"||h!=="middle"||d.length||(n=!0),c.appendChild(g)}n===!0&&z(c,"is-absolute"),this.state=ct.Ready,this.onRefresh()}else this.state=ct.Disabled}onClick(e){var t,i;const n=this.instance,o=n.getSlide(),r=o==null?void 0:o.panzoom,l=e.target,c=l&&ce(l)?l.dataset:null;if(!c)return;if(c.fancyboxToggleThumbs!==void 0)return e.preventDefault(),e.stopPropagation(),void((t=n.plugins.Thumbs)===null||t===void 0||t.toggle());if(c.fancyboxToggleFullscreen!==void 0)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(c.fancyboxToggleSlideshow!==void 0){e.preventDefault(),e.stopPropagation();const g=(i=n.carousel)===null||i===void 0?void 0:i.plugins.Autoplay;let b=g.isActive;return r&&r.panMode==="mousemove"&&!b&&r.reset(),void(b?g.stop():g.start())}const h=c.panzoomAction,d=c.panzoomChange;if((d||h)&&(e.preventDefault(),e.stopPropagation()),d){let g={};try{g=JSON.parse(d)}catch{}r&&r.applyChange(g)}else h&&r&&r[h]&&r[h]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const e=this.container;if(!e)return;const t=this.instance.getSlide();if(!t||t.state!==ae.Ready)return;const i=t&&!t.error&&t.panzoom;for(const r of e.querySelectorAll("[data-panzoom-action]"))i?(r.removeAttribute("disabled"),r.removeAttribute("tabindex")):(r.setAttribute("disabled",""),r.setAttribute("tabindex","-1"));let n=i&&i.canZoomIn(),o=i&&i.canZoomOut();for(const r of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))n?(r.removeAttribute("disabled"),r.removeAttribute("tabindex")):(r.setAttribute("disabled",""),r.setAttribute("tabindex","-1"));for(const r of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))o?(r.removeAttribute("disabled"),r.removeAttribute("tabindex")):(r.setAttribute("disabled",""),r.setAttribute("tabindex","-1"));for(const r of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){o||n?(r.removeAttribute("disabled"),r.removeAttribute("tabindex")):(r.setAttribute("disabled",""),r.setAttribute("tabindex","-1"));const l=r.querySelector("g");l&&(l.style.display=n?"":"none")}}onDone(e,t){var i;(i=t.panzoom)===null||i===void 0||i.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){const e=this.instance.container;if(!e)return null;const t=this.option("parentEl")||e;let i=t.querySelector("."+Qi);return i||(i=document.createElement("div"),z(i,Qi),t.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&z(e,Hn),this.container=i,i}createEl(e){const t=this.instance,i=t.carousel;if(!i||e==="toggleFS"||e==="fullscreen"&&!Vo())return null;let n=null;const o=i.slides.length||0;let r=0,l=0;for(const h of i.slides)(h.panzoom||h.type==="image")&&r++,(h.type==="image"||h.downloadSrc)&&l++;if(o<2&&["infobar","prev","next"].includes(e))return n;if(Ji[e]!==void 0&&!r||e==="download"&&!l)return null;if(e==="thumbs"){const h=t.plugins.Thumbs;if(!h||!h.isEnabled)return null}if(e==="slideshow"&&(!i.plugins.Autoplay||o<2))return null;if(Ji[e]!==void 0){const h=Ji[e];n=document.createElement("button"),n.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),z(n,"f-button"),h.action&&(n.dataset.panzoomAction=h.action),h.change&&(n.dataset.panzoomChange=JSON.stringify(h.change)),n.appendChild(ze(this.instance.localize(h.icon)))}else{const h=(this.option("items")||[])[e];h&&(n=ze(this.instance.localize(h.tpl)),typeof h.click=="function"&&n.addEventListener("click",d=>{d.preventDefault(),d.stopPropagation(),typeof h.click=="function"&&h.click.call(this,this,d)}))}const c=n==null?void 0:n.querySelector("svg");if(c)for(const[h,d]of Object.entries(ec))c.getAttribute(h)||c.setAttribute(h,String(d));return n}removeContainer(){const e=this.container;e&&e.remove(),this.container=null,this.state=ct.Disabled;const t=this.instance.container;t&&G(t,Hn)}attach(){const e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){const e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}Object.defineProperty(tr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ql});const tc={Hash:class extends Pe{onReady(){Bt=!1}onChange(s){lt&&clearTimeout(lt);const{hash:e}=$o(),{hash:t}=Di(),i=s.isOpeningSlide(s.getSlide());i&&(kn=t===e?"":t),e&&e!==t&&(lt=setTimeout(()=>{try{if(s.state===re.Ready){let n="replaceState";i&&!di&&(n="pushState",di=!0),window.history[n]({},document.title,window.location.pathname+window.location.search+e)}}catch{}},300))}onClose(s){if(lt&&clearTimeout(lt),!Bt&&di)return di=!1,Bt=!1,void window.history.back();if(!Bt)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(kn||""))}catch{}}attach(){const s=this.instance;s.on("ready",this.onReady),s.on(["Carousel.ready","Carousel.change"],this.onChange),s.on("close",this.onClose)}detach(){const s=this.instance;s.off("ready",this.onReady),s.off(["Carousel.ready","Carousel.change"],this.onChange),s.off("close",this.onClose)}static parseURL(){return Di()}static startFromUrl(){Yo()}static destroy(){window.removeEventListener("hashchange",Xo,!1)}},Html:Ko,Images:Uo,Slideshow:Go,Thumbs:er,Toolbar:tr},jn="with-fancybox",es="hide-scrollbar",_n="--fancybox-scrollbar-compensate",Wn="--fancybox-body-margin",ts="aria-hidden",is="is-using-tab",ss="is-animated",Vn="is-compact",$n="is-loading",ns="is-opening",gi="has-caption",Et="disabled",ot="tabindex",Yn="download",os="href",Ot="src",Qe=s=>typeof s=="string",qn=function(){var s=window.getSelection();return!!s&&s.type==="Range"};let Se,Ee=null,rt=null,Xn=0,Un=0,Kn=0,Zn=0;const Tt=new Map;let ic=0;class X extends Rs{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},i={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:re.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Se||(Se=Vo()),this.id=t.id||++ic,Tt.set(this.id,this),this.userSlides=e,this.userPlugins=i,queueMicrotask(()=>{this.init()})}init(){if(this.state===re.Destroy)return;this.state=re.Init,this.attachPlugins(Object.assign(Object.assign({},X.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!$t)return;const t=document,i=t.body,n=t.documentElement;if(i.classList.contains(es))return;let o=window.innerWidth-n.getBoundingClientRect().width;const r=parseFloat(window.getComputedStyle(i).marginRight);o<0&&(o=0),n.style.setProperty(_n,`${o}px`),r&&i.style.setProperty(Wn,`${r}px`),i.classList.add(es)})(),this.initLayout(),this.scale();const e=()=>{this.initCarousel(this.userSlides),this.state=re.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(ts,"false")},16)};this.option("Fullscreen.autoStart")&&Se&&!Se.isFullscreen()?Se.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;const i=this.option("parentEl")||document.body,n=ze(this.localize(this.option("tpl.main")||""));if(n){if(n.setAttribute("id",`fancybox-${this.id}`),n.setAttribute("aria-label",this.localize("{{MODAL}}")),n.classList.toggle(Vn,this.isCompact),z(n,this.option("mainClass")||""),z(n,ns),this.container=n,this.footer=n.querySelector(".fancybox__footer"),i.appendChild(n),z(document.documentElement,jn),Ee&&rt||(Ee=document.createElement("span"),z(Ee,"fancybox-focus-guard"),Ee.setAttribute(ot,"0"),Ee.setAttribute(ts,"true"),Ee.setAttribute("aria-label","Focus guard"),rt=Ee.cloneNode(),(e=n.parentElement)===null||e===void 0||e.insertBefore(Ee,n),(t=n.parentElement)===null||t===void 0||t.append(rt)),n.addEventListener("mousedown",o=>{Xn=o.pageX,Un=o.pageY,G(n,is)}),this.option("closeExisting"))for(const o of Tt.values())o.id!==this.id&&o.close();else this.option("animated")&&(z(n,ss),setTimeout(()=>{this.isClosing()||G(n,ss)},350));this.emit("initLayout")}}initCarousel(e){const t=this.container;if(!t)return;const i=t.querySelector(".fancybox__carousel");if(!i)return;const n=this.carousel=new ut(i,he({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));n.on("*",(o,r,...l)=>{this.emit(`Carousel.${r}`,o,...l)}),n.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(o,r,l)=>{this.clearContent(l),l.state=void 0}),n.on("Panzoom.touchStart",()=>{var o,r;this.isCompact||this.endIdle(),!((o=document.activeElement)===null||o===void 0)&&o.closest(".f-thumbs")&&((r=this.container)===null||r===void 0||r.focus())}),n.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(n.on("Panzoom.afterTransform",(o,r)=>{const l=this.getSlide();if(l&&ps(l.el))return;const c=this.container;if(c){const h=Math.abs(r.current.f),d=h<1?"":Math.max(.5,Math.min(1,1-h/r.contentRect.fitHeight*1.5));c.style.setProperty("--fancybox-ts",d?"0s":""),c.style.setProperty("--fancybox-opacity",d+"")}}),n.on("Panzoom.touchEnd",(o,r,l)=>{var c;const h=this.getSlide();if(h&&ps(h.el)||r.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((c=document.activeElement)===null||c===void 0?void 0:c.nodeName)!==-1)return;const d=Math.abs(r.dragOffset.y);r.lockedAxis==="y"&&(d>=200||d>=50&&r.dragOffset.time<300)&&(l&&l.cancelable&&l.preventDefault(),this.close(l,"f-throwOut"+(r.current.f<0?"Up":"Down")))})),n.on("change",o=>{var r;let l=(r=this.getSlide())===null||r===void 0?void 0:r.triggerEl;if(l){const c=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:o.page});l.dispatchEvent(c)}}),n.on(["refresh","change"],o=>{const r=this.container;if(!r)return;for(const h of r.querySelectorAll("[data-fancybox-current-index]"))h.innerHTML=o.page+1;for(const h of r.querySelectorAll("[data-fancybox-count]"))h.innerHTML=o.pages.length;if(!o.isInfinite){for(const h of r.querySelectorAll("[data-fancybox-next]"))o.page<o.pages.length-1?(h.removeAttribute(Et),h.removeAttribute(ot)):(h.setAttribute(Et,""),h.setAttribute(ot,"-1"));for(const h of r.querySelectorAll("[data-fancybox-prev]"))o.page>0?(h.removeAttribute(Et),h.removeAttribute(ot)):(h.setAttribute(Et,""),h.setAttribute(ot,"-1"))}const l=this.getSlide();if(!l)return;let c=l.downloadSrc||"";c||l.type!=="image"||l.error||!Qe(l[Ot])||(c=l[Ot]);for(const h of r.querySelectorAll("[data-fancybox-download]")){const d=l.downloadFilename;c?(h.removeAttribute(Et),h.removeAttribute(ot),h.setAttribute(os,c),h.setAttribute(Yn,d||c),h.setAttribute("target","_blank")):(h.setAttribute(Et,""),h.setAttribute(ot,"-1"),h.removeAttribute(os),h.removeAttribute(Yn))}}),this.emit("initCarousel")}attachEvents(){const e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);const i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}detachEvents(){const e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);const i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){const e=this.container;if(!e)return;const t=window.visualViewport,i=Math.max(1,(t==null?void 0:t.scale)||1);let n="",o="",r="";if(t&&i>1){let l=`${t.offsetLeft}px`,c=`${t.offsetTop}px`;n=t.width*i+"px",o=t.height*i+"px",r=`translate3d(${l}, ${c}, 0) scale(${1/i})`}e.style.transform=r,e.style.width=n,e.style.height=o}onClick(e){var t;const{container:i,isCompact:n}=this;if(!i||this.isClosing())return;!n&&this.option("idle")&&this.resetIdle();const o=e.composedPath()[0];if(o.closest(".fancybox-spinner")||o.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(o.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(o.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(e.type==="click"&&e.detail===0||Math.abs(e.pageX-Xn)>30||Math.abs(e.pageY-Un)>30)return;const r=document.activeElement;if(qn()&&r&&i.contains(r))return;if(n&&((t=this.getSlide())===null||t===void 0?void 0:t.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let l=!1;if(o.closest(".fancybox__content")){if(r){if(r.closest("[contenteditable]"))return;o.matches(Ki)||r.blur()}if(qn())return;l=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(Ki)&&(l=this.option("backdropClick"));l==="close"?(e.preventDefault(),this.close(e)):l==="next"?(e.preventDefault(),this.next()):l==="prev"&&(e.preventDefault(),this.prev())}onWheel(e){const t=e.target;let i=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(i="slide");const n=i==="slide",o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(c,h){return Math.abs(h)>Math.abs(c)?h:c}),r=Math.max(-1,Math.min(1,o)),l=Date.now();this.pwt&&l-this.pwt<300?n&&e.preventDefault():(this.pwt=l,this.emit("wheel",e,r),e.defaultPrevented||(i==="close"?(e.preventDefault(),this.close(e)):i==="slide"&&(Ti(t)||(e.preventDefault(),this[r>0?"prev":"next"]()))))}onScroll(){window.scrollTo(Kn,Zn)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const t=e.key,i=this.option("keyboard");if(!i)return;const n=e.composedPath()[0],o=document.activeElement&&document.activeElement.classList,r=o&&o.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if(t!=="Escape"&&!r&&ce(n)&&(n.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName)!==-1)||(e.key==="Tab"?z(this.container,is):G(this.container,is),e.ctrlKey||e.altKey||e.shiftKey))return;this.emit("keydown",t,e);const l=i[t];l&&typeof this[l]=="function"&&(e.preventDefault(),this[l]())}onResize(){const e=this.container;if(!e)return;const t=this.isCompact;e.classList.toggle(Vn,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(e){const t=this.optionFor(e,"closeButton")||!1;if(t==="auto"){const n=this.plugins.Toolbar;if(n&&n.state===ct.Ready)return}if(!t||!e.contentEl||e.closeBtnEl)return;const i=this.option("tpl.closeButton");if(i){const n=ze(this.localize(i));e.closeBtnEl=e.contentEl.appendChild(n),e.el&&z(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,i;const n="fancybox__caption",o=this.container;if(!o)return;G(o,gi);const r=this.isCompact||this.option("commonCaption"),l=!r;if(this.caption&&this.stop(this.caption),l&&this.caption&&(this.caption.remove(),this.caption=null),r&&!this.caption)for(const g of((t=this.carousel)===null||t===void 0?void 0:t.slides)||[])g.captionEl&&(g.captionEl.remove(),g.captionEl=void 0,G(g.el,gi),(i=g.el)===null||i===void 0||i.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||r&&!this.isCurrentSlide(e))return;const c=e.el;let h=this.optionFor(e,"caption","");if(!h)return void(r&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let d=null;if(l){if(d=e.captionEl||null,c&&!d){const g=n+`_${this.id}_${e.index}`;d=document.createElement("div"),z(d,n),d.setAttribute("id",g),e.captionEl=c.appendChild(d),z(c,gi),c.setAttribute("aria-labelledby",g)}}else d=this.caption,d||(d=o.querySelector("."+n)),!d&&(d=document.createElement("div"),d.dataset.fancyboxCaption="",z(d,n),(this.footer||o).prepend(d)),z(o,gi),this.caption=d;d&&(d.innerHTML="",Qe(h)||typeof h=="number"?d.innerHTML=h+"":h instanceof HTMLElement&&d.appendChild(h))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;const i=document.activeElement||null,n=(e==null?void 0:e.target)||null,o=this.container,r=(t=this.carousel)===null||t===void 0?void 0:t.viewport;if(!o||!r||!e&&i&&o.contains(i))return;const l=this.getSlide(),c=l&&l.state===ae.Ready?l.el:null;if(!c||c.contains(i)||o===i)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;const h=Array.from(o.querySelectorAll(Ki));let d=[],g=null;for(let p of h){const w=!p.offsetParent||!!p.closest('[aria-hidden="true"]'),y=c&&c.contains(p),a=!r.contains(p);if(p===o||(y||a)&&!w){d.push(p);const u=p.dataset.origTabindex;u!==void 0&&u&&(p.tabIndex=parseFloat(u)),p.removeAttribute("data-orig-tabindex"),!p.hasAttribute("autoFocus")&&g||(g=p)}else{const u=p.dataset.origTabindex===void 0?p.getAttribute("tabindex")||"":p.dataset.origTabindex;u&&(p.dataset.origTabindex=u),p.tabIndex=-1}}let b=null;e?(!n||d.indexOf(n)<0)&&(b=g||o,d.length&&(i===rt?b=d[0]:this.lastFocus!==o&&i!==Ee||(b=d[d.length-1]))):b=l&&l.type==="image"?o:g||o,b&&Pn(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return((e=X.getInstance())===null||e===void 0?void 0:e.id)==this.id}animate(e=null,t="",i){if(!e||!t)return void(i&&i());this.stop(e);const n=o=>{o.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),G(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),z(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",i=!0){if(this.isClosing())return;const n=e.el;if(!n)return;let o=null;if(ce(t)?o=t:(o=ze(t+""),ce(o)||(o=document.createElement("div"),o.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){const r=document.createElement("div");r.appendChild(o),o=r}ce(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&ce(o)?(z(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),n.classList.add(`has-${e.error?"error":e.type||"unknown"}`),n.prepend(o),o.style.display==="none"&&(o.style.display=""),getComputedStyle(o).getPropertyValue("display")==="none"&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){const i=e.el,n=e.contentEl;i&&n&&(this.emit("reveal",e),this.hideLoading(e),e.state=ae.Opening,(t=this.isOpeningSlide(e)?t===void 0?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(n,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=ae.Ready,this.emit("done",e),z(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;(t=e.panzoom)===null||t===void 0||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(G(this.container,ns),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){const t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,i;return((t=this.carousel)===null||t===void 0?void 0:t.prevPage)===null&&e&&e.index===((i=this.getSlide())===null||i===void 0?void 0:i.index)}showLoading(e){e.state=ae.Loading;const t=e.el;t&&(z(t,$n),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===ae.Loading){let i=ze(Ns);z(i,"fancybox-spinner"),e.spinnerEl=i,t.prepend(i),this.animate(i,"f-fadeIn")}},250))}hideLoading(e){const t=e.el;if(!t)return;const i=e.spinnerEl;this.isClosing()?i==null||i.remove():(G(t,$n),i&&this.animate(i,"f-fadeOut",()=>{i.remove()}),e.state===ae.Loading&&(this.emit("loaded",e),e.state=ae.Ready))}setError(e,t){if(this.isClosing())return;const i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),i.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);const n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}clearContent(e){if(e.state===void 0)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);const t=e.el;t&&(G(t,"has-error"),G(t,"has-unknown"),G(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;const t=this.carousel;return((e=t==null?void 0:t.pages[t==null?void 0:t.page])===null||e===void 0?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;const i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,e),i.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());const n=()=>{this.proceedClose(e,t)};this.startedFs&&Se&&Se.isFullscreen()?Promise.resolve(Se.exit()).then(()=>n()):n()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){const t=()=>{this.clearIdle(),this.idle=!0,z(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{const i=this.option("idle");i&&(this.idleTimer=setTimeout(t,i))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,G(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){Se&&(Se.isFullscreen()?Se.exit():Se.request().then(()=>{this.startedFs=!0}))}isClosing(){return[re.Closing,re.CustomClosing,re.Destroy].includes(this.state)}proceedClose(e,t){var i,n;this.state=re.Closing,this.clearIdle(),this.detachEvents();const o=this.container,r=this.carousel,l=this.getSlide(),c=l&&this.option("placeFocusBack")?l.triggerEl||this.option("triggerEl"):null;if(c&&(Wo(c)?Pn(c):c.focus()),o&&(G(o,ns),z(o,"is-closing"),o.setAttribute(ts,"true"),this.option("animated")&&z(o,ss),o.style.pointerEvents="none"),r){r.clearTransitions(),(i=r.panzoom)===null||i===void 0||i.destroy(),(n=r.plugins.Navigation)===null||n===void 0||n.detach();for(const h of r.slides){h.state=ae.Closing,this.hideLoading(h);const d=h.contentEl;d&&this.stop(d);const g=h==null?void 0:h.panzoom;g&&(g.stop(),g.detachEvents(),g.detachObserver()),this.isCurrentSlide(h)||r.emit("removeSlide",h)}}Kn=window.scrollX,Zn=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==re.CustomClosing?(t===void 0&&l&&(t=this.optionFor(l,"hideClass")),t&&l?(this.animate(l.contentEl,t,()=>{r&&r.emit("removeSlide",l)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===re.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=re.Destroy,(e=this.carousel)===null||e===void 0||e.destroy();const t=this.container;t&&t.remove(),Tt.delete(this.id);const i=X.getInstance();i?i.focus():(Ee&&(Ee.remove(),Ee=null),rt&&(rt.remove(),rt=null),G(document.documentElement,jn),(()=>{if(!$t)return;const n=document,o=n.body;o.classList.remove(es),o.style.setProperty(Wn,""),n.documentElement.style.setProperty(_n,"")})(),this.emit("destroy"))}static bind(e,t,i){if(!$t)return;let n,o="",r={};if(e===void 0?n=document.body:Qe(e)?(n=document.body,o=e,typeof t=="object"&&(r=t||{})):(n=e,Qe(t)&&(o=t),typeof i=="object"&&(r=i||{})),!n||!ce(n))return;o=o||"[data-fancybox]";const l=X.openers.get(n)||new Map;l.set(o,r),X.openers.set(n,l),l.size===1&&n.addEventListener("click",X.fromEvent)}static unbind(e,t){let i,n="";if(Qe(e)?(i=document.body,n=e):(i=e,Qe(t)&&(n=t)),!i)return;const o=X.openers.get(i);o&&n&&o.delete(n),n&&o||(X.openers.delete(i),i.removeEventListener("click",X.fromEvent))}static destroy(){let e;for(;e=X.getInstance();)e.destroy();for(const t of X.openers.keys())t.removeEventListener("click",X.fromEvent);X.openers=new Map}static fromEvent(e){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const i=t.closest("[data-fancybox-trigger]");if(i){const w=i.dataset.fancyboxTrigger||"",y=document.querySelectorAll(`[data-fancybox="${w}"]`),a=parseInt(i.dataset.fancyboxIndex||"",10)||0;t=y[a]||t}if(!(t&&t instanceof Element))return;let n,o,r,l;if([...X.openers].reverse().find(([w,y])=>!(!w.contains(t)||![...y].reverse().find(([a,u])=>{let f=t.closest(a);return!!f&&(n=w,o=a,r=f,l=u,!0)}))),!n||!o||!r)return;l=l||{},e.preventDefault(),t=r;let c=[],h=he({},gs,l);h.event=e,h.triggerEl=t,h.delegate=i;const d=h.groupAll,g=h.groupAttr,b=g&&t?t.getAttribute(`${g}`):"";if((!t||b||d)&&(c=[].slice.call(n.querySelectorAll(o))),t&&!d&&(c=b?c.filter(w=>w.getAttribute(`${g}`)===b):[t]),!c.length)return;const p=X.getInstance();return p&&p.options.triggerEl&&c.indexOf(p.options.triggerEl)>-1?void 0:(t&&(h.startIndex=c.indexOf(t)),X.fromNodes(c,h))}static fromSelector(e,t,i){let n=null,o="",r={};if(Qe(e)?(n=document.body,o=e,typeof t=="object"&&(r=t||{})):e instanceof HTMLElement&&Qe(t)&&(n=e,o=t,typeof i=="object"&&(r=i||{})),!n||!o)return!1;const l=X.openers.get(n);return!!l&&(r=he({},l.get(o)||{},r),!!r&&X.fromNodes(Array.from(n.querySelectorAll(o)),r))}static fromNodes(e,t){t=he({},gs,t||{});const i=[];for(const n of e){const o=n.dataset||{},r=o[Ot]||n.getAttribute(os)||n.getAttribute("currentSrc")||n.getAttribute(Ot)||void 0;let l;const c=t.delegate;let h;c&&i.length===t.startIndex&&(l=c instanceof HTMLImageElement?c:c.querySelector("img:not([aria-hidden])")),l||(l=n instanceof HTMLImageElement?n:n.querySelector("img:not([aria-hidden])")),l&&(h=l.currentSrc||l[Ot]||void 0,!h&&l.dataset&&(h=l.dataset.lazySrc||l.dataset[Ot]||void 0));const d={src:r,triggerEl:n,thumbEl:l,thumbElSrc:h,thumbSrc:h};for(const g in o){let b=o[g]+"";b=b!=="false"&&(b==="true"||b),d[g]=b}i.push(d)}return new X(i,t)}static getInstance(e){return e?Tt.get(e):Array.from(Tt.values()).reverse().find(t=>!t.isClosing()&&t)||null}static getSlide(){var e;return((e=X.getInstance())===null||e===void 0?void 0:e.getSlide())||null}static show(e=[],t={}){return new X(e,t)}static next(){const e=X.getInstance();e&&e.next()}static prev(){const e=X.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(const i of Tt.values())i.close(...t);else{const i=X.getInstance();i&&i.close(...t)}}}Object.defineProperty(X,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(X,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:gs}),Object.defineProperty(X,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:tc}),Object.defineProperty(X,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});window.DatepickerInit=fa;X.bind("[data-fancyboxModal]",{dragToClose:!1,closeButton:!1,on:{done:(s,e)=>{document.querySelector(".fancybox__content").setAttribute("data-lenis-prevent-wheel","true")}}});X.bind("[data-fancybox]",{on:{done:(s,e)=>{document.querySelector(".fancybox__content").setAttribute("data-lenis-prevent-wheel","true")}}});window.Fancybox=X;window.SlimSelect=[];window.SlimSelectInit=to;document.querySelectorAll("[data-select]").forEach(s=>{let e="";s.dataset.placeholdertext&&(e=s.dataset.placeholdertext);let t=new to({select:s,settings:{showSearch:!0,searchHighlight:!0,placeholderText:e}});s.parentElement.classList.add("active"),t.render.content.main&&t.render.content.main.querySelector(".ss-list").setAttribute("data-lenis-prevent-wheel","true"),window.SlimSelect.push(t)});const sc=(s,e,t=!1)=>{const i=new dr({el:s,value:0,format:t?"(dd).dd":"dd"}),n={threshold:[0,.9]},o=(l,c)=>{l.forEach(h=>{h.isIntersecting?i.update(e):i.update(0)})};new IntersectionObserver(o,n).observe(s)};let nc=document.querySelectorAll("[data-animcount]");nc.forEach(s=>{let e=Number(s.dataset.animcount);sc(s.querySelector("i"),e,!Number.isInteger(e))});Sr(function(){Pr()});let oc=document.querySelectorAll("[data-avatardrop]");oc.forEach(s=>{console.log(s.dataset.avatardrop);let e=document.getElementById(s.dataset.avatardrop);e&&Jt(s,{content:e.innerHTML,allowHTML:!0,interactive:!0,appendTo:()=>document.body,trigger:" click"})});
